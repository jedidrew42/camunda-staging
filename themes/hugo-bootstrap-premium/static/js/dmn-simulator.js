!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=157)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.prototype.toString,r=Object.prototype.hasOwnProperty;function i(e){return void 0===e}function a(e){return"[object Array]"===o.call(e)}function u(e){return"[object Object]"===o.call(e)}function s(e){var t=o.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function c(e){if(!a(e))throw new Error("must supply array")}function l(e,t){return r.call(e,t)}function d(e,t){var n;return t=w(t),f(e,(function(e,o){if(t(e,o))return n=e,!1})),n}function f(e,t){var n;if(!i(e)){var o=a(e)?O:x;for(var r in e)if(l(e,r)&&!1===t(n=e[r],o(r)))return n}}function p(e,t,n){return f(e,(function(e,o){n=t(n,e,o)})),n}function h(e,t){return!!p(e,(function(e,n,o){return e&&t(n,o)}),!0)}function y(e,t){var n=[];return f(e,(function(e,o){n.push(t(e,o))})),n}function v(e){return e&&Object.keys(e)||[]}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=_(t),f(e,(function(e){var o=t(e)||"_",r=n[o];r||(r=n[o]=[]),r.push(e)})),n}function g(e){e=_(e);for(var t={},n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];f(o,(function(n){return m(n,e,t)}));var i=y(t,(function(e,t){return e[0]}));return i}var b=g;function _(e){return s(e)?e:function(t){return t[e]}}function w(e){return s(e)?e:function(t){return t===e}}function x(e){return e}function O(e){return Number(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}t.flatten=function(e){return Array.prototype.concat.apply([],e)},t.find=d,t.findIndex=function(e,t){t=w(t);var n=a(e)?-1:void 0;return f(e,(function(e,o){if(t(e,o))return n=o,!1})),n},t.filter=function(e,t){var n=[];return f(e,(function(e,o){t(e,o)&&n.push(e)})),n},t.forEach=f,t.without=function(e,t){return i(e)?[]:(c(e),t=w(t),e.filter((function(e,n){return!t(e,n)})))},t.reduce=p,t.every=h,t.some=function(e,t){return!!d(e,t)},t.map=y,t.keys=v,t.size=function(e){return v(e).length},t.values=function(e){return y(e,(function(e){return e}))},t.groupBy=m,t.uniqueBy=g,t.unionBy=b,t.sortBy=function(e,t){t=_(t);var n=[];return f(e,(function(e,o){for(var r=t(e,o),i={d:r,v:e},a=0;a<n.length;a++){if(r<n[a].d)return void n.splice(a,0,i)}n.push(i)})),y(n,(function(e){return e.v}))},t.matchPattern=function(e){return function(t){return h(e,(function(e,n){return t[n]===e}))}},t.debounce=function(e,t){var n,o,r,i;function a(){var a=Date.now(),s=i+t-a;if(s>0)return u(s);e.apply(r,o),n=i=o=r=void 0}function u(e){n=setTimeout(a,e)}return function(){i=Date.now();for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];o=a,r=this,n||u(t)}},t.throttle=function(e,t){var n=!1;return function(){n||(e.apply(void 0,arguments),n=!0,setTimeout((function(){n=!1}),t))}},t.bind=function(e,t){return e.bind(t)},t.isUndefined=i,t.isDefined=function(e){return void 0!==e},t.isNil=function(e){return null==e},t.isArray=a,t.isObject=u,t.isNumber=function(e){return"[object Number]"===o.call(e)},t.isFunction=s,t.isString=function(e){return"[object String]"===o.call(e)},t.ensureArray=c,t.has=l,t.assign=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return E.apply(void 0,[e].concat(n))},t.pick=function(e,t){var n={},o=Object(e);return f(t,(function(t){t in o&&(n[t]=e[t])})),n},t.omit=function(e,t){var n={};return f(Object(e),(function(e,o){-1===t.indexOf(o)&&(n[o]=e)})),n},t.merge=function e(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return o.length?(f(o,(function(n){n&&u(n)&&f(n,(function(n,o){if("__proto__"!==o){var r=t[o];u(n)?(u(r)||(r={}),t[o]=e(r,n)):t[o]=n}}))})),t):t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(347);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[].indexOf,r=function(e,t){if(o)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},i=/\s+/,a=Object.prototype.toString;function u(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}u.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~r(t,e)||t.push(e),this.el.className=t.join(" "),this},u.prototype.remove=function(e){if("[object RegExp]"==a.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},u.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},u.prototype.toggle=function(e,t){return this.list?(void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},u.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(i);return""===e[0]&&e.shift(),e},u.prototype.has=u.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)};var s="undefined"!=typeof Element?Element.prototype:{},c=s.matches||s.matchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector,l=function(e,t){if(!e||1!==e.nodeType)return!1;if(c)return c.call(e,t);for(var n=e.parentNode.querySelectorAll(t),o=0;o<n.length;o++)if(n[o]==e)return!0;return!1};var d=Element.prototype,f=d.matchesSelector||d.webkitMatchesSelector||d.mozMatchesSelector||d.msMatchesSelector||d.oMatchesSelector,p=function(e,t){if(f)return f.call(e,t);for(var n=e.parentNode.querySelectorAll(t),o=0;o<n.length;++o)if(n[o]==e)return!0;return!1};var h,y=window.addEventListener?"addEventListener":"attachEvent",v=window.removeEventListener?"removeEventListener":"detachEvent",m="addEventListener"!==y?"on":"",g={bind:function(e,t,n,o){return e[y](m+t,n,o||!1),n},unbind:function(e,t,n,o){return e[v](m+t,n,o||!1),n}},b=["focus","blur"],_={bind:function(e,t,n,o,r){return-1!==b.indexOf(n)&&(r=!0),g.bind(e,n,(function(n){var r=n.target||n.srcElement;n.delegateTarget=function(e,t,n){for(var o=n?e:e.parentNode;o&&o!==document;){if(p(o,t))return o;o=o.parentNode}}(r,t,!0),n.delegateTarget&&o.call(e,n)}),r)},unbind:function(e,t,n,o){-1!==b.indexOf(t)&&(o=!0),g.unbind(e,t,n,o)}},w=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var o=n[1];if("body"==o){return(r=t.createElement("html")).innerHTML=e,r.removeChild(r.lastChild)}var r,i=O[o]||O._default,a=i[0],u=i[1],s=i[2];(r=t.createElement("div")).innerHTML=u+e+s;for(;a--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);var c=t.createDocumentFragment();for(;r.firstChild;)c.appendChild(r.removeChild(r.firstChild));return c},x=!1;"undefined"!=typeof document&&((h=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',x=!h.getElementsByTagName("link").length,h=void 0);var O={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:x?[1,"X<div>","</div>"]:[0,"",""]};O.td=O.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],O.option=O.optgroup=[1,'<select multiple="multiple">',"</select>"],O.thead=O.tbody=O.colgroup=O.caption=O.tfoot=[1,"<table>","</table>"],O.polyline=O.ellipse=O.polygon=O.circle=O.text=O.line=O.path=O.rect=O.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"],t.attr=function(e,t,n){return 2==arguments.length?e.getAttribute(t):null===n?e.removeAttribute(t):(e.setAttribute(t,n),e)},t.classes=function(e){return new u(e)},t.clear=function(e){for(var t;e.childNodes.length;)t=e.childNodes[0],e.removeChild(t);return e},t.closest=function(e,t,n){for(var o=n?e:e.parentNode;o&&o.nodeType!==document.DOCUMENT_NODE&&o.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(l(o,t))return o;o=o.parentNode}return l(o,t)?o:null},t.delegate=_,t.domify=w,t.event=g,t.matches=l,t.query=function(e,t){return(t=t||document).querySelector(e)},t.queryAll=function(e,t){return(t=t||document).querySelectorAll(e)},t.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.is=r,t.isInput=function(e){return r(e,"dmn:InputClause")},t.isOutput=function(e){return r(e,"dmn:OutputClause")},t.isRule=function(e){return r(e,"dmn:DecisionRule")},t.getBusinessObject=i,t.getName=function(e){return i(e).name},t.isAny=function(e,t){return(0,o.some)(t,(function(t){return r(e,t)}))};var o=n(0);function r(e,t){var n=i(e);return n&&"function"==typeof n.$instanceOf&&n.$instanceOf(t)}function i(e){return e&&e.businessObject||e}},,function(e,t,n){"use strict";function o(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch(e){}return e}function r(e,t){return t.appendChild(o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var i={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function a(e,t,n){var o=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=i[o];r?(2===r&&"number"==typeof n&&(n=String(n)+"px"),e.style[o]=n):e.setAttributeNS(null,t,n)}function u(e,t,n){if("string"==typeof t){if(void 0===n)return function(e,t){return i[t]?e.style[t]:e.getAttributeNS(null,t)}(e,t);a(e,t,n)}else!function(e,t){var n,o,r=Object.keys(t);for(n=0;o=r[n];n++)a(e,o,t[o])}(e,t);return e}function s(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}var c=/\s+/,l=Object.prototype.toString;function d(e){return void 0!==e}function f(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function p(e){var t=e.parentNode;return t&&t.removeChild(e),e}function h(e){for(var t;t=e.firstChild;)p(t);return e}f.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~s(t,e)||t.push(e),d(this.el.className.baseVal)?this.el.className.baseVal=t.join(" "):this.el.className=t.join(" "),this},f.prototype.remove=function(e){if("[object RegExp]"===l.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=s(t,e);return~n&&t.splice(n,1),this.el.className.baseVal=t.join(" "),this},f.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},f.prototype.toggle=function(e,t){return this.list?(d(t)?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(d(t)?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},f.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(c);return""===e[0]&&e.shift(),e},f.prototype.has=f.prototype.contains=function(e){return this.list?this.list.contains(e):!!~s(this.array(),e)};var y="http://www.w3.org/2000/svg",v='<svg xmlns="'+y+'"';function m(e){var t=!1;"<svg"===e.substring(0,4)?-1===e.indexOf(y)&&(e=v+e.substring(4)):(e=v+">"+e+"</svg>",t=!0);var n=function(e){var t;return(t=new DOMParser).async=!1,t.parseFromString(e,"text/xml")}(e);if(!t)return n;for(var o=document.createDocumentFragment(),r=n.firstChild;r.firstChild;)o.appendChild(r.firstChild);return o}function g(e,t){var n;return"<"===e.charAt(0)?(n=m(e).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(y,e),t&&u(n,t),n}var b=g("svg");function _(e,t){var n,o,r=Object.keys(t);for(n=0;o=r[n];n++)e[o]=t[o];return e}var w=/([&<>]{1})/g,x=/([\n\r"]{1})/g,O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function E(e,t){return e.replace(t,(function(e,t){return O[t]||t}))}function C(e,t){var n,o,r,i,a;switch(e.nodeType){case 3:t.push(E(e.textContent,w));break;case 1:if(t.push("<",e.tagName),e.hasAttributes())for(n=0,o=(r=e.attributes).length;n<o;++n)i=r.item(n),t.push(" ",i.name,'="',E(i.value,x),'"');if(e.hasChildNodes()){for(t.push(">"),n=0,o=(a=e.childNodes).length;n<o;++n)C(a.item(n),t);t.push("</",e.tagName,">")}else t.push("/>");break;case 8:t.push("\x3c!--",E(e.nodeValue,w),"--\x3e");break;case 4:t.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return t}function j(e,t){var n=m(t);if(h(e),t){(function(e){return"#document-fragment"===e.nodeName})(n)||(n=n.documentElement);for(var o,i=(o=n.childNodes,Array.prototype.slice.call(o)),a=0;a<i.length;a++)r(i[a],e)}}function S(e,t){return t.insertBefore(o(e,t),t.firstChild||null)}function P(e,t){return t instanceof SVGMatrix?e.createSVGTransformFromMatrix(t):t}t.append=function(e,t){return r(t,e),e},t.appendTo=r,t.attr=u,t.classes=function(e){return new f(e)},t.clear=h,t.clone=function(e){return e.cloneNode(!0)},t.create=g,t.innerSVG=function(e,t){if(void 0!==t){try{j(e,t)}catch(e){throw new Error("error parsing SVG: "+e.message)}return e}return function(e){for(var t=e.firstChild,n=[];t;)C(t,n),t=t.nextSibling;return n.join("")}(e)},t.prepend=function(e,t){return S(t,e),e},t.prependTo=S,t.remove=p,t.replace=function(e,t){return e.parentNode.replaceChild(o(t,e),e),t},t.transform=function(e,t){var n=e.transform.baseVal;return t&&(Array.isArray(t)||(t=[t]),function(e,t){var n,o;for(e.clear(),n=0;o=t[n];n++)e.appendItem(P(e,o))}(n,t)),n.consolidate()},t.on=function(e,t,n,o){e.addEventListener(t,n,o)},t.off=function(e,t,n,o){e.removeEventListener(t,n,o)},t.createPoint=function(e,t){var n=b.createSVGPoint();switch(arguments.length){case 0:return n;case 2:e={x:e,y:t}}return _(n,e)},t.createMatrix=function(e,t,n,o,r,i){var a=b.createSVGMatrix();switch(arguments.length){case 0:return a;case 1:return _(a,e);case 6:return _(a,{a:e,b:t,c:n,d:o,e:r,f:i})}},t.createTransform=function(e){return e?b.createSVGTransformFromMatrix(e):b.createSVGTransform()},t.select=function(e,t){return e.querySelector(t)},t.selectAll=function(e,t){var n=e.querySelectorAll(t);return[].map.call(n,(function(e){return e}))}},function(e,t,n){"use strict";"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(356);Object.defineProperty(t,"Cell",{enumerable:!0,get:function(){return s(o).default}});var r=n(360);Object.defineProperty(t,"DiContainer",{enumerable:!0,get:function(){return s(r).default}});var i=n(361);Object.defineProperty(t,"HeaderCell",{enumerable:!0,get:function(){return s(i).default}});var a=n(103);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var u=n(54);function s(e){return e&&e.__esModule?e:{default:e}}Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(e){this._eventBus=e}r.$inject=["eventBus"],r.prototype.on=function(e,t,n,r,i,a){if(((0,o.isFunction)(t)||(0,o.isNumber)(t))&&(a=i,i=r,r=n,n=t,t=null),(0,o.isFunction)(n)&&(a=i,i=r,r=n,n=1e3),(0,o.isObject)(i)&&(a=i,i=!1),!(0,o.isFunction)(r))throw new Error("handlerFn must be a function");(0,o.isArray)(e)||(e=[e]);var u=this._eventBus;(0,o.forEach)(e,(function(e){var o=["commandStack",e,t].filter((function(e){return e})).join(".");u.on(o,n,i?function(e,t){return function(n){return e.call(t||null,n.context,n.command,n)}}(r,a):r,a)}))};(0,o.forEach)(["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"],(function(e){r.prototype[e]=function(t,n,r,i,a){((0,o.isFunction)(t)||(0,o.isNumber)(t))&&(a=i,i=r,r=n,n=t,t=null),this.on(t,e,n,r,i,a)}}))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(36)),r=s(n(77)),i=s(n(209)),a=s(n(210)),u=s(n(211));function s(e){return e&&e.__esModule?e:{default:e}}t.default={__init__:["selectionVisuals","selectionBehavior"],__depends__:[o.default,r.default],selection:["type",i.default],selectionVisuals:["type",a.default],selectionBehavior:["type",u.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cell=t.Col=t.Row=t.Root=t.Base=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.create=function(e,t){var n=c[e];if(!n)throw new Error("unknown type "+e);return new n(t)};var r=n(0);function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=t.Base=function e(t){u(this,e),(0,r.assign)(this,t),l(this,"businessObject",{writable:!0})},c={root:t.Root=function(e){function t(e){u(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l(n,"rows",{enumerable:!0,value:n.rows||[]}),l(n,"cols",{enumerable:!0,value:n.cols||[]}),n}return a(t,e),t}(s),row:t.Row=function(e){function t(e){u(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l(n,"root",{writable:!0}),l(n,"cells",{enumerable:!0,value:n.cells||[]}),n}return a(t,e),t}(s),col:t.Col=function(e){function t(e){u(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l(n,"root",{writable:!0}),l(n,"cells",{enumerable:!0,value:n.cells||[]}),n}return a(t,e),t}(s),cell:t.Cell=function(e){function t(e){u(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l(n,"row",{writable:!0}),l(n,"col",{writable:!0}),n}return a(t,e),t}(s)};function l(e,t,n){Object.defineProperty(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(7),a=n(0),u=n(2),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));l.call(r),(0,i.inject)(r);var a=e.value;return r.state={value:a,optionsVisible:!1},r._portalEl=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onGlobalClick),document.addEventListener("focusin",this.onFocusChanged),this.keyboard.addListener(this.onKeyboard)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("click",this.onGlobalClick),this.keyboard.removeListener(this.onKeyboard),this.removePortalEl()}},{key:"componentWillReceiveProps",value:function(e){var t=e.value;this.setState({value:t})}},{key:"componentWillUpdate",value:function(e,t){t.optionsVisible?this._portalEl||this.addPortalEl():this._portalEl&&this.removePortalEl()}},{key:"componentDidUpdate",value:function(){if(this.state.optionsVisible&&this.inputNode){var e=this.inputNode.getBoundingClientRect(),t=e.top,n=e.left,o=e.width,r=e.height;(0,a.assign)(this._portalEl.style,{top:t+r+"px",left:n+"px",width:o+"px"})}}},{key:"addPortalEl",value:function(){this._portalEl=(0,u.domify)('<div class="dms-select-options"></div>'),this.renderer.getContainer().appendChild(this._portalEl)}},{key:"removePortalEl",value:function(){this._portalEl&&((0,u.remove)(this._portalEl),this._portalEl=null)}},{key:"focusInput",value:function(){var e=this.inputNode;e.focus(),"selectionStart"in e&&(e.selectionStart=1e5)}},{key:"checkClose",value:function(e){!this._portalEl||this._portalEl.contains(e)||this.parentNode.contains(e)||this.setOptionsVisible(!1)}},{key:"select",value:function(e){var t=this.props.options,n=this.state.value;if(t){var o=t.filter((function(e){return e.value===n}))[0],r=o?t.indexOf(o):-1,i=-1===r?1===e?0:t.length-1:(r+e)%t.length,a=t[i<0?t.length+i:i];this.onChange(a.value)}}},{key:"setOptionsVisible",value:function(e){this.setState({optionsVisible:e})}},{key:"renderOptions",value:function(e,t){var n=this;return(0,r.createVNode)(1,"div","options",e.map((function(e){return(0,r.createVNode)(1,"div",["option",t===e?"active":""].join(" "),e.label,0,{"data-value":e.value,onClick:function(t){return n.onOptionClick(e.value,t)}})})),0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=t.options,i=t.noInput,a=this.state,u=a.optionsVisible,s=a.value,c=!!o&&o.filter((function(e){return e.value===s}))[0],l=c?c.label:s;return(0,r.createVNode)(1,"div",[n||"","dms-input-select"].join(" "),[i?(0,r.createVNode)(1,"div","dms-input",l,0,{tabindex:"0",onKeyDown:this.onKeyDown},null,(function(t){return e.inputNode=t})):(0,r.createVNode)(64,"input","dms-input",null,1,{onInput:this.onInput,onKeyDown:this.onKeyDown,spellcheck:"false",type:"text",value:s},null,(function(t){return e.inputNode=t})),(0,r.createVNode)(1,"span",["dms-input-select-icon",u?"dmn-icon-up":"dmn-icon-down"].join(" ")),u&&(0,r.createPortal)(this.renderOptions(o,c),this._portalEl)],0,{onClick:this.onInputClick},null,(function(t){return e.parentNode=t}))}}]),t}(r.Component),l=function(){var e=this;this.onChange=function(t){e.setState({value:t});var n=e.props.onChange;"function"==typeof n&&n(t)},this.onInputClick=function(t){t.preventDefault(),t.stopPropagation(),e.setOptionsVisible(!e.state.optionsVisible),e.focusInput()},this.onInput=function(t){var n=t.target.value;e.onChange(n)},this.onOptionClick=function(t,n){n.preventDefault(),n.stopPropagation(),e.setOptionsVisible(!1),e.onChange(t),e.focusInput()},this.onFocusChanged=function(t){e.checkClose(t.target)},this.onGlobalClick=function(t){e.checkClose(t.target)},this.onKeyDown=function(t){var n=e.state.optionsVisible,o=t.which;40!==o&&38!==o||(t.stopPropagation(),t.preventDefault(),n?e.select(40===o?1:-1):e.setOptionsVisible(!0)),n&&(13!==o&&27!==o||(t.stopPropagation(),t.preventDefault(),e.setOptionsVisible(!1)))},this.onKeyboard=function(t){if(e.state.optionsVisible)return 27===t?(e.setOptionsVisible(!1),!0):void 0}};t.default=c,c.$inject=["keyboard","renderer"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=r,t.eachElement=i,t.selfAndChildren=a,t.selfAndDirectChildren=function(e,t){return a(e,!t,1)},t.selfAndAllChildren=function(e,t){return a(e,!t,-1)},t.getClosure=function(e,t,n){(0,o.isUndefined)(t)&&(t=!0);(0,o.isObject)(t)&&(n=t,t=!0);var r=s((n=n||{}).allShapes),a=s(n.allConnections),u=s(n.enclosedElements),c=s(n.enclosedConnections),l=s(n.topLevel,t&&(0,o.groupBy)(e,(function(e){return e.id})));function d(e){l[e.source.id]&&l[e.target.id]&&(l[e.id]=[e]),r[e.source.id]&&r[e.target.id]&&(c[e.id]=u[e.id]=e),a[e.id]=e}return i(e,(function(e){if(u[e.id]=e,!e.waypoints)return r[e.id]=e,(0,o.forEach)(e.incoming,d),(0,o.forEach)(e.outgoing,d),e.children;c[e.id]=a[e.id]=e})),{allShapes:r,allConnections:a,topLevel:l,enclosedConnections:c,enclosedElements:u}},t.getBBox=u,t.getEnclosedElements=function(e,t){var n={};return(0,o.forEach)(e,(function(e){var r=e;r.waypoints&&(r=u(r)),!(0,o.isNumber)(t.y)&&r.x>t.x&&(n[e.id]=e),!(0,o.isNumber)(t.x)&&r.y>t.y&&(n[e.id]=e),r.x>t.x&&r.y>t.y&&((0,o.isNumber)(t.width)&&(0,o.isNumber)(t.height)&&r.width+r.x<t.width+t.x&&r.height+r.y<t.height+t.y?n[e.id]=e:(0,o.isNumber)(t.width)&&(0,o.isNumber)(t.height)||(n[e.id]=e))})),n},t.getType=function(e){if("waypoints"in e)return"connection";if("x"in e)return"shape";return"root"};var o=n(0);function r(e,t,n){var o=!n||-1===e.indexOf(t);return o&&e.push(t),o}function i(e,t,n){n=n||0,(0,o.isArray)(e)||(e=[e]),(0,o.forEach)(e,(function(e,r){var a=t(e,r,n);(0,o.isArray)(a)&&a.length&&i(a,t,n+1)}))}function a(e,t,n){var o=[],a=[];return i(e,(function(e,i,u){r(o,e,t);var s=e.children;if((-1===n||u<n)&&s&&r(a,s,t))return s})),o}function u(e,t){var n,r,i,a;return t=!!t,(0,o.isArray)(e)||(e=[e]),(0,o.forEach)(e,(function(e){var o=e;e.waypoints&&!t&&(o=u(e.waypoints,!0));var s=o.x,c=o.y,l=o.height||0,d=o.width||0;(s<n||void 0===n)&&(n=s),(c<r||void 0===r)&&(r=c),(s+d>i||void 0===i)&&(i=s+d),(c+l>a||void 0===a)&&(a=c+l)})),{x:n,y:r,height:a-r,width:i-n}}function s(e,t){return(0,o.assign)({},e||{},t||{})}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove=function(e,t){if(!e||!t)return-1;var n=e.indexOf(t);-1!==n&&e.splice(n,1);return n},t.add=function(e,t,n){if(!e||!t)return;"number"!=typeof n&&(n=-1);var o=e.indexOf(t);if(-1!==o){if(o===n)return;if(-1===n)return;e.splice(o,1)}-1!==n?e.splice(n,0,t):e.push(t)},t.indexOf=function(e,t){if(!e||!t)return-1;return e.indexOf(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transform=function(e,t,n,r,i){var a=(0,o.createTransform)();a.setTranslate(t,n);var u=(0,o.createTransform)();u.setRotate(r,0,0);var s=(0,o.createTransform)();s.setScale(i||1,i||1),(0,o.transform)(e,[a,u,s])},t.translate=function(e,t,n){var r=(0,o.createTransform)();r.setTranslate(t,n),(0,o.transform)(e,r)},t.rotate=function(e,t){var n=(0,o.createTransform)();n.setRotate(t,0,0),(0,o.transform)(e,n)},t.scale=function(e,t){var n=(0,o.createTransform)();n.setScale(t,t),(0,o.transform)(e,n)};var o=n(5)},function(e,t,n){"use strict";function o(e){e&&"function"==typeof e.stopPropagation&&e.stopPropagation()}function r(e){return e.originalEvent||e.srcEvent}Object.defineProperty(t,"__esModule",{value:!0}),t.getOriginal=r,t.stopPropagation=function(e,t){o(e),o(r(e))},t.toPoint=function(e){e.pointers&&e.pointers.length&&(e=e.pointers[0]);e.touches&&e.touches.length&&(e=e.touches[0]);return e?{x:e.clientX,y:e.clientY}:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.roundBounds=function(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}},t.roundPoint=s,t.asTRBL=c,t.asBounds=function(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}},t.getMid=function(e){return s({x:e.x+(e.width||0)/2,y:e.y+(e.height||0)/2})},t.getOrientation=function(e,t,n){n=n||0,(0,r.isObject)(n)||(n={x:n,y:n});var o=c(e),i=c(t),a=o.bottom+n.y<=i.top,u=o.left-n.x>=i.right,s=o.top-n.y>=i.bottom,l=o.right+n.x<=i.left,d=a?"top":s?"bottom":null,f=l?"left":u?"right":null;return f&&d?d+"-"+f:f||d||"intersect"},t.getElementLineIntersection=function(e,t,n){var o=l(e,t);if(1===o.length)return s(o[0]);if(2===o.length&&(0,i.pointDistance)(o[0],o[1])<1)return s(o[0]);if(o.length>1)return s((o=(0,r.sortBy)(o,(function(e){var t=Math.floor(100*e.t2)||1;return t=((t=100-t)<10?"0":"")+t,e.segment2+"#"+t})))[n?0:o.length-1]);return null},t.getIntersections=l;var o,r=n(0),i=n(25),a=n(85),u=(o=a)&&o.__esModule?o:{default:o};function s(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function c(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function l(e,t){return(0,u.default)(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(410),i=(o=r)&&o.__esModule?o:{default:o};t.default={debounceInput:["factory",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(411),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["contextMenu"],contextMenu:["type",i.default]}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(228),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["rules"],rules:["type",i.default]}},function(e,t,n){"use strict";function o(e,t){return e&&t?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):-1}Object.defineProperty(t,"__esModule",{value:!0}),t.pointDistance=o,t.pointsOnLine=function(e,t,n,r){void 0===r&&(r=5);if(!e||!t||!n)return!1;var i=(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x),a=o(e,t);return Math.abs(i/a)<=r},t.pointsAligned=function(e,t){if(Math.abs(e.x-t.x)<=2)return"h";if(Math.abs(e.y-t.y)<=2)return"v";return!1},t.pointInRect=function(e,t,n){return n=n||0,e.x>t.x-n&&e.y>t.y-n&&e.x<t.x+t.width+n&&e.y<t.y+t.height+n},t.getMidPoint=function(e,t){return{x:Math.round(e.x+(t.x-e.x)/2),y:Math.round(e.y+(t.y-e.y)/2)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(39)),r=s(n(105)),i=s(n(403)),a=s(n(107)),u=s(n(40));function s(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default,a.default,u.default],__init__:["decisionTableEditorActions"],decisionTableEditorActions:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(108),u=(o=a)&&o.__esModule?o:{default:o};var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o.onFocus=function(){o.setState({focussed:!0});var e=o.props.onFocus;"function"==typeof e&&e()},o.onBlur=function(e){o.setState({focussed:!1}),o.state.invalid&&o.setState({changing:!1,invalid:!1});var t=o.props.onBlur;"function"==typeof t&&t()},o.state={changing:!1,focussed:!1};var i=n.injector.get("debounceInput");return o.inputChanged=i((function(e){var t=o.props.onChange;"function"==typeof t&&t(e);var n=o.state.changing;o.setState({changing:n!==e&&n})})),o.onInput=function(e){var t=(o.props.validate||function(){})(e);o.setState({changing:e,invalid:t}),t||o.inputChanged(e)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"getClassName",value:function(){var e=this.props.className,t=this.state;return e+=" editable",t.focussed&&(e+=" focussed"),t.invalid&&(e+=" invalid"),e}},{key:"getDisplayValue",value:function(){var e=this.props.value,t=this.state,n=t.focussed,o=t.changing;return"string"==typeof o&&(e=o),e||(e=n?"":"-"),e}},{key:"getEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.createComponentVNode)(2,u.default,{className:e.className,ctrlForNewline:e.ctrlForNewline,onFocus:this.onFocus,onBlur:this.onBlur,onInput:this.onInput,value:this.getDisplayValue()})}}]),t}(i.Component);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onInput=function(e){var t=r.props.onInput;"function"==typeof t&&t(e.target.value)},r.onKeyDown=function(e){var t=r.props.onKeyDown;"function"==typeof t&&t(e)},r.onKeyUp=function(e){var t=r.props.onKeyUp;"function"==typeof t&&t(e)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.placeholder,o=e.type,i=e.value;return(0,r.createVNode)(64,"input",[t||"","dms-input"].join(" "),null,1,{placeholder:n||"",onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,spellcheck:"false",type:o||"text",value:i})}}]),t}(r.Component);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseName=function(e,t){var n,o,r=e.split(/:/);if(1===r.length)n=e,o=t;else{if(2!==r.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=r[1],o=r[0]}return{name:e=(o?o+":":"")+n,prefix:o,localName:n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.center=function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}},t.delta=function(e,t){return{x:e.x-t.x,y:e.y-t.y}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(11)),r=a(n(229)),i=a(n(230));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__init__:["hoverFix"],__depends__:[o.default],dragging:["type",r.default],hoverFix:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ELEMENT_SELECTOR=t.SELECTABLE_SELECTOR=void 0,t.getElementId=function(e){return e.getAttribute("data-element-id")},t.getElementCoords=function(e){var t=e.getAttribute("data-coords");if(!t)return null;var n=t.split(":"),o=s(n,2),r=o[0],i=o[1];return{row:r,col:i}},t.getNodeByCoords=function(e,t){var n=e.row+":"+e.col;return(0,r.query)('[data-coords="'+(0,a.default)(n)+'"]',t)},t.getNodeById=function(e,t){return(0,r.query)('[data-element-id="'+(0,a.default)(e)+'"]',t)},t.isUnselectableNode=function(e){return(0,r.closest)(e,".no-deselect",!0)},t.findSelectableAncestor=function(e){return(0,r.closest)(e,l,!0)},t.getFocusableNode=d,t.ensureFocus=function(e){var t=d(e);if(!t)return;if(!document.body.contains(t))return;if(document.activeElement===t)return;t.focus();var n=(0,u.getRange)(t);n&&0!==n.end||(0,u.setRange)(t,{start:5e3,end:5e3})};var o,r=n(2),i=n(84),a=(o=i)&&o.__esModule?o:{default:o},u=n(41);var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=t.SELECTABLE_SELECTOR="[contenteditable]",l=t.ELEMENT_SELECTOR="[data-element-id]";function d(e){var t=c;return(0,r.matches)(e,t)?e:(0,r.query)(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(26)),r=i(n(460));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default],__init__:["keyboard"],keyboard:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(21)),r=a(n(39)),i=a(n(485));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default],__init__:["simpleMode"],simpleMode:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(205),i=(o=r)&&o.__esModule?o:{default:o};t.default={translate:["value",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(206),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["interactionEvents"],interactionEvents:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMac=void 0;var o=n(207);Object.defineProperty(t,"isMac",{enumerable:!0,get:function(){return o.isMac}}),t.isPrimaryButton=i,t.hasPrimaryModifier=function(e){var t=(0,r.getOriginal)(e)||e;if(!i(e))return!1;return(0,o.isMac)()?t.metaKey:t.ctrlKey},t.hasSecondaryModifier=function(e){var t=(0,r.getOriginal)(e)||e;return i(e)&&t.shiftKey};var r=n(18);function i(e){return!((0,r.getOriginal)(e)||e).button}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(368);Object.defineProperty(t,"ComponentWithSlots",{enumerable:!0,get:function(){return(e=o,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(40)),r=a(n(55)),i=a(n(395));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[r.default,o.default],__init__:["cellSelection"],cellSelection:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(392)),r=i(n(393));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__init__:["selection","selectionBehavior"],selection:["type",o.default],selectionBehavior:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){return e^t};var i=/\b(Array|Date|Object|Math|JSON)\b/g,a=function(e,t){var n=function(e){for(var t=[],n=0;n<e.length;n++)~t.indexOf(e[n])||t.push(e[n]);return t}(function(e){return e.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(i,"").match(/[a-zA-Z_]\w*/g)||[]}(e));return t&&"string"==typeof t&&(t=function(e){return function(t){return e+t}}(t)),t?function(e,t,n){return e.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g,(function(e){return"("==e[e.length-1]||~t.indexOf(e)?n(e):e}))}(e,n,t):n};var u=s;function s(e,t){if(!(this instanceof s))return new s(e,t);if(this.node=this.start=this.peeked=e,this.root=t,this.closingTag=!1,this._revisit=!0,this._selects=[],this._rejects=[],e&&this.higher(e))throw new Error("root must be a parent or ancestor to node")}function c(e,t){var n="nextSibling"==e;return function(o,i,a){o=this.compile(o),i=i&&i>0?i:1;for(var u=this.node,s=this.closingTag,c=this._revisit;u;){if(r(n,s)&&u[t])u=u[t],s=!n;else if(1==u.nodeType&&!u[t]&&r(n,s)){if(s=n,!c)continue}else if(u[e])u=u[e],s=!n;else if(u=u.parentNode,s=n,!c)continue;if(!u||this.higher(u,this.root))break;if(o(u)&&this.selects(u,a)&&this.rejects(u,a)){if(--i)continue;return a||(this.node=u),this.closingTag=s,u}}return null}}s.prototype.reset=function(e){return this.node=e||this.start,this},s.prototype.revisit=function(e){return this._revisit=null==e||e,this},s.prototype.opening=function(){return 1==this.node.nodeType&&(this.closingTag=!1),this},s.prototype.atOpening=function(){return!this.closingTag},s.prototype.closing=function(){return 1==this.node.nodeType&&(this.closingTag=!0),this},s.prototype.atClosing=function(){return this.closingTag},s.prototype.next=c("nextSibling","firstChild"),s.prototype.previous=s.prototype.prev=c("previousSibling","lastChild"),s.prototype.select=function(e){return e=this.compile(e),this._selects.push(e),this},s.prototype.selects=function(e,t){var n=this._selects,o=n.length;if(!o)return!0;for(var r=0;r<o;r++)if(n[r].call(this,e,t))return!0;return!1},s.prototype.reject=function(e){return e=this.compile(e),this._rejects.push(e),this},s.prototype.rejects=function(e,t){var n=this._rejects,o=n.length;if(!o)return!0;for(var r=0;r<o;r++)if(n[r].call(this,e,t))return!1;return!0},s.prototype.higher=function(e){var t=this.root;if(!t)return!1;for(e=e.parentNode;e&&e!=t;)e=e.parentNode;return e!=t},s.prototype.compile=function(e){switch(void 0===e?"undefined":o(e)){case"number":return function(t){return e==t.nodeType};case"string":return new Function("node","return "+a(e,"node."));case"function":return e;default:return function(){return!0}}},s.prototype.peak=s.prototype.peek=function(e,t){return 1==arguments.length&&(t=e,e=!0),(t=null==t?1:t)?t>0?this.next(e,t,!0):this.prev(e,Math.abs(t),!0):this.node},s.prototype.use=function(e){return e(this),this};var l=window.getSelection();function d(e){l.removeAllRanges(),l.addRange(e)}function f(e){if(!l.rangeCount)return null;var t=l.focusNode;return p(t)&&(t=t.parentNode),e==t||e.contains(t)}function p(e){return 3===e.nodeType}function h(e){return 1===e.nodeType&&"BR"===e.nodeName}function y(e){return 1===e.nodeType&&"DIV"===e.nodeName}function v(e){return 1===e.nodeType&&"P"===e.nodeName}t.applyRange=d,t.getWindowSelection=function(){return l},t.isSelected=f,t.setRange=function(e,t){d(function(e,t){var n,o=t.start,r=t.end,i=document.createRange(),a=u(e.firstChild,e),s=a.node,c=!1,l=0;for(;s;){if(l===o&&(c?i.setStartAfter(s):i.setStartBefore(s)),l===r)return c?i.setEndAfter(s):i.setEndBefore(s),i;if(c||(h(s)||s.previousSibling&&(y(s)||v(s)))&&l++,p(s)){if(n=s.textContent.length,l<=o&&l+n>o&&i.setStart(s,o-l),l+n>r)return i.setEnd(s,r-l),i;l+=n}s=a.next(),c=a.closingTag}l<=o&&(e.lastChild?i.setStartAfter(e.lastChild):i.setStart(e,0));e.lastChild?i.setEndAfter(e.lastChild):i.setEnd(e,0);return i}(e,t))},t.getRange=function(e){if(!f(e))return null;var t,n,o=l.getRangeAt(0),r=o.startContainer,i=o.endContainer,a=o.startOffset,s=o.endOffset,c=u(e.firstChild,e),d=c.node,m=!1,g=0;function b(e,t){return 1===arguments.length&&(t=e),e.parentNode===i&&t==i.childNodes[s]}function _(e,t){return 1===arguments.length&&(t=e),e.parentNode===r&&t==r.childNodes[a]}for(;d&&(_(d)&&(n=g),!b(d));){if(m||(h(d)||t&&t.nextSibling==d&&(y(d)||v(d)))&&g++,p(d)){if(r===d&&(n=g+a),i===d){g+=s;break}g+=d.textContent.length}if((p(d)||m)&&(_(d,d.nextSibling)&&(n=g),b(d,d.nextSibling)))break;t=d,d=c.next(),m=c.closingTag}return{start:void 0===n?g:n,end:g}},t.annotateRange=function(e,t){return t.start===t.end?e.substring(0,t.start)+"|"+e.substring(t.start):e.substring(0,t.start)+"<"+e.substring(t.start,t.end)+">"+e.substring(t.end)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(28),u=(o=a)&&o.__esModule?o:{default:o};var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=e.validate,a=e.value,u=i?i(a||""):void 0;return o.state={validationWarning:u,value:a},o.onInput=o.onInput.bind(o),o.onKeyDown=o.onKeyDown.bind(o),o.onKeyUp=o.onKeyUp.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.validate,n=e.value,o=t?t(n||""):void 0;this.setState({validationWarning:o,value:n})}},{key:"onInput",value:function(e){var t=this.props,n=t.onInput,o=t.validate,r=o?o(e):void 0;this.setState({validationWarning:r,value:e}),"function"==typeof n&&n&&n({isValid:!r,value:e})}},{key:"onKeyDown",value:function(e){var t=e.target.value,n=this.props,o=n.onKeyDown,r=n.validate,i=r?r(t):void 0;"function"==typeof o&&o({isValid:!i,value:t,event:e})}},{key:"onKeyUp",value:function(e){var t=e.target.value,n=this.props,o=n.onKeyUp,r=n.validate,i=r?r(t):void 0;"function"==typeof o&&o({isValid:!i,value:t,event:e})}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.type,o=e.className,r=this.state,a=r.validationWarning,s=r.value,c=["dms-validated-input",o].join(" "),l=[];return a&&l.push("invalid"),(0,i.createVNode)(1,"div",c,[(0,i.createComponentVNode)(2,u.default,{className:l,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,placeholder:t||"",type:n,value:s||""}),a&&(0,i.createVNode)(1,"p","dms-hint dms-validation-warning",a,0)],0)}}]),t}(i.Component);t.default=c},function(e,t,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),u=function(e){return document.querySelector(e)},s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=u.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,l=0,d=[],f=n(44);function p(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(b(o.parts[a],t))}else{var u=[];for(a=0;a<o.parts.length;a++)u.push(b(o.parts[a],t));i[o.id]={id:o.id,refs:1,parts:u}}}}function h(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],u={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(u):n.push(o[a]={id:a,parts:[u]})}return n}function y(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=d[d.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function m(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),g(t,e.attrs),y(e,t),t}function g(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function b(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=l++;n=c||(c=m(t)),o=x.bind(null,n,a,!1),r=x.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),y(e,t),t}(t),o=E.bind(null,n,t),r=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),o=O.bind(null,n),r=function(){v(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return p(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var a=n[r];(u=i[a.id]).refs--,o.push(u)}e&&p(h(e,t),t);for(r=0;r<o.length;r++){var u;if(0===(u=o[r]).refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete i[u.id]}}}};var _,w=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function x(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function O(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function E(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=f(o)),r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),u=e.href;e.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}},function(e,t,n){"use strict";e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=a;var r=n(0),i=Array.prototype.slice;function a(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function u(){}a.prototype.on=function(e,t,n,o){if(e=(0,r.isArray)(e)?e:[e],(0,r.isFunction)(t)&&(o=n,n=t,t=1e3),!(0,r.isNumber)(t))throw new Error("priority must be a number");var i=n;o&&((i=(0,r.bind)(n,o)).__fn=n.__fn||n);var a=this,u={priority:t,callback:i};e.forEach((function(e){a._addListener(e,u)}))},a.prototype.once=function(e,t,n,o){var i=this;if((0,r.isFunction)(t)&&(o=n,n=t,t=1e3),!(0,r.isNumber)(t))throw new Error("priority must be a number");function a(){return i.off(e,a),n.apply(o,arguments)}a.__fn=n,this.on(e,t,a)},a.prototype.off=function(e,t){e=(0,r.isArray)(e)?e:[e];var n=this;e.forEach((function(e){n._removeListener(e,t)}))},a.prototype.createEvent=function(e){var t=new u;return t.init(e),t},a.prototype.fire=function(e,t){var n,r,a,s;if(s=i.call(arguments),"object"===(void 0===e?"undefined":o(e))&&(e=(n=e).type),!e)throw new Error("no event type specified");if(r=this._listeners[e]){n=t instanceof u?t:this.createEvent(t),s[0]=n;var c=n.type;e!==c&&(n.type=e);try{a=this._invokeListeners(n,s,r)}finally{e!==c&&(n.type=c)}return void 0===a&&n.defaultPrevented&&(a=!1),a}},a.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},a.prototype._destroy=function(){this._listeners={}},a.prototype._invokeListeners=function(e,t,n){var o,r,i;for(o=0;(r=n[o])&&!e.cancelBubble;o++)i=this._invokeListener(e,t,r);return i},a.prototype._invokeListener=function(e,t,n){var o;try{void 0!==(o=function(e,t){return e.apply(null,t)}(n.callback,t))&&(e.returnValue=o,e.stopPropagation()),!1===o&&e.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener"),console.error(e.stack),e}return o},a.prototype._addListener=function(e,t){var n,o,r=this._getListeners(e);for(o=0;n=r[o];o++)if(n.priority<t.priority)return void r.splice(o,0,t);r.push(t)},a.prototype._getListeners=function(e){var t=this._listeners[e];return t||(this._listeners[e]=t=[]),t},a.prototype._removeListener=function(e,t){var n,o,r,i=this._getListeners(e);if(t)for(r=i.length-1;n=i[r];r--)(o=n.callback)!==t&&o.__fn!==t||i.splice(r,1);else i.length=0},u.prototype.stopPropagation=function(){this.cancelBubble=!0},u.prototype.preventDefault=function(){this.defaultPrevented=!0},u.prototype.init=function(e){(0,r.assign)(this,e||{})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coerceType=function(e,t){var n=r[e];return n?n(t):t},t.isBuiltIn=function(e){return!!o[e]},t.isSimple=function(e){return!!r[e]};var o={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},r={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e,10)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=/^class /;function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(){var e=Array.prototype.slice.call(arguments);1===e.length&&i(e[0])&&(e=e[0]);var t=e.pop();return t.$inject=e,t}var u=/constructor\s*[^(]*\(\s*([^)]*)\)/m,s=/^function\s*[^(]*\(\s*([^)]*)\)/m,c=/\/\*([^*]*)\*\//m;function l(e){if("function"!=typeof e)throw new Error('Cannot annotate "'+e+'". Expected a function!');var t=e.toString().match(function(e){return r.test(e.toString())}(e)?u:s);return t&&t[1]&&t[1].split(",").map((function(e){return(t=e.match(c))?t[1].trim():e.trim()}))||[]}function d(){var e=[];this.factory=function(t,n){return e.push([t,"factory",n]),this},this.value=function(t,n){return e.push([t,"value",n]),this},this.type=function(t,n){return e.push([t,"type",n]),this},this.forEach=function(t){e.forEach(t)}}var f="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)};function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function h(e,t){return Object.hasOwnProperty.call(e,t)}t.annotate=a,t.Module=d,t.Injector=function e(t,n){n=n||{get:function(e,t){if(o.push(e),!1===t)return null;throw c('No provider for "'+e+'"!')}};var o=[],r=this._providers=Object.create(n._providers||null),u=this._instances=Object.create(null),s=u.injector=this,c=function(e){var t=o.join(" -> ");return o.length=0,new Error(t?e+" (Resolving: "+t+")":e)},y=function e(t,i){if(!r[t]&&-1!==t.indexOf(".")){for(var a=t.split("."),s=e(a.shift());a.length;)s=s[a.shift()];return s}if(h(u,t))return u[t];if(h(r,t)){if(-1!==o.indexOf(t))throw o.push(t),c("Cannot resolve circular dependency!");return o.push(t),u[t]=r[t][0](r[t][1]),o.pop(),u[t]}return n.get(t,i)},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!=typeof e){if(!i(e))throw new Error('Cannot invoke "'+e+'". Expected a function!');e=a(e.slice())}var n=e.$inject||l(e),o=n.map((function(e){return h(t,e)?t[e]:y(e)}));return{fn:e,dependencies:o}},m=function(e){var t=v(e),n=t.dependencies,o=t.fn;return new(Function.prototype.bind.apply(o,[null].concat(p(n))))},g=function(e,t,n){var o=v(e,n),r=o.dependencies,i=o.fn;return i.call.apply(i,[t].concat(p(r)))},b=function(e){return a((function(t){return e.get(t)}))},_={factory:g,type:m,value:function(e){return e}};t.forEach((function(t){function n(e,t){return"value"!==e&&i(t)&&(t=a(t.slice())),t}if(t instanceof d)t.forEach((function(e){var t=e[0],o=e[1],i=e[2];r[t]=[_[o],n(o,i),o]}));else if("object"===(void 0===t?"undefined":f(t)))if(t.__exports__){var o=Object.keys(t).reduce((function(e,n){return"__"!==n.substring(0,2)&&(e[n]=t[n]),e}),Object.create(null)),u=new e((t.__modules__||[]).concat([o]),s),c=a((function(e){return u.get(e)}));t.__exports__.forEach((function(e){r[e]=[c,e,"private",u]}))}else Object.keys(t).forEach((function(e){if("private"!==t[e][2]){var o=t[e][0],i=t[e][1];r[e]=[_[o],n(o,i),o]}else r[e]=t[e]}))})),this.get=y,this.invoke=g,this.instantiate=m,this.createChild=function(t,n){if(n&&n.length){var o,i,a,u,c=Object.create(null),l=Object.create(null),d=[],f=[],p=[];for(var h in r)o=r[h],-1!==n.indexOf(h)&&("private"===o[2]?-1===(i=d.indexOf(o[3]))?(a=o[3].createChild([],n),u=b(a),d.push(o[3]),f.push(a),p.push(u),c[h]=[u,h,"private",a]):c[h]=[p[i],h,"private",f[i]]:c[h]=[o[2],o[1]],l[h]=!0),"factory"!==o[2]&&"type"!==o[2]||!o[1].$scope||n.forEach((function(e){-1!==o[1].$scope.indexOf(e)&&(c[h]=[o[2],o[1]],l[e]=!0)}));n.forEach((function(e){if(!l[e])throw new Error('No provider for "'+e+'". Cannot use provider from the parent!')})),t.unshift(c)}return new e(t,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.componentsToPath=function(e){return e.join(",").replace(/,?([A-z]),?/g,"$1")},t.toSVGPoints=r,t.createLine=function(e,t){var n=(0,o.create)("polyline");(0,o.attr)(n,{points:r(e)}),t&&(0,o.attr)(n,t);return n},t.updateLine=function(e,t){return(0,o.attr)(e,{points:r(t)}),e};var o=n(5);function r(e){for(var t,n="",o=0;t=e[o];o++)n+=t.x+","+t.y+" ";return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(212),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["overlays"],overlays:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SEGMENT_DRAGGER_CLS=t.BENDPOINT_CLS=void 0,t.toCanvasCoordinates=function(e,t){var n,r=(0,o.toPoint)(t),i=e._container.getBoundingClientRect();n={x:i.left,y:i.top};var a=e.viewbox();return{x:a.x+(r.x-n.x)/a.scale,y:a.y+(r.y-n.y)/a.scale}},t.addBendpoint=function(e,t){var n=(0,i.create)("g");(0,i.classes)(n).add(u),(0,i.append)(e,n);var o=(0,i.create)("circle");(0,i.attr)(o,{cx:0,cy:0,r:4}),(0,i.classes)(o).add("djs-visual"),(0,i.append)(n,o);var r=(0,i.create)("circle");(0,i.attr)(r,{cx:0,cy:0,r:10}),(0,i.classes)(r).add("djs-hit"),(0,i.append)(n,r),t&&(0,i.classes)(n).add(t);return n},t.addSegmentDragger=function(e,t,n){var o=(0,i.create)("g"),u=(0,r.getMidPoint)(t,n),c=(0,r.pointsAligned)(t,n);return(0,i.append)(e,o),function(e,t,n){var o=(0,i.create)("g");(0,i.append)(e,o);var r=(0,i.create)("rect");(0,i.attr)(r,{x:-7,y:-1.5,width:14,height:3}),(0,i.classes)(r).add("djs-visual"),(0,i.append)(o,r);var u=(0,i.create)("rect");(0,i.attr)(u,{x:-10,y:-4.5,width:20,height:9}),(0,i.classes)(u).add("djs-hit"),(0,i.append)(o,u),(0,a.rotate)(o,"h"===n?90:0,0,0)}(o,0,c),(0,i.classes)(o).add(s),(0,i.classes)(o).add("h"===c?"vertical":"horizontal"),(0,a.translate)(o,u.x,u.y),o};var o=n(18),r=n(25),i=n(5),a=n(17),u=t.BENDPOINT_CLS="djs-bendpoint",s=t.SEGMENT_DRAGGER_CLS="djs-segment-dragger"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(248),i=(o=r)&&o.__esModule?o:{default:o};t.default={clipboard:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResizedSourceAnchor=r,t.getResizedTargetAnchor=i,t.getMovedSourceAnchor=function(e,t,n){return r(e,t,a(t,n))},t.getMovedTargetAnchor=function(e,t,n){return i(e,t,a(t,n))};var o=n(306);function r(e,t,n){var r=u(e)[0];return(0,o.getNewAttachPoint)(r.original||r,n,t)}function i(e,t,n){var r=u(e),i=r[r.length-1];return(0,o.getNewAttachPoint)(i.original||i,n,t)}function a(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}}function u(e){var t=e.waypoints;if(!t.length)throw new Error("connection#"+e.id+": no waypoints");return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(357);Object.defineProperty(t,"classNames",{enumerable:!0,get:function(){return u(o).default}});var r=n(101);Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return r.inject}}),Object.defineProperty(t,"injectType",{enumerable:!0,get:function(){return r.injectType}});var i=n(102);Object.defineProperty(t,"compose",{enumerable:!0,get:function(){return u(i).default}});var a=n(358);function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"mixin",{enumerable:!0,get:function(){return u(a).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(394),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["interactionEvents"],interactionEvents:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(396)),r=i(n(397));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[r.default],__init__:["decisionTableModelingRules"],decisionTableModelingRules:["type",o.default]}},,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(165);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=o,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasLowerCaseAlias=function(e){return e.xml&&"lowerCase"===e.xml.tagAlias},t.serializeAsType=function(e){return r(e)===o},t.serializeAsProperty=function(e){return"property"===r(e)};t.DEFAULT_NS_MAP={xsi:"http://www.w3.org/2001/XMLSchema-instance"};var o=t.XSI_TYPE="xsi:type";function r(e){return e.xml&&e.xml.serialize}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;function o(e,t){var n=this;t=t||1e3,e.on(["render.shape","render.connection"],t,(function(e,t){var o=e.type,r=t.element,i=t.gfx;if(n.canRender(r))return"render.shape"===o?n.drawShape(i,r):n.drawConnection(i,r)})),e.on(["render.getShapePath","render.getConnectionPath"],t,(function(e,t){if(n.canRender(t))return"render.getShapePath"===e.type?n.getShapePath(t):n.getConnectionPath(t)}))}o.prototype.canRender=function(){},o.prototype.drawShape=function(){},o.prototype.drawConnection=function(){},o.prototype.getShapePath=function(){},o.prototype.getConnectionPath=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(75),r=n(0);function i(){this._uid=12}i.prototype.createRoot=function(e){return this.create("root",e)},i.prototype.createLabel=function(e){return this.create("label",e)},i.prototype.createShape=function(e){return this.create("shape",e)},i.prototype.createConnection=function(e){return this.create("connection",e)},i.prototype.create=function(e,t){return(t=(0,r.assign)({},t||{})).id||(t.id=e+"_"+this._uid++),(0,o.create)(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Base=f,t.Shape=p,t.Root=h,t.Label=y,t.Connection=v,t.create=function(e,t){var n=m[e];if(!n)throw new Error("unknown type: <"+e+">");return(0,o.assign)(new n,t)};var o=n(0),r=a(n(6)),i=a(n(192));function a(e){return e&&e.__esModule?e:{default:e}}var u=new i.default({name:"children",enumerable:!0,collection:!0},{name:"parent"}),s=new i.default({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),c=new i.default({name:"attachers",collection:!0},{name:"host"}),l=new i.default({name:"outgoing",collection:!0},{name:"source"}),d=new i.default({name:"incoming",collection:!0},{name:"target"});function f(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,n=this.labels;!e&&t?n.remove(t):n.add(e,0)}}),u.bind(this,"parent"),s.bind(this,"labels"),l.bind(this,"outgoing"),d.bind(this,"incoming")}function p(){f.call(this),u.bind(this,"children"),c.bind(this,"host"),c.bind(this,"attachers")}function h(){p.call(this)}function y(){p.call(this),s.bind(this,"labelTarget")}function v(){f.call(this),l.bind(this,"source"),d.bind(this,"target")}(0,r.default)(p,f),(0,r.default)(h,p),(0,r.default)(y,p),(0,r.default)(v,f);var m={connection:v,shape:p,label:y,root:h}},function(e,t,n){"use strict";e.exports.extend=function(e,t,n,o){var r=n.inverse;return Object.defineProperty(e,"remove",{value:function(e){var n=this.indexOf(e);return-1!==n&&(this.splice(n,1),t.unset(e,r,o)),e}}),Object.defineProperty(e,"contains",{value:function(e){return-1!==this.indexOf(e)}}),Object.defineProperty(e,"add",{value:function(e,n){var i=this.indexOf(e);if(void 0===n){if(-1!==i)return;n=this.length}-1!==i&&this.splice(i,1),this.splice(n,0,e),-1===i&&t.set(e,r,o)}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e},e.exports.isExtended=function(e){return!0===e.__refs_collection}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(208),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["outline"],outline:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(214)),r=i(n(79));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__init__:["definitionPropertiesView","definitionPropertiesPaletteAdapter"],definitionPropertiesView:["type",o.default],definitionPropertiesPaletteAdapter:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(2);function r(e,t){function n(e,n){var r=t.getContainer();(0,o.classes)(r).toggle(e,n)}e.on("palette.create",(function(){n("with-palette",!0)})),e.on("palette.changed",(function(e){n("with-palette-two-column",e.twoColumn)}))}r.$inject=["eventBus","canvas"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(218),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["zoomScroll"],zoomScroll:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log10=function(e){return Math.log(e)/Math.log(10)};var o=n(30);Object.defineProperty(t,"substract",{enumerable:!0,get:function(){return o.delta}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.set=i,t.unset=function(){i(null)},t.has=function(e){return(0,o.classes)(document.body).has("djs-cursor-"+e)};var o=n(2),r=/^djs-cursor-.*$/;function i(e){var t=(0,o.classes)(document.body);t.removeMatching(r),e&&t.add("djs-cursor-"+e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.install=function(e,t){function n(){return!1}return t=t||"element.click",e.once(t,5e3,n),function(){e.off(t,n)}}},function(e,t,n){"use strict";(function(n){var o,r,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n,u){"object"==a(t)?e.exports=u(n):(r=[],o=u.bind(n,n),void 0===(i="function"==typeof o?o.apply(t,r):o)||(e.exports=i))}(void 0!==n?n:void 0,(function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),o=n.length,r=-1,i="",a=n.charCodeAt(0);++r<o;)0!=(t=n.charCodeAt(r))?i+=t>=1&&t<=31||127==t||0==r&&t>=48&&t<=57||1==r&&t>=48&&t<=57&&45==a?"\\"+t.toString(16)+" ":(0!=r||1!=o||45!=t)&&(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?n.charAt(r):"\\"+n.charAt(r):i+="�";return i};return e.CSS||(e.CSS={}),e.CSS.escape=t,t}))}).call(this,n(238))},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="hasOwnProperty",i=/,?([a-z]),?/gi,a=parseFloat,u=Math,s=u.PI,c=u.min,l=u.max,d=u.pow,f=u.abs,p=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,h=/(-?\d*\.?\d*(?:e[-+]?\\d+)?)[\s]*,?[\s]*/gi;function y(e,t){return"finite"==(t=String.prototype.toLowerCase.call(t))?isFinite(e):!("array"!=t||!(e instanceof Array||Array.isArray&&Array.isArray(e)))||("null"==t&&null===e||t==(void 0===e?"undefined":o(e))&&null!==e||"object"==t&&e===Object(e)||Object.prototype.toString.call(e).slice(8,-1).toLowerCase()==t)}function v(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e[r](n)&&(t[n]=v(e[n]));return t}function m(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function g(e){var t=g.ps=g.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout((function(){for(var n in t)t[r](n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])})),t[e]}function b(e,t,n,o){return null==e&&(e=t=n=o=0),null==t&&(t=e.y,n=e.width,o=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:o,h:o,x2:e+n,y2:t+o,cx:e+n/2,cy:t+o/2,r1:u.min(n,o)/2,r2:u.max(n,o)/2,r0:u.sqrt(n*n+o*o)/2,path:k(e,t,n,o),vb:[e,t,n,o].join(" ")}}function _(){return this.join(",").replace(i,"$1")}function w(e){var t=v(e);return t.toString=_,t}function x(e,t,n,o,r,i,a,c,l){var f=1-l,p=d(f,3),h=d(f,2),y=l*l,v=y*l,m=e+2*l*(n-e)+y*(r-2*n+e),g=t+2*l*(o-t)+y*(i-2*o+t),b=n+2*l*(r-n)+y*(a-2*r+n),_=o+2*l*(i-o)+y*(c-2*i+o);return{x:p*e+3*h*l*n+3*f*l*l*r+v*a,y:p*t+3*h*l*o+3*f*l*l*i+v*c,m:{x:m,y:g},n:{x:b,y:_},start:{x:f*e+l*n,y:f*t+l*o},end:{x:f*r+l*a,y:f*i+l*c},alpha:90-180*u.atan2(m-b,g-_)/s}}function O(e,t,n,o,r,i,a,u){y(e,"array")||(e=[e,t,n,o,r,i,a,u]);var s=D.apply(null,e);return b(s.min.x,s.min.y,s.max.x-s.min.x,s.max.y-s.min.y)}function E(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function C(e,t,n,o,r){return e*(e*(-3*t+9*n-9*o+3*r)+6*t-12*n+6*o)-3*t+3*n}function j(e,t,n,o,r,i,a,s,c){null==c&&(c=1);for(var l=(c=c>1?1:c<0?0:c)/2,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,h=0;h<12;h++){var y=l*d[h]+l,v=C(y,e,n,r,a),m=C(y,t,o,i,s),g=v*v+m*m;p+=f[h]*u.sqrt(g)}return l*p}function S(e,t,n,o,r,i,a,u){if(!(l(e,n)<c(r,a)||c(e,n)>l(r,a)||l(t,o)<c(i,u)||c(t,o)>l(i,u))){var s=(e-n)*(i-u)-(t-o)*(r-a);if(s){var d=((e*o-t*n)*(r-a)-(e-n)*(r*u-i*a))/s,f=((e*o-t*n)*(i-u)-(t-o)*(r*u-i*a))/s,p=+d.toFixed(2),h=+f.toFixed(2);if(!(p<+c(e,n).toFixed(2)||p>+l(e,n).toFixed(2)||p<+c(r,a).toFixed(2)||p>+l(r,a).toFixed(2)||h<+c(t,o).toFixed(2)||h>+l(t,o).toFixed(2)||h<+c(i,u).toFixed(2)||h>+l(i,u).toFixed(2)))return{x:d,y:f}}}}function P(e,t,n){if(!function(e,t){return e=b(e),E(t=b(t),e.x,e.y)||E(t,e.x2,e.y)||E(t,e.x,e.y2)||E(t,e.x2,e.y2)||E(e,t.x,t.y)||E(e,t.x2,t.y)||E(e,t.x,t.y2)||E(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(O(e),O(t)))return n?0:[];for(var o=~~(j.apply(0,e)/5),r=~~(j.apply(0,t)/5),i=[],a=[],u={},s=n?0:[],c=0;c<o+1;c++){var l=x.apply(0,e.concat(c/o));i.push({x:l.x,y:l.y,t:c/o})}for(c=0;c<r+1;c++)l=x.apply(0,t.concat(c/r)),a.push({x:l.x,y:l.y,t:c/r});for(c=0;c<o;c++)for(var d=0;d<r;d++){var p=i[c],h=i[c+1],y=a[d],v=a[d+1],m=f(h.x-p.x)<.01?"y":"x",g=f(v.x-y.x)<.01?"y":"x",_=S(p.x,p.y,h.x,h.y,y.x,y.y,v.x,v.y);if(_){if(u[_.x.toFixed(0)]==_.y.toFixed(0))continue;u[_.x.toFixed(0)]=_.y.toFixed(0);var w=p.t+f((_[m]-p[m])/(h[m]-p[m]))*(h.t-p.t),C=y.t+f((_[g]-y[g])/(v[g]-y[g]))*(v.t-y.t);w>=0&&w<=1&&C>=0&&C<=1&&(n?s++:s.push({x:_.x,y:_.y,t1:w,t2:C}))}}return s}function k(e,t,n,o,r){if(r)return[["M",+e+ +r,t],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,o-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-o],["a",r,r,0,0,1,r,-r],["z"]];var i=[["M",e,t],["l",n,0],["l",0,o],["l",-n,0],["z"]];return i.toString=_,i}function M(e,t,n,o,r){if(null==r&&null==o&&(o=n),e=+e,t=+t,n=+n,o=+o,null!=r)var i=Math.PI/180,a=e+n*Math.cos(-o*i),u=e+n*Math.cos(-r*i),s=[["M",a,t+n*Math.sin(-o*i)],["A",n,n,0,+(r-o>180),0,u,t+n*Math.sin(-r*i)]];else s=[["M",e,t],["m",0,-o],["a",n,o,0,1,1,0,2*o],["a",n,o,0,1,1,0,-2*o],["z"]];return s.toString=_,s}function T(e){var t=g(e);if(t.abs)return w(t.abs);if(y(e,"array")&&y(e&&e[0],"array")||(e=function(e){if(!e)return null;var t=g(e);if(t.arr)return v(t.arr);var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},o=[];return y(e,"array")&&y(e[0],"array")&&(o=v(e)),o.length||String(e).replace(p,(function(e,t,r){var i=[],a=t.toLowerCase();if(r.replace(h,(function(e,t){t&&i.push(+t)})),"m"==a&&i.length>2&&(o.push([t].concat(i.splice(0,2))),a="l",t="m"==t?"l":"L"),"o"==a&&1==i.length&&o.push([t,i[0]]),"r"==a)o.push([t].concat(i));else for(;i.length>=n[a]&&(o.push([t].concat(i.splice(0,n[a]))),n[a]););})),o.toString=g.toString,t.arr=v(o),o}(e)),!e||!e.length)return[["M",0,0]];var n,o=[],r=0,i=0,a=0,u=0,s=0;"M"==e[0][0]&&(a=r=+e[0][1],u=i=+e[0][2],s++,o[0]=["M",r,i]);for(var c,l,d=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),f=s,m=e.length;f<m;f++){if(o.push(c=[]),(n=(l=e[f])[0])!=n.toUpperCase())switch(c[0]=n.toUpperCase(),c[0]){case"A":c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=+l[6]+r,c[7]=+l[7]+i;break;case"V":c[1]=+l[1]+i;break;case"H":c[1]=+l[1]+r;break;case"R":for(var b=[r,i].concat(l.slice(1)),x=2,O=b.length;x<O;x++)b[x]=+b[x]+r,b[++x]=+b[x]+i;o.pop(),o=o.concat(V(b,d));break;case"O":o.pop(),(b=M(r,i,l[1],l[2])).push(b[0]),o=o.concat(b);break;case"U":o.pop(),o=o.concat(M(r,i,l[1],l[2],l[3])),c=["U"].concat(o[o.length-1].slice(-2));break;case"M":a=+l[1]+r,u=+l[2]+i;default:for(x=1,O=l.length;x<O;x++)c[x]=+l[x]+(x%2?r:i)}else if("R"==n)b=[r,i].concat(l.slice(1)),o.pop(),o=o.concat(V(b,d)),c=["R"].concat(l.slice(-2));else if("O"==n)o.pop(),(b=M(r,i,l[1],l[2])).push(b[0]),o=o.concat(b);else if("U"==n)o.pop(),o=o.concat(M(r,i,l[1],l[2],l[3])),c=["U"].concat(o[o.length-1].slice(-2));else for(var E=0,C=l.length;E<C;E++)c[E]=l[E];if("O"!=(n=n.toUpperCase()))switch(c[0]){case"Z":r=+a,i=+u;break;case"H":r=c[1];break;case"V":i=c[1];break;case"M":a=c[c.length-2],u=c[c.length-1];default:r=c[c.length-2],i=c[c.length-1]}}return o.toString=_,t.abs=w(o),o}function N(e,t,n,o){return[e,t,n,o,n,o]}function A(e,t,n,o,r,i){return[1/3*e+2/3*n,1/3*t+2/3*o,1/3*r+2/3*n,1/3*i+2/3*o,r,i]}function R(e,t,n,o,i,a,c,l,d,p){var h,y,v,g,b=120*s/180,_=s/180*(+i||0),w=[],x=(y=function(e,t,n){return{x:e*u.cos(n)-t*u.sin(n),y:e*u.sin(n)+t*u.cos(n)}},function e(){var t=Array.prototype.slice.call(arguments,0),n=t.join("␀"),o=e.cache=e.cache||{},i=e.count=e.count||[];return o[r](n)?(m(i,n),g?g(o[n]):o[n]):(i.length>=1e3&&delete o[i.shift()],i.push(n),o[n]=y.apply(v,t),g?g(o[n]):o[n])});if(p)T=p[0],N=p[1],k=p[2],M=p[3];else{e=(h=x(e,t,-_)).x,t=h.y;var O=(e-(l=(h=x(l,d,-_)).x))/2,E=(t-(d=h.y))/2,C=O*O/(n*n)+E*E/(o*o);C>1&&(n*=C=u.sqrt(C),o*=C);var j=n*n,S=o*o,P=(a==c?-1:1)*u.sqrt(f((j*S-j*E*E-S*O*O)/(j*E*E+S*O*O))),k=P*n*E/o+(e+l)/2,M=P*-o*O/n+(t+d)/2,T=u.asin(((t-M)/o).toFixed(9)),N=u.asin(((d-M)/o).toFixed(9));(T=e<k?s-T:T)<0&&(T=2*s+T),(N=l<k?s-N:N)<0&&(N=2*s+N),c&&T>N&&(T-=2*s),!c&&N>T&&(N-=2*s)}var A=N-T;if(f(A)>b){var V=N,D=l,I=d;N=T+b*(c&&N>T?1:-1),w=R(l=k+n*u.cos(N),d=M+o*u.sin(N),n,o,i,0,c,D,I,[N,V,k,M])}A=N-T;var B=u.cos(T),L=u.sin(T),$=u.cos(N),F=u.sin(N),U=u.tan(A/4),z=4/3*n*U,q=4/3*o*U,W=[e,t],G=[e+z*L,t-q*B],H=[l+z*F,d-q*$],K=[l,d];if(G[0]=2*W[0]-G[0],G[1]=2*W[1]-G[1],p)return[G,H,K].concat(w);for(var X=[],Y=0,J=(w=[G,H,K].concat(w).join().split(",")).length;Y<J;Y++)X[Y]=Y%2?x(w[Y-1],w[Y],_).y:x(w[Y],w[Y+1],_).x;return X}function V(e,t){for(var n=[],o=0,r=e.length;r-2*!t>o;o+=2){var i=[{x:+e[o-2],y:+e[o-1]},{x:+e[o],y:+e[o+1]},{x:+e[o+2],y:+e[o+3]},{x:+e[o+4],y:+e[o+5]}];t?o?r-4==o?i[3]={x:+e[0],y:+e[1]}:r-2==o&&(i[2]={x:+e[0],y:+e[1]},i[3]={x:+e[2],y:+e[3]}):i[0]={x:+e[r-2],y:+e[r-1]}:r-4==o?i[3]=i[2]:o||(i[0]={x:+e[o],y:+e[o+1]}),n.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return n}function D(e,t,n,o,r,i,a,s){for(var d,p,h,y,v,m,g,b,_=[],w=[[],[]],x=0;x<2;++x)if(0==x?(p=6*e-12*n+6*r,d=-3*e+9*n-9*r+3*a,h=3*n-3*e):(p=6*t-12*o+6*i,d=-3*t+9*o-9*i+3*s,h=3*o-3*t),f(d)<1e-12){if(f(p)<1e-12)continue;0<(y=-h/p)&&y<1&&_.push(y)}else g=p*p-4*h*d,b=u.sqrt(g),g<0||(0<(v=(-p+b)/(2*d))&&v<1&&_.push(v),0<(m=(-p-b)/(2*d))&&m<1&&_.push(m));for(var O,E=_.length,C=E;E--;)O=1-(y=_[E]),w[0][E]=O*O*O*e+3*O*O*y*n+3*O*y*y*r+y*y*y*a,w[1][E]=O*O*O*t+3*O*O*y*o+3*O*y*y*i+y*y*y*s;return w[0][C]=e,w[1][C]=t,w[0][C+1]=a,w[1][C+1]=s,w[0].length=w[1].length=C+2,{min:{x:c.apply(0,w[0]),y:c.apply(0,w[1])},max:{x:l.apply(0,w[0]),y:l.apply(0,w[1])}}}function I(e,t){var n=!t&&g(e);if(!t&&n.curve)return w(n.curve);for(var o=T(e),r=t&&T(t),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=function(e,t,n){var o,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(R.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"==n||"S"==n?(o=2*t.x-t.bx,r=2*t.y-t.by):(o=t.x,r=t.y),e=["C",o,r].concat(e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(A(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(A(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(N(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(N(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(N(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(N(t.x,t.y,t.X,t.Y))}return e},c=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)f[t]="A",r&&(p[t]="A"),e.splice(t++,0,["C"].concat(n.splice(0,6)));e.splice(t,1),m=l(o.length,r&&r.length||0)}},d=function(e,t,n,i,a){e&&t&&"M"==e[a][0]&&"M"!=t[a][0]&&(t.splice(a,0,["M",i.x,i.y]),n.bx=0,n.by=0,n.x=e[a][1],n.y=e[a][2],m=l(o.length,r&&r.length||0))},f=[],p=[],h="",y="",v=0,m=l(o.length,r&&r.length||0);v<m;v++){o[v]&&(h=o[v][0]),"C"!=h&&(f[v]=h,v&&(y=f[v-1])),o[v]=s(o[v],i,y),"A"!=f[v]&&"C"==h&&(f[v]="C"),c(o,v),r&&(r[v]&&(h=r[v][0]),"C"!=h&&(p[v]=h,v&&(y=p[v-1])),r[v]=s(r[v],u,y),"A"!=p[v]&&"C"==h&&(p[v]="C"),c(r,v)),d(o,r,i,u,v),d(r,o,u,i,v);var b=o[v],_=r&&r[v],x=b.length,O=r&&_.length;i.x=b[x-2],i.y=b[x-1],i.bx=a(b[x-4])||i.x,i.by=a(b[x-3])||i.y,u.bx=r&&(a(_[O-4])||u.x),u.by=r&&(a(_[O-3])||u.y),u.x=r&&_[O-2],u.y=r&&_[O-1]}return r||(n.curve=w(o)),r?[o,r]:o}e.exports=function(e,t,n){e=I(e),t=I(t);for(var o,r,i,a,u,s,c,l,d,f,p=n?0:[],h=0,y=e.length;h<y;h++){var v=e[h];if("M"==v[0])o=u=v[1],r=s=v[2];else{"C"==v[0]?(d=[o,r].concat(v.slice(1)),o=d[6],r=d[7]):(d=[o,r,o,r,u,s,u,s],o=u,r=s);for(var m=0,g=t.length;m<g;m++){var b=t[m];if("M"==b[0])i=c=b[1],a=l=b[2];else{"C"==b[0]?(f=[i,a].concat(b.slice(1)),i=f[6],a=f[7]):(f=[i,a,i,a,c,l,c,l],i=c,a=l);var _=P(d,f,n);if(n)p+=_;else{for(var w=0,x=_.length;w<x;w++)_[w].segment1=h,_[w].segment2=m,_[w].bez1=d,_[w].bez2=f;p=p.concat(_)}}}}}return p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.containsDi=function(e){return(0,o.some)(e.drgElements,i)},t.hasDi=i;var o=n(0),r=n(3);function i(e){var t=e.extensionElements,n=t&&t.values;return n&&(0,o.find)(n,(function(e){return(0,r.is)(e,"biodi:Bounds")}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(e,t,n,r,i,a,u,s,c){this._actions={undo:function(){t.undo()},redo:function(){t.redo()},copy:function(){var e=r.get();a.copy(e)},paste:function(){var e=c.getHoverContext();a.paste(e)},stepZoom:function(e){i.stepZoom(e.value)},zoom:function(e){u.zoom(e.value)},removeSelection:function(){var e=r.get();if(e.length){var t,i=s.allowed("elements.delete",{elements:e});if(!1===i)return;(t=(0,o.isArray)(i)?i:e).length&&n.removeElements(t.slice())}},moveCanvas:function(e){var t=0,n=0,o=e.invertY,r=e.speed/Math.min(Math.sqrt(u.viewbox().scale),1);switch(e.direction){case"left":t=r;break;case"up":n=r;break;case"right":t=-r;break;case"down":n=-r}n&&o&&(n=-n),u.scroll({dx:t,dy:n})}}}function i(e,t){return new Error(e+" "+t)}r.$inject=["eventBus","commandStack","modeling","selection","zoomScroll","copyPaste","canvas","rules","mouseTracking"],r.prototype.trigger=function(e,t){if(!this._actions[e])throw i(e,"is not a registered action");return this._actions[e](t)},r.prototype.register=function(e,t){var n=this;if("string"==typeof e)return this._registerAction(e,t);(0,o.forEach)(e,(function(e,t){n._registerAction(t,e)}))},r.prototype._registerAction=function(e,t){if(this.isRegistered(e))throw i(e,"is already registered");this._actions[e]=t},r.prototype.unregister=function(e){if(!this.isRegistered(e))throw i(e,"is not a registered action");this._actions[e]=void 0},r.prototype.length=function(){return Object.keys(this._actions).length},r.prototype.isRegistered=function(e){return!!this._actions[e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(253)),r=i(n(255));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default],__init__:["lassoTool"],lassoTool:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(31)),r=u(n(11)),i=u(n(24)),a=u(n(262));function u(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default,i.default],create:["type",a.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(91),i=(o=r)&&o.__esModule?o:{default:o};t.default={commandStack:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],(function(){this.clear(!1)}),this)}r.$inject=["eventBus","injector"],r.prototype.execute=function(e,t){if(!e)throw new Error("command required");var n={command:e,context:t};this._pushAction(n),this._internalExecute(n),this._popAction(n)},r.prototype.canExecute=function(e,t){var n={command:e,context:t},o=this._getHandler(e),r=this._fire(e,"canExecute",n);if(void 0===r){if(!o)return!1;o.canExecute&&(r=o.canExecute(t))}return r},r.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,!1!==e&&this._fire("changed")},r.prototype.undo=function(){var e,t=this._getUndoAction();if(t){for(this._pushAction(t);t&&(this._internalUndo(t),(e=this._getUndoAction())&&e.id===t.id);)t=e;this._popAction()}},r.prototype.redo=function(){var e,t=this._getRedoAction();if(t){for(this._pushAction(t);t&&(this._internalExecute(t,!0),(e=this._getRedoAction())&&e.id===t.id);)t=e;this._popAction()}},r.prototype.register=function(e,t){this._setHandler(e,t)},r.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");var n=this._injector.instantiate(t);this.register(e,n)},r.prototype.canUndo=function(){return!!this._getUndoAction()},r.prototype.canRedo=function(){return!!this._getRedoAction()},r.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},r.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},r.prototype._internalUndo=function(e){var t=this,n=e.command,o=e.context,r=this._getHandler(n);this._atomicDo((function(){t._fire(n,"revert",e),r.revert&&t._markDirty(r.revert(o)),t._revertedAction(e),t._fire(n,"reverted",e)}))},r.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);var o,r,i,a=t?[e+"."+t,t]:[e];for(n=this._eventBus.createEvent(n),o=0;(r=a[o])&&(i=this._eventBus.fire("commandStack."+r,n),!n.cancelBubble);o++);return i},r.prototype._createId=function(){return this._uid++},r.prototype._atomicDo=function(e){var t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}},r.prototype._internalExecute=function(e,t){var n=this,o=e.command,r=e.context,i=this._getHandler(o);if(!i)throw new Error("no command handler registered for <"+o+">");this._pushAction(e),t||(this._fire(o,"preExecute",e),i.preExecute&&i.preExecute(r),this._fire(o,"preExecuted",e)),this._atomicDo((function(){n._fire(o,"execute",e),i.execute&&n._markDirty(i.execute(r)),n._executedAction(e,t),n._fire(o,"executed",e)})),t||(this._fire(o,"postExecute",e),i.postExecute&&i.postExecute(r),this._fire(o,"postExecuted",e)),this._popAction(e)},r.prototype._pushAction=function(e){var t=this._currentExecution,n=t.actions,o=n[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=o&&o.id||this._createId()),n.push(e)},r.prototype._popAction=function(){var e=this._currentExecution,t=e.actions,n=e.dirty;t.pop(),t.length||(this._eventBus.fire("elements.changed",{elements:(0,o.uniqueBy)("id",n)}),n.length=0,this._fire("changed"))},r.prototype._markDirty=function(e){var t=this._currentExecution;e&&(e=(0,o.isArray)(e)?e:[e],t.dirty=t.dirty.concat(e))},r.prototype._executedAction=function(e,t){var n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)},r.prototype._revertedAction=function(e){this._stackIdx--},r.prototype._getHandler=function(e){return this._handlerMap[e]},r.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(278),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["changeSupport"],changeSupport:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLabel=function(e){var t=e.businessObject,n=r(t);if(n)return t[n]||""},t.setLabel=function(e,t,n){var o=e.businessObject,i=r(o);i&&(o[i]=t);n&&(e.hidden=!t);return e};var o=n(3);function r(e){return(0,o.is)(e,"dmn:Decision")||(0,o.is)(e,"dmn:BusinessKnowledgeModel")||(0,o.is)(e,"dmn:InputData")||(0,o.is)(e,"dmn:KnowledgeSource")?"name":(0,o.is)(e,"dmn:TextAnnotation")?"text":void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=i(n(6)),r=i(n(9));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){r.default.call(this,e),this.init()}a.$inject=["eventBus"],(0,o.default)(a,r.default),a.prototype.addRule=function(e,t,n){var o=this;"string"==typeof e&&(e=[e]),e.forEach((function(e){o.canExecute(e,t,(function(e,t,o){return n(e)}),!0)}))},a.prototype.init=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(0),r=Math.round;function i(e){this._canvas=e}i.$inject=["canvas"],i.prototype.execute=function(e){var t=e.shape,n=e.position,i=e.parent,a=e.parentIndex;if(!i)throw new Error("parent required");if(!n)throw new Error("position required");return void 0!==n.width?(0,o.assign)(t,n):(0,o.assign)(t,{x:n.x-r(t.width/2),y:n.y-r(t.height/2)}),this._canvas.addShape(t,i,a),t},i.prototype.revert=function(e){this._canvas.removeShape(e.shape)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o,r=n(0),i=n(53),a=n(307),u=(o=a)&&o.__esModule?o:{default:o};function s(e){this._modeling=e}s.prototype.moveRecursive=function(e,t,n){return e?this.moveClosure(this.getClosure(e),t,n):[]},s.prototype.moveClosure=function(e,t,n,o,a){var u=this._modeling,s=e.allShapes,c=e.allConnections,l=e.enclosedConnections,d=e.topLevel,f=!1;a&&a.parent===n&&(f=!0),(0,r.forEach)(s,(function(e){u.moveShape(e,t,d[e.id]&&!f&&n,{recurse:!1,layout:!1})})),(0,r.forEach)(c,(function(e){var o=!!s[e.source.id],r=!!s[e.target.id];l[e.id]&&o&&r?u.moveConnection(e,t,d[e.id]&&!f&&n):u.layoutConnection(e,{connectionStart:o&&(0,i.getMovedSourceAnchor)(e,e.source,t),connectionEnd:r&&(0,i.getMovedTargetAnchor)(e,e.target,t)})}))},s.prototype.getClosure=function(e){return(new u.default).addAll(e,!0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uid=12}return r(e,[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.id||(t.id=e+"_"+this._uid++),(0,o.create)(e,t)}},{key:"createRoot",value:function(e){return this.create("root",e)}},{key:"createRow",value:function(e){return this.create("row",e)}},{key:"createCol",value:function(e){return this.create("col",e)}},{key:"createCell",value:function(e){return this.create("cell",e)}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(344)),r=a(n(345)),i=a(n(346));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__init__:["changeSupport","components","renderer"],changeSupport:["type",o.default],components:["type",r.default],renderer:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,o.createVNode)(1,"th","annotation header",(0,o.createTextVNode)("Annotation"),2,{rowspan:"3"})};var o=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(54),a=n(103),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function c(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return(0,i.mixin)(r,a.SelectionAware),(0,i.inject)(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"getRenderProps",value:function(){for(var e=this.props,t=e.className,n=e.elementId,o=e.coords,r=c(e,["className","elementId","coords"]),a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];var d={className:i.classNames.apply(void 0,s.concat([this.getSelectionClasses(),t]))};return n&&(d["data-element-id"]=n),o&&(d["data-coords"]=o),u({},d,r)}}]),t}(r.Component);t.default=l},function(e,t,n){"use strict";function o(e,t){var n=e.$inject;if(n){var o=t.context.injector,r=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n),[function(){for(var e=arguments.length,o=Array(e),r=0;r<e;r++)o[r]=arguments[r];for(var i in o){var a=n[i],u=o[i];t[a]=u}}]);o.invoke(r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.inject=function(e){return o(e.constructor,e)},t.injectType=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];var i=void 0;return n.forEach((function(t){if(void 0!==(i=t.call.apply(t,[e].concat(o))))return!1})),i}.bind(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(359);Object.defineProperty(t,"SelectionAware",{enumerable:!0,get:function(){return(e=o,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(375),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["decisionRules"],decisionRules:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(52)),r=a(n(56)),i=a(n(400));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default],__init__:["copyCutPaste"],copyCutPaste:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDescriptor=l,t.reviveDescriptor=p;var o=n(0),r=n(12),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=[function(e,t,n,o){var a=n,u=i({},t,{type:f(e)});if(e instanceof r.Row||e instanceof r.Col){var s=o(e.cells,a);u.cells=s.root,a=s.descriptorCache}return{root:u,descriptorCache:a}},function(e,t,n){var r=e.businessObject;if(!r)return{root:t,descriptorCache:n};var u=function e(t,n){var r,u,s=t.id;if(s&&(r=n.boCache||{},u=r[s]))return{root:u,descriptorCache:n};var c={$type:t.$type};s&&(c.id=s,r=i({},r,a({},s,c)),n=i({},n,{boCache:r}));return t.$descriptor.properties.forEach((function(r){var i=t[r.name];if(i){if((0,o.isArray)(i)&&(i=i.map((function(t){var o=e(t,n);return n=o.descriptorCache,o.root}))),i.$type){var a=e(i,n);n=a.descriptorCache,i=a.root}c[r.name]=i}})),{root:c,descriptorCache:n}}(r,n);return{root:i({},t,{businessObject:u.root}),descriptorCache:u.descriptorCache}}],c=[function(e,t,n){var r=e.root.businessObject;if(!r)return{root:t,reviveCache:n};var u=function e(t,n){var r=t.root,u=r.id,s=void 0,c=void 0;if(u&&(s=n.boCache||{},c=s[u]))return{root:c,reviveCache:n};var l={};(0,o.keys)(r).forEach((function(t){var i=void 0,a=void 0;r[t].$type?(i=(a=e({root:r[t]},n)).root,n=a.reviveCache,s=n.boCache||{}):i=(0,o.isArray)(r[t])?r[t].map((function(t){return a=e({root:t},n),n=a.reviveCache,s=n.boCache||{},a.root})):r[t],l[t]=i}));var d=l.$type;delete l.$type,(!n._keepIds||n._model.ids.assigned(l.id))&&delete l.id;var f=n._dmnFactory.create(d,l);(0,o.forEach)(l,(function(e){e.$type&&(e.$parent=f),(0,o.isArray)(e)&&e.forEach((function(e){return e.$parent=f}))})),u&&(s=i({},s,a({},u,f)),n=i({},n,{boCache:s}));return{root:f,reviveCache:n}}({root:r,descriptorCache:e.descriptorCache},n);return{root:i({},t,{businessObject:u.root}),reviveCache:u.reviveCache}},function(e,t,n,o){var a=e.root,u=e.descriptorCache,s=i({},t);t.businessObject&&t.businessObject.id&&(s.id=t.businessObject.id);if("row"===a.type||"col"===a.type){var c=o({root:a.cells,descriptorCache:u},n);s.cells=c.root,n=c.reviveCache}var l=new(function(e){switch(e.type){case"row":return r.Row;case"cell":return r.Cell;case"col":return r.Col;default:throw new Error("unknown element type: #"+e.type)}}(a))(s);l instanceof r.Row?l.cells.forEach((function(e){e.row=l})):l instanceof r.Col&&l.cells.forEach((function(e){e.col=l}));return{root:l,reviveCache:n}}];function l(e,t,n){return n=n||s,t=t||{},(0,o.isArray)(e)?function(e,t,n){return(0,o.reduce)(e,(function(e,t){var o=e.descriptorCache,r=e.root,a=d(t,o,n),s=a.root,c=a.descriptorCache;return{root:[].concat(u(r),[s]),descriptorCache:i({},o,c)}}),{root:[],descriptorCache:t})}(e,t,n):d(e,t,n)}function d(e,t,n){var r=e.id,u={id:r},s=t.elements||{},c=s[r];if(c)return{root:c,descriptorCache:t};var d=function(e,t,n,r){function i(e,t){return l(e,t,n)}return(0,o.reduce)(n,(function(t,n){return n(e,t.root,t.descriptorCache,i)}),{root:t,descriptorCache:r})}(e,u,n,i({},t,{elements:s}));return{root:d.root,descriptorCache:i({},d.descriptorCache,{elements:i({},d.descriptorCache.elements,a({},r,d.root))})}}function f(e){if(e instanceof r.Row)return"row";if(e instanceof r.Col)return"col";if(e instanceof r.Cell)return"cell";throw new Error("cannot deduce element type: #"+e.id)}function p(e,t,n){return n=n||c,t=t||{},(0,o.isArray)(e.root)?function(e,t,n){var r=e.root,i=e.descriptorCache;return(0,o.reduce)(r,(function(e,t){var o=e.reviveCache,r=e.root,a=h({root:t,descriptorCache:i},o,n),s=a.root,c=a.reviveCache;return{root:[].concat(u(r),[s]),reviveCache:c}}),{root:[],reviveCache:t})}(e,t,n):h(e,t,n)}function h(e,t,n){var r=e.root.id,u=t.elements||{},s=u[r];if(s)return{root:s,reviveCache:t};var c=function(e,t,n,r){function i(e,t){return p(e,t,n)}return(0,o.reduce)(n,(function(t,n){return n(e,t.root,t.reviveCache,i)}),{root:t,reviveCache:r})}(e,{id:r},n,i({},t,{elements:u}));return{root:c.root,reviveCache:i({},c.reviveCache,{elements:i({},c.reviveCache.elements,a({},r,c.root))})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(40)),r=i(n(404));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default],__init__:["editorActions"],editorActions:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=s(n(408)),a=n(41),u=s(n(409));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.onFocus=function(){var e=i.props.onFocus;i.setState({focussed:!0}),"function"==typeof e&&e()},i.onBlur=function(){var e=i.props.onBlur;i.setState({focussed:!1}),"function"==typeof e&&e()},i.onKeydown=function(e){if(13===e.which){if(e.preventDefault(),i.props.ctrlForNewline&&!function(e){return e.metaKey||e.ctrlKey}(e))return;e.stopPropagation(),function(){var e=(0,a.getWindowSelection)().getRangeAt(0);if(!e)return;var t=e.cloneRange(),n=document.createElement("br");t.deleteContents(),t.insertNode(n),t.setStartAfter(n),t.setEndAfter(n),(0,a.applyRange)(t)}(),i.onInput(e)}},i.onInput=function(e){var t=i.props.onInput;"function"==typeof t&&t(d(i.node))},i.onPaste=f,i.onKeypress=f,i.state={},((r=window.navigator.userAgent).indexOf("MSIE ")>0||r.indexOf("Trident/")>0)&&(i.onPaste=i.onKeypress=function(e){var t=i.node.innerHTML;setTimeout((function(){var n=i.node.innerHTML;t!==n&&i.onInput(e)}),0)}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"componentWillUpdate",value:function(e,t){var n=this.node,o=t.focussed&&(0,a.getRange)(n);this.selected=o&&{range:o,text:d(n)}}},{key:"componentDidUpdate",value:function(){var e=this.selected;if(e){var t=e.range,n=e.text,o=this.node,r=d(o),i=r!==n?(0,u.default)(t,n,r):t;(0,a.setRange)(o,i)}}},{key:"render",value:function(e){var t=this,n=e.value,o=e.className;return n=(0,i.default)(n).replace(/\r?\n/g,"<br/>")+"<br/>",(0,r.createVNode)(1,"div",[o||"","content-editable"].join(" "),null,1,{contentEditable:"true",spellcheck:"false",onInput:this.onInput,onKeypress:this.onKeypress,onPaste:this.onPaste,onFocus:this.onFocus,onBlur:this.onBlur,onKeydown:this.onKeydown,dangerouslySetInnerHTML:{__html:n}},null,(function(e){return t.node=e}))}}]),t}(r.Component);function d(e){return e.innerText.replace(/\n$/,"")}function f(){}t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasModifier=function(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey},t.isCmd=function(e){if(e.altKey)return!1;return e.ctrlKey||e.metaKey},t.isShift=function(e){return e.shiftKey}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(0),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.getRemoveClickHandler=function(e){return function(t){t.stopPropagation(),r.removeItem(e)}},r.getToggleClickHandler=function(e){return function(t){t.stopPropagation(),r.toggleItem(e)}},r.removeItem=function(e){var t=r.props.onChange,n=r.state.items.filter((function(t){return t!==e}));r.setState({items:n}),t&&t(n)},r.toggleItem=function(e){var t=r.props,n=t.onChange,o=t.type,i=r.state.items.map((function(t){return t===e?t.isChecked=!t.isChecked:"radio"===o&&(t.isChecked=!1),t}));r.setState({items:i}),n&&n(i)};var i=e.items;return r.state={items:i},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.items;this.setState({items:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=t.items,a=t.type,u=["dms-list-component"];n&&u.push(n);var s=function(e){var t=[];for(var n in e)t.push([n,e[n]]);return t}((0,i.groupBy)(o,"group"));return(0,r.createVNode)(1,"div",u.join(" "),s.map((function(t){var n=t[0],o=t[1];return(0,r.createVNode)(1,"div","group",[(0,r.createVNode)(1,"h4","dms-heading",n,0),(0,r.createVNode)(1,"ul","items no-wrap",o.map((function(t){return(0,r.createVNode)(1,"li","item",[a&&(0,r.createVNode)(64,"input","item-toggle",null,1,{type:a,checked:t.isChecked,onClick:e.getToggleClickHandler(t)}),(0,r.createTextVNode)(" "),t.value,t.isRemovable&&(0,r.createVNode)(1,"span","remove dmn-icon-clear",null,1,{title:"Remove item",onClick:e.getRemoveClickHandler(t)})],0)})),0)],4)})),0)}}]),t}(r.Component);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateId=function(e,t){var n=e.$model.ids.assigned(t),u=n&&n!==e;if(!t||u)return"Element must have an unique id.";return function(e){if(function(e){return o.test(e)}(e=function(e){return e.replace(a,"$1")}(e)))return"Id must not contain spaces.";if(!i.test(e))return r.test(e)?"Id must not contain prefix.":"Id must be a valid QName."}(t)};var o=/\s/,r=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,i=/^[a-z_][\w-.]*$/i,a=/\$\{([^}]*)\}/g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(0),a=n(9),u=(o=a)&&o.__esModule?o:{default:o},s=n(3);var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.executed("updateProperties",n.updateIds.bind(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"updateIds",value:function(e){var t=e.context,n=t.element,o=t.oldProperties,r=t.properties;(0,s.is)(n,"dmn:DRGElement")&&function(e,t){return"id"in e&&"id"in t}(o,r)&&function(e){return e.$parent.drgElements}(n).forEach((function(e){!function(e,t,n){var o={authorityRequirement:function(){e.authorityRequirement.forEach((function(e){var o=e.requiredAuthority,r=e.requiredDecision,i=e.requiredInput;o&&o.href==="#"+t&&(o.href="#"+n),r&&r.href==="#"+t&&(r.href="#"+n),i&&i.href==="#"+t&&(i.href="#"+n)}))},informationRequirement:function(){e.informationRequirement.forEach((function(e){var o=e.requiredDecision,r=e.requiredInput;o&&o.href==="#"+t&&(o.href="#"+n),r&&r.href==="#"+t&&(r.href="#"+n)}))},knowledgeRequirement:function(){e.knowledgeRequirement.forEach((function(e){var o=e.requiredKnowledge;o&&o.href==="#"+t&&(o.href="#"+n)}))}};(0,i.forEach)(o,(function(t,n){e[n]&&t()}))}(e,o.id,r.id),function(e,t,n){e.extensionElements&&e.extensionElements.values.forEach((function(e){(0,s.is)(e,"biodi:Edge")&&e.source===t&&(e.source=n)}))}(e,o.id,r.id)}))}}]),t}(u.default);t.default=l,l.$inject=["eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(3),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._elementRegistry=t,this._moddle=n}return a(e,[{key:"execute",value:function(e){var t=e.element,n=e.properties,o=(0,r.getBusinessObject)(t),i=this.updateProperties(o,n),a=i.changed,u=i.oldProperties;return e.oldProperties=u,[].concat(s(a),[t])}},{key:"revert",value:function(e){var t=e.element,n=e.oldProperties,o=(0,r.getBusinessObject)(t),i=this.updateProperties(o,n).changed;return[].concat(s(i),[t])}},{key:"updateProperties",value:function(e,t){var n=this,r=this._moddle.ids;return(0,o.reduce)(t,(function(t,o,a){var c,d=e.get(a);if(l(o)){if(!l(d))throw new Error("non-existing property <"+a+">: cannot update values");var f=n.updateProperties(d,o),p=f.changed,h=f.oldProperties;return{changed:[].concat(s(t.changed),s(p),[d]),oldProperties:i({},t.oldProperties,u({},a,h))}}return"id"===a&&(c=o,e.id!==c)&&(r.unclaim(e.id),n._elementRegistry.updateId(e,o),r.claim(o,e)),e.set(a,o),{changed:t.changed,oldProperties:i({},t.oldProperties,u({},a,d))}}),{changed:[],oldProperties:{}})}}]),e}();function l(e){return(0,o.isDefined)(e)&&(0,o.isObject)(e)}t.default=c,c.$inject=["elementRegistry","moddle"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateISOString=function(e){if(!o.test(e.trim()))return"Date must match pattern yyyy-MM-ddTHH:mm:ss."},t.getDateString=function(e,t){if("exact"===e)return'date and time("'+t[0]+'")';if("before"===e)return'< date and time("'+t[0]+'")';if("after"===e)return'> date and time("'+t[0]+'")';if("between"===e)return'[date and time("'+t[0]+'")..date and time("'+t[1]+'")]'},t.getSampleDate=function(){var e=new Date;return e.setUTCHours(0,0,0,0),e.toISOString().slice(0,-5)},t.parseString=function(e){if(!e||""===e.trim())return{type:"exact",date:""};var t=e.match(r);if(t)return{type:"between",dates:[t[1],t[2]]};if(t=e.match(i))return{type:"<"===t[1]?"before":"after",date:t[2]};if(t=e.match(a))return{type:"exact",date:t[1]}};var o=/^\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d$/,r=/^\[date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)..date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"/,i=/^(<|>)\s*date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)/,a=/^date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.operators=void 0,t.parseString=function(e){if(!e||s(e.trim()))return{type:"comparison"};var t=e.match(r),n=e.match(i);if(t){if((o=t)[0]&&o[1]&&!o[2]&&!o[3])return{type:"comparison",value:parseFloat(t[1]),operator:"equals"};if(function(e){return e[0]&&!e[1]&&e[2]&&e[3]}(t))return{type:"comparison",value:parseFloat(t[3]),operator:u(t[2])}}else if(n)return{type:"range",values:[n[2],n[3]].map((function(e){return parseFloat(e)})),start:"]"===n[1]?"exclude":"include",end:"["===n[4]?"exclude":"include"};var o},t.isEmptyString=s,t.getComparisonString=function(e,t){return"equals"===e?""+t:a[e]+" "+t},t.getRangeString=function(e,t,n,o){return("exclude"===n?"]":"[")+e+".."+t+("exclude"===o?"[":"]")};var o=n(0),r=/^(-?(?:[0-9]|\.[0-9])+)$|^((?:<|>|=){0,2})\s*(-?(?:[0-9]|\.[0-9])+)$/,i=/^(\[|\]){1}(-?(?:[0-9]|\.[0-9])+){1,}\.\.(-?(?:[0-9]|\.[0-9])+){1,}(\[|\]){1}$/,a=t.operators={equals:"=",less:"<",lessEquals:"<=",greater:">",greaterEquals:">="};function u(e){return(0,o.keys)(a).filter((function(t){return e===a[t]}))[0]}function s(e){return""===e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(532)),r=i(n(534));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default],__init__:["keyboard"],keyboard:["type",r.default]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o,r=n(158),i=(o=r)&&o.__esModule?o:{default:o};(n(545),$(".dmn-simulator").length>0)&&(new i.default).initialize()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(159)),i=a(n(544));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"initialize",value:function(){this.dirty=!1,this.container=$("#js-drop-zone"),this.canvas=$("#js-table"),this.renderer=new r.default({container:this.canvas,keyboard:{bindTo:window.document},table:{minColWidth:200,tableName:"DMN Table"}}),this.initListener(),this.init()}},{key:"initListener",value:function(){var e=this;this.renderer.on("views.changed",(function(){e.exportArtifacts()})),this.renderer.on("import.done",(function(){$(inputsContainer).empty(),$(outputsContainer).empty(),e.exportArtifacts()})),$("#downloadButton").on("click",(function(){e.renderer.saveXML({format:!0},(function(e,t){var n=encodeURIComponent(t);t&&($("#downloadButton").attr("href","data:application/xml;charset=UTF-8,"+n),$("#downloadButton").attr("download","simulation.dmn"))}))})),$("#uploadButton").on("click",(function(){$("#myModal .modal-dialog").addClass("modal-lg"),$("#myModal #myModalLabel").text("Upload your DMN File for Simulation"),$("#myModal #myModalBody").html('<p><strong>Q: How can I simulate an existing DMN Decision Table?</strong></p><p>A: Simply drag your DMN file on the decision table area in this website.</p><p><img style="max-width:100%" src="/assets/img/dmn/simulator/dmn-simulator-drag.gif" class="img-responsive"></p>'),$("#myModal").modal()}))}},{key:"showDRD",value:function(){var e=this.renderer.getViews()[0];this.renderer.open(e)}},{key:"createDemoTable",value:function(){this.openTable(i.default)}},{key:"openTable",value:function(e){var t=this;this.renderer.importXML(e,(function(e){e?(t.container.removeClass("with-table").addClass("with-error"),t.container.find(".error pre").text(e.message),console.error(e)):t.container.removeClass("with-error").addClass("with-table")}))}},{key:"saveTable",value:function(e){this.renderer.saveXML({format:!0},(function(t,n){e(t,n)}))}},{key:"registerFileDrop",value:function(e,t){var n=this;function o(e){if(e.stopPropagation(),e.preventDefault(),!this.dirty||window.confirm("You made changes to the previous table, do you really want to load the new table and overwrite the changes?")){var n=e.dataTransfer.files[0],o=new FileReader,r=this;o.onload=function(e){var n=e.target.result;t.call(r,n)},o.readAsText(n)}}function r(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}this.container.get(0).addEventListener("dragover",(function(e){r.call(n,e)}),!1),this.container.get(0).addEventListener("drop",(function(e){o.call(n,e)}),!1)}},{key:"init",value:function(){var e=this;window.FileList&&window.FileReader?this.registerFileDrop(this.container,this.openTable):window.alert("Looks like you use an older browser that does not support drag and drop. Try using Chrome, Firefox or the Internet Explorer > 10."),$(".buttons a").click((function(e){$(this).is(".active")||(e.preventDefault(),e.stopPropagation())})),window.onbeforeunload=function(){if(dirty)return"The changes you performed on the table will be lost upon navigation."};var t=window.document.getElementById("inputsContainer"),n=window.document.getElementById("outputsContainer");t.innerHTML="",n.innerHTML="",$("#decisionTableName").on("change",(function(){e.renderer.chosenTable=$("#decisionTableName").val(),e.currentView=e.renderer._views.filter((function(t){if(t.element.id===e.renderer.chosenTable)return!0})),e.currentView.length>0&&(e.renderer.open(e.currentView[0]),variableTables.push(decisionElement[0].id),null!=decisionElement[0].informationRequirement&&decisionElement[0].informationRequirement.forEach((function(e){if(null!=e.requiredDecision&&null!=e.requiredDecision.href){var t=e.requiredDecision.href.replace("#","");variableTables.push(t),this.renderer._definitions.drgElements.filter((function(e){if("dmn:Decision"===e.$type&&e.id===t)return!0})).forEach((function(e){e.informationRequirement&&e.informationRequirement.forEach((function(e){if(null!=e.requiredDecision&&null!=e.requiredDecision.href){var t=e.requiredDecision.href.replace("#","");variableTables.push(t)}}))}))}}))),$("#inputsContainer tr").hide(),$("#outputsContainer tr").hide(),variableTables.forEach((function(e){$("."+e).show()})),""===e.renderer.chosenTable&&($("#inputsContainer tr").show(),$("#outputsContainer tr").show())})),this.createDemoTable(),window.document.getElementById("simulateButton").addEventListener("click",(function(t){$(".dmn-js-parent tr").removeClass("fired"),e.renderer.saveXML({format:!1},(function(t,n){var o={xml:n,inputs:e.renderer.inputs.map((function(t){var n=t.inputExpression.typeRef;return{type:n,varname:t.inputExpression.text,value:e.parseValue(t.html.value,n)}}))},r=$("#decisionTableName");if(r.length>0){var i=r.val();null!=i&&""!=i&&(o.decisionTable=i)}var a=new XMLHttpRequest;a.addEventListener("load",(function(){e.renderer.lastResponse=a.response,e.handleResults(a.response)})),a.open("POST","/backend/dmn/proxy.php",!0),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.send(JSON.stringify(o))}))}))}},{key:"handleResults",value:function(e){var t=this;$("#outputsContainer input").val("");var n=e,o=e.indexOf('{"');if(-1!==o){n=e.substr(o);var r=JSON.parse(n);if(r.error)return this.renderer.lastResponse=null,$("#myModal .modal-dialog").removeClass("modal-lg"),$("#myModal #myModalLabel").text("Error in Execution"),$("#myModal #myModalBody").html("<h4>"+r.error+"</h4>"),void $("#myModal").modal();0==r.rules.length&&(null==r.tableResults||r.tableResults&&r.tableResults.length<1)&&(this.renderer.lastResponse=null,$("#myModal .modal-dialog").removeClass("modal-lg"),$("#myModal #myModalLabel").text("No Rule applied"),$("#myModal #myModalBody").html("<p>No rule applied for the input data you have provided.</p>"),$("#myModal").modal());for(var i={},a=0;a<r.rules.length;a++){var u=r.rules[a],s=window.document.querySelector('[data-row-id="'+u.ruleId+'"]');s&&$(s).parent().addClass("fired");for(var c=0;c<u.outputs.length;c++){var l=u.outputs[c];if(null!=l&&Object.keys(l).length>0){var d=Object.keys(l)[0];null!=i[d]?i[d]=i[d]+", "+l[d]:i[d]=l[d]}}}this.renderer.outputs.forEach((function(e){e.value=""})),Object.keys(i).forEach((function(e){t.renderer.outputs.forEach((function(t){e===t.id&&(t.value=i[e])}))}));var f={};r.tableResults.forEach((function(e){var t=Object.keys(e);if(t.length>0){var n=t[0];null==f[n]?f[n]=e[t]:f[n]=f[n]+", "+e[t]}})),this.renderer.outputs.forEach((function(e){null!=f[e.name]&&(e.value=f[e.name]),r.inputs.forEach((function(t){null!=t&&null!=t[e.name]&&""==e.value&&(e.value=t[e.name])}))})),this.updateOutputs(this.renderer.outputs)}else{this.renderer.lastResponse=null,$("#myModal .modal-dialog").addClass("modal-lg"),$("#myModal #myModalBody").html(e),$("#myModal").modal();var p=window.document.querySelector("#myModalBody style");p.parentNode.removeChild(p)}}},{key:"exportArtifacts",value:function(){var e=this.renderer._definitions.drgElements.filter((function(e){if("dmn:Decision"===e.$type)return!0})),t=[],n=[];null!=this.renderer.lastResponse&&this.handleResults(this.renderer.lastResponse),$("#decisionTableName").empty(),$("#decisionTableName").append('<option value="">All tables</option>'),e.forEach((function(e){$("#decisionTableName").append("<option value="+e.id+">"+e.name+"</option>"),e.decisionTable?(t=t.concat(e.decisionTable.input),n=n.concat(e.decisionTable.output)):e.literalExpression&&(n=n.concat(e))})),null!=this.renderer.chosenTable&&$("#decisionTableName").val(this.renderer.chosenTable);var o=[],r=n.map((function(e){return null!=e.name&&""!==e.name||(e.name=e.label),e.variable?e.variable.name:e.name}));t.forEach((function(e){null!=e&&null!=e.inputExpression&&(null!=e.inputExpression.text&&""!=e.inputExpression.text||(e.inputExpression.text=e.label.replace(" ","")),r.indexOf(e.inputExpression.text)<0&&o.push(e))})),this.updateInputs(o),this.updateOutputs(n),this.renderer.inputs=o,this.renderer.outputs=n}},{key:"updateInputs",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];if(!n.html){var o=n.inputExpression.typeRef;if("boolean"===o)n.html=window.document.createElement("select"),$(n.html).append('<option value="true">True</option><option value="false">False</option>'),$(n.html).val("true"),$(n.html).on("change",(function(){var e=$(this).val(),t=this,n=$(this).attr("data-id");$('[data-id="'+n+'"]').each((function(n,o){o!==t&&$(o).val(e)}))}));else if(-1!==["integer","long","double"].indexOf(o))n.html=window.document.createElement("input"),$(n.html).attr("type","number"),$(n.html).attr("placeholder","Enter Number"),$(n.html).val(0),$(n.html).on("change",(function(){var e=$(this).val(),t=this,n=$(this).attr("data-id");$('[data-id="'+n+'"]').each((function(n,o){o!==t&&$(o).val(e)}))}));else if("date"==o){n.html=window.document.createElement("input");var r=new Date,i=r.getDate(),a=r.getMonth()+1,u=r.getFullYear();$(n.html).attr("placeholder","yyyy-MM-dd HH:mm:ss"),$(n.html).val(u+"-"+a+"-"+i+" 00:00:00"),$(n.html).on("change",(function(){var e=$(this).val(),t=this,n=$(this).attr("data-id");$('[data-id="'+n+'"]').each((function(n,o){o!==t&&$(o).val(e)}))}))}else n.html=window.document.createElement("input"),$(n.html).attr("placeholder","Enter String"),$(n.html).on("change",(function(){var e=$(this).val(),t=this,n=$(this).attr("data-id");$('[data-id="'+n+'"]').each((function(n,o){o!==t&&$(o).val(e)}))}));n.labelspan=window.document.createElement("span"),n.typeref=window.document.createElement("span"),n.row=window.document.createElement("tr"),$(n.row).attr("id","inputFor_"+n.id),$(n.html).attr("data-id","inputFor_"+n.inputExpression.text),n.$parent&&n.$parent.$parent&&(n.referenceTable=n.$parent.$parent.id,n.referenceTableName=n.$parent.$parent.name,$(n.row).addClass(n.$parent.$parent.id));var s=window.document.createElement("td");s.appendChild(n.labelspan),n.row.appendChild(s);var c=window.document.createElement("td");$(c).addClass("inputElement"),c.appendChild(n.html),n.row.appendChild(c);var l=window.document.createElement("td");l.appendChild(n.typeref),$(l).addClass("inputTypeRef"),n.row.appendChild(l);var d=$(".table-"+n.referenceTable,inputsContainer);d.length<1&&($(inputsContainer).append($('<table class="table-'+n.referenceTable+'"><tr class="'+n.referenceTable+'"><th colspan="3">'+n.referenceTableName+"</th></tr></table>")),d=$(".table-"+n.referenceTable,inputsContainer)),d.append(n.row)}n.labelspan.innerHTML=n.label+":",n.typeref.innerHTML=n.inputExpression.typeRef,n.inputExpression.text&&$(n.html).attr("data-id","inputFor_"+n.inputExpression.text)}}},{key:"updateOutputs",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];if(!n.html){n.html=window.document.createElement("input"),n.labelspan=window.document.createElement("span"),n.row=window.document.createElement("tr"),n.literalExpression?($(n.row).attr("id","outputFor_"+n.variable.name),$(n.row).addClass(n.id)):($(n.row).attr("id","outputFor_"+n.id),n.$parent&&n.$parent.$parent&&$(n.row).addClass(n.$parent.$parent.id));var o=window.document.createElement("td");o.appendChild(n.labelspan),n.row.appendChild(o);var r=window.document.createElement("td");r.appendChild(n.html),n.row.appendChild(r),n.html.setAttribute("readonly","true"),outputsContainer.appendChild(n.row)}n.literalExpression?($(n.row).attr("id","outputFor_"+n.variable.name),n.labelspan.innerHTML=n.variable.name+":"):n.labelspan.innerHTML=n.label+":",n.html.value=n.value||""}}},{key:"parseValue",value:function(e,t){return-1!==["integer","long","double"].indexOf(t)?parseFloat(e):e}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=l(n(160)),i=l(n(181)),a=l(n(337)),u=l(n(503)),s=n(3),c=n(86);function l(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}var h=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"_getViewProviders",value:function(){return[{id:"drd",constructor:i.default,opens:"dmn:Definitions"},{id:"decisionTable",constructor:a.default,opens:function(e){return(0,s.is)(e,"dmn:Decision")&&e.decisionTable}},{id:"literalExpression",constructor:u.default,opens:function(e){return(0,s.is)(e,"dmn:Decision")&&e.literalExpression}}]}},{key:"_getInitialView",value:function(e){for(var t,n=0;n<e.length;n++){var o=e[n],r=o.element;if((0,s.is)(r,"dmn:Decision"))return o;if((0,s.is)(r,"dmn:Definitions")&&(t=o,(0,c.containsDi)(r)))return o}return t||e[0]}}]),t}(r.default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=u(n(161)),i=u(n(179)),a=n(3);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}var f=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"_init",value:function(e){var n=this;c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_init",this).call(this,e),this.on("import.parse.complete",(function(e){e.error||n._collectIds(e.definitions,e.context)})),this.on("destroy",(function(){n._moddle.ids.clear()})),this.on("viewer.created",(function(e){e.viewer.on("elements.changed",(function(e){e.elements.some((function(e){return(0,a.isAny)(e,["dmn:Decision","dmn:Definitions"])}))&&n._updateViews()}))}))}},{key:"_collectIds",value:function(e,t){var n,o=e.$model.ids;for(n in o.clear(),t.elementsById)o.claim(n,t.elementsById[n])}},{key:"_createModdle",value:function(e){var n=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_createModdle",this).call(this,e);return n.ids=new i.default([32,36,1]),n}}]),t}(r.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=s(n(46)),i=s(n(162)),a=n(2),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h={width:"100%",height:"100%",position:"relative"},y=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,e),this._viewsChanged=function(){t._emit("views.changed",{views:t._views,activeView:t._activeView})},this._eventBus=new r.default,this._viewsChanged=(0,u.debounce)(this._viewsChanged,0),this._views=[],this._viewers={},this._init(n)}return d(e,[{key:"importXML",value:function(e,t,n){var o=this;"object"!==(void 0===t?"undefined":l(t))&&(n=t,t={open:!0}),"function"!=typeof n&&(n=v),e=this._emit("import.parse.start",{xml:e})||e,this._moddle.fromXML(e,"dmn:Definitions",(function(e,r,i){r=o._emit("import.parse.complete",{error:e,definitions:r,context:i})||r;var a=i.warnings;if(o._setDefinitions(r),e&&(e=function(e){var t=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);t&&(e.message="unparsable content <"+t[1]+"> detected; this may indicate an invalid DMN 1.1 diagram file"+t[2]);return e}(e)),e||!t.open)return o._emit("import.done",{error:e,warmings:a}),n(e,a);var u=o._activeView||o._getInitialView(o._views);if(!u)return n(new Error("no displayable contents"));o.open(u,(function(e,t){var r=[].concat(a,t||[]);o._emit("import.done",{error:e,warnings:r}),n(e,r)}))}))}},{key:"getDefinitions",value:function(){return this._definitions}},{key:"getActiveView",value:function(){return this._activeView}},{key:"getActiveViewer",value:function(){var e=this.getActiveView();return e&&this._getViewer(e)}},{key:"getView",value:function(e){return this._views.filter((function(t){return t.element===e}))[0]}},{key:"getViews",value:function(){return this._views}},{key:"saveXML",value:function(e,t){var n=this;"function"==typeof e&&(t=e,e={});var o=this._definitions;if(!o)return t(new Error("no definitions loaded"));o=this._emit("saveXML.start",{definitions:o})||o,this._moddle.toXML(o,e,(function(e,o){try{o=n._emit("saveXML.serialized",{error:e,xml:o})||o,n._emit("saveXML.done",{error:e,xml:o})}catch(e){console.error("error in saveXML life-cycle listener",e)}t(e,o)}))}},{key:"on",value:function(){var e;(e=this._eventBus).on.apply(e,arguments)}},{key:"off",value:function(){var e;(e=this._eventBus).off.apply(e,arguments)}},{key:"once",value:function(){var e;(e=this._eventBus).once.apply(e,arguments)}},{key:"attachTo",value:function(e){e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),"string"==typeof e&&(e=(0,a.query)(e)),e.appendChild(this._container)}},{key:"detach",value:function(){(0,a.remove)(this._container)}},{key:"destroy",value:function(){var e=this;Object.keys(this._viewers,(function(t){_(e._viewers[t],"destroy")})),(0,a.remove)(this._container)}},{key:"_init",value:function(e){this._options=e,this._moddle=this._createModdle(e),this._viewers={},this._views=[];var t=(0,a.domify)('<div class="dmn-js-parent"></div>'),n=(0,u.assign)({},h,e);(0,u.assign)(t.style,{width:m(n.width),height:m(n.height),position:n.position}),this._container=t,e.container&&this.attachTo(e.container)}},{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;this._switchView(e,t)}},{key:"_setDefinitions",value:function(e){this._definitions=e,this._updateViews()}},{key:"_updateViews",value:function(){var e=this._definitions;if(!e)return this._views=[],void this._switchView(null);var t=this._getViewProviders(),n=[e].concat(f(e.drgElements||[]));this._views=n.reduce((function(e,n){var o=g(t,(function(e){return"string"==typeof e.opens?e.opens===n.$type:e.opens(n)}));if(!o)return e;var r={element:n,type:o.id};return[].concat(f(e),[r])}),[]);var o,r=this._activeView;if(r){if(o=g(this._views,(function(e){return b(r,e)}))||this._getInitialView(this._views),!b(r,o))return this._switchView(null);this._activeView=o}this._viewsChanged()}},{key:"_getInitialView",value:function(e){return e[0]}},{key:"_switchView",value:function(e){var t,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,r=function(e,t){n._viewsChanged(),o(e,t)},i=this.getActiveView(),a=e&&this._getViewer(e),u=e&&e.element;if(i&&(t=this._getViewer(i))!==a&&(_(t,"clear"),t.detach()),this._activeView=e,a)return t!==a&&a.attachTo(this._container),this._emit("import.render.start",{view:e,element:u}),a.open(u,(function(t,o){n._emit("import.render.complete",{view:e,error:t,warnings:o}),r(t,o)}));r()}},{key:"_getViewer",value:function(e){var t=e.type,n=this._viewers[t];return n||(n=this._viewers[t]=this._createViewer(e.type),this._emit("viewer.created",{type:t,viewer:n})),n}},{key:"_createViewer",value:function(e){var t=g(this._getViewProviders(),(function(t){return t.id===e}));if(!t)throw new Error("no provider for view type <"+e+">");var n=t.constructor,o=this._options[e]||{},r=this._options.common||{};return new n(c({},r,o,{additionalModules:[].concat(f(o.additionalModules||[]),[{_parent:["value",this],moddle:["value",this._moddle]}])}))}},{key:"_emit",value:function(){var e;(e=this._eventBus).fire.apply(e,arguments)}},{key:"_createModdle",value:function(e){return new i.default(e.moddleExtensions||{})}},{key:"_getViewProviders",value:function(){return[]}}]),e}();function v(){}function m(e){return e+((0,u.isNumber)(e)?"px":"")}function g(e,t){return e.filter(t)[0]}function b(e,t){return void 0===e?void 0===t:void 0!==t&&(e.element===t.element||e.element.id===t.element.id)}function _(e,t){"function"==typeof e[t]&&e[t]()}t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(163);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=o,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.assign)({},l,e);return new r.default(n,t)};var o=n(0),r=c(n(164)),i=c(n(175)),a=c(n(176)),u=c(n(177)),s=c(n(178));function c(e){return e&&e.__esModule?e:{default:e}}var l={dmn:i.default,camunda:a.default,dc:u.default,biodi:s.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o,r=n(0),i=n(71),a=(o=i)&&o.__esModule?o:{default:o},u=n(171);function s(e,t){a.default.call(this,e,t)}s.prototype=Object.create(a.default.prototype),s.prototype.fromXML=function(e,t,n,o){(0,r.isString)(t)||(o=n,n=t,t="dmn:Definitions"),(0,r.isFunction)(n)&&(o=n,n={});var i=new u.Reader((0,r.assign)({model:this,lax:!0},n)),a=i.handler(t);i.fromXML(e,a,o)},s.prototype.toXML=function(e,t,n){(0,r.isFunction)(t)&&(n=t,t={});var o,i,a=new u.Writer(t);try{o=a.toXML(e)}catch(e){i=e}return n(i,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var o=n(0),r=s(n(166)),i=s(n(168)),a=s(n(170)),u=n(29);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){this.properties=new a.default(this),this.factory=new r.default(this,this.properties),this.registry=new i.default(e,this.properties),this.typeCache={}}c.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},c.prototype.getType=function(e){var t=this.typeCache,n=(0,o.isString)(e)?e:e.ns.name,r=t[n];return r||(e=this.registry.getEffectiveDescriptor(n),r=t[n]=this.factory.createType(e)),r},c.prototype.createAny=function(e,t,n){var r=(0,u.parseName)(e),i={$type:e,$instanceOf:function(e){return e===this.$type}},a={name:e,isGeneric:!0,ns:{prefix:r.prefix,localName:r.localName,uri:t}};return this.properties.defineDescriptor(i,a),this.properties.defineModel(i,this),this.properties.define(i,"$parent",{enumerable:!1,writable:!0}),(0,o.forEach)(n,(function(e,t){(0,o.isObject)(e)&&void 0!==e.value?i[e.name]=e.value:i[t]=e})),i},c.prototype.getPackage=function(e){return this.registry.getPackage(e)},c.prototype.getPackages=function(){return this.registry.getPackages()},c.prototype.getElementDescriptor=function(e){return e.$descriptor},c.prototype.hasType=function(e,t){return void 0===t&&(t=e,e=this),t in e.$model.getElementDescriptor(e).allTypesByName},c.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},c.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var o,r=n(0),i=n(167),a=(o=i)&&o.__esModule?o:{default:o};function u(e,t){this.model=e,this.properties=t}u.prototype.createType=function(e){var t=this.model,n=this.properties,o=Object.create(a.default.prototype);(0,r.forEach)(e.properties,(function(e){e.isMany||void 0===e.default||(o[e.name]=e.default)})),n.defineModel(o,t),n.defineDescriptor(o,e);var i=e.ns.name;function u(e){n.define(this,"$type",{value:i,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),(0,r.forEach)(e,(0,r.bind)((function(e,t){this.set(t,e)}),this))}return u.prototype=o,u.hasType=o.$instanceOf=this.model.hasType,n.defineModel(u,t),n.defineDescriptor(u,e),u}},function(e,t,n){"use strict";function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,o.prototype.get=function(e){return this.$model.properties.get(this,e)},o.prototype.set=function(e,t){this.$model.properties.set(this,e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var o,r=n(0),i=n(47),a=n(169),u=(o=a)&&o.__esModule?o:{default:o},s=n(29);function c(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,(0,r.forEach)(e,(0,r.bind)(this.registerPackage,this))}function l(e,t,n){var o=t[n];if(o in e)throw new Error("package with "+n+" <"+o+"> already defined")}c.prototype.getPackage=function(e){return this.packageMap[e]},c.prototype.getPackages=function(){return this.packages},c.prototype.registerPackage=function(e){e=(0,r.assign)({},e);var t=this.packageMap;l(t,e,"prefix"),l(t,e,"uri"),(0,r.forEach)(e.types,(0,r.bind)((function(t){this.registerType(t,e)}),this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)},c.prototype.registerType=function(e,t){e=(0,r.assign)({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:(0,r.assign)(e.meta||{})});var n=(0,s.parseName)(e.name,t.prefix),o=n.name,a={};(0,r.forEach)(e.properties,(0,r.bind)((function(e){var t=(0,s.parseName)(e.name,n.prefix),o=t.name;(0,i.isBuiltIn)(e.type)||(e.type=(0,s.parseName)(e.type,t.prefix).name),(0,r.assign)(e,{ns:t,name:o}),a[o]=e}),this)),(0,r.assign)(e,{ns:n,name:o,propertiesByName:a}),(0,r.forEach)(e.extends,(0,r.bind)((function(e){var t=this.typeMap[e];t.traits=t.traits||[],t.traits.push(o)}),this)),this.definePackage(e,t),this.typeMap[o]=e},c.prototype.mapTypes=function(e,t,n){var o=(0,i.isBuiltIn)(e.name)?{name:e.name}:this.typeMap[e.name],a=this;function u(e){return c(e,!0)}function c(n,o){var r=(0,s.parseName)(n,(0,i.isBuiltIn)(n)?"":e.prefix);a.mapTypes(r,t,o)}if(!o)throw new Error("unknown type <"+e.name+">");(0,r.forEach)(o.superClass,n?u:c),t(o,!n),(0,r.forEach)(o.traits,u)},c.prototype.getEffectiveDescriptor=function(e){var t=(0,s.parseName)(e),n=new u.default(t);this.mapTypes(t,(function(e,t){n.addTrait(e,t)}));var o=n.build();return this.definePackage(o,o.allTypes[o.allTypes.length-1].$pkg),o},c.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(0),r=n(29);function i(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}i.prototype.build=function(){return(0,o.pick)(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},i.prototype.addProperty=function(e,t,n){"boolean"==typeof t&&(n=t,t=void 0),this.addNamedProperty(e,!1!==n);var o=this.properties;void 0!==t?o.splice(t,0,e):o.push(e)},i.prototype.replaceProperty=function(e,t,n){var o=e.ns,r=this.properties,i=this.propertiesByName,a=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var u=r.indexOf(e);if(-1===u)throw new Error("property <"+o.name+"> not found in property list");r.splice(u,1),this.addProperty(t,n?void 0:u,a),i[o.name]=i[o.localName]=t},i.prototype.redefineProperty=function(e,t,n){var o=e.ns.prefix,i=t.split("#"),a=(0,r.parseName)(i[0],o),u=(0,r.parseName)(i[1],a.prefix).name,s=this.propertiesByName[u];if(!s)throw new Error("refined property <"+u+"> not found");this.replaceProperty(s,e,n),delete e.redefines},i.prototype.addNamedProperty=function(e,t){var n=e.ns,o=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),o[n.name]=o[n.localName]=e},i.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},i.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},i.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},i.prototype.assertNotDefined=function(e,t){var n=e.name,o=this.propertiesByName[n];if(o)throw new Error("property <"+n+"> already defined; override of <"+o.definedBy.ns.name+"#"+o.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},i.prototype.hasProperty=function(e){return this.propertiesByName[e]},i.prototype.addTrait=function(e,t){var n=this.allTypesByName,r=this.allTypes,i=e.name;i in n||((0,o.forEach)(e.properties,(0,o.bind)((function(n){n=(0,o.assign)({},n,{name:n.ns.localName,inherited:t}),Object.defineProperty(n,"definedBy",{value:e});var r=n.replaces,i=n.redefines;r||i?this.redefineProperty(n,r||i,r):(n.isBody&&this.setBodyProperty(n),n.isId&&this.setIdProperty(n),this.addProperty(n))}),this)),r.push(e),n[i]=e)}},function(e,t,n){"use strict";function o(e){this.model=e}function r(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,o.prototype.set=function(e,t,n){var o=this.model.getPropertyDescriptor(e,t),i=o&&o.name;void 0===n?o?delete e[i]:delete e.$attrs[t]:o?i in e?e[i]=n:r(e,o,n):e.$attrs[t]=n},o.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];var o=n.name;return!e[o]&&n.isMany&&r(e,n,[]),e[o]},o.prototype.define=function(e,t,n){Object.defineProperty(e,t,n)},o.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},o.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(172);Object.defineProperty(t,"Reader",{enumerable:!0,get:function(){return o.Reader}});var r=n(174);Object.defineProperty(t,"Writer",{enumerable:!0,get:function(){return r.Writer}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=h,t.ElementHandler=w,t.Reader=E;var o,r=n(0),i=n(173),a=n(71),u=(o=a)&&o.__esModule?o:{default:o},s=n(29),c=n(47),l=n(72);function d(e,t){return(0,l.hasLowerCaseAlias)(t)?e.prefix+":"+((n=e.localName).charAt(0).toUpperCase()+n.slice(1)):e.name;var n}function f(e){return new Error(e)}function p(e){return e.$descriptor}function h(e){(0,r.assign)(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw f("expected element");var t,n=this.elementsById,o=p(e).idProperty;if(o&&(t=e.get(o.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(t))throw new Error("illegal ID <"+t+">");if(n[t])throw f("duplicate ID <"+t+">");n[t]=e}},this.addWarning=function(e){this.warnings.push(e)}}function y(){}function v(){}function m(){}function g(e,t){this.property=e,this.context=t}function b(e,t){this.element=t,this.propertyDesc=e}function _(){}function w(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function x(e,t,n){w.call(this,e,t,n)}function O(e,t,n){this.model=e,this.context=n}function E(e){e instanceof u.default&&(e={model:e}),(0,r.assign)(this,{lax:!1},e)}y.prototype.handleEnd=function(){},y.prototype.handleText=function(){},y.prototype.handleNode=function(){},v.prototype=Object.create(y.prototype),v.prototype.handleNode=function(){return this},m.prototype=Object.create(y.prototype),m.prototype.handleText=function(e){this.body=(this.body||"")+e},g.prototype=Object.create(m.prototype),g.prototype.handleNode=function(e){if(this.element)throw f("expected no sub nodes");return this.element=this.createReference(e),this},g.prototype.handleEnd=function(){this.element.id=this.body},g.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},b.prototype=Object.create(m.prototype),b.prototype.handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=(0,c.coerceType)(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},_.prototype=Object.create(m.prototype),_.prototype.handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t},w.prototype=Object.create(_.prototype),w.prototype.addReference=function(e){this.context.addReference(e)},w.prototype.handleText=function(e){if(!p(this.element).bodyProperty)throw f("unexpected body text <"+e+">");m.prototype.handleText.call(this,e)},w.prototype.handleEnd=function(){var e=this.body,t=this.element,n=p(t).bodyProperty;n&&void 0!==e&&(e=(0,c.coerceType)(n.type,e),t.set(n.name,e))},w.prototype.createElement=function(e){var t,n=e.attributes,o=this.type,i=p(o),a=this.context,u=new o({}),l=this.model;return(0,r.forEach)(n,(function(e,n){var o,d=i.propertiesByName[n];d&&d.isReference?d.isMany?(o=e.split(" "),(0,r.forEach)(o,(function(e){a.addReference({element:u,property:d.ns.name,id:e})}))):a.addReference({element:u,property:d.ns.name,id:e}):(d?e=(0,c.coerceType)(d.type,e):"xmlns"!==n&&(t=(0,s.parseName)(n,i.ns.prefix),l.getPackage(t.prefix)&&a.addWarning({message:"unknown attribute <"+n+">",element:u,property:n,value:e})),u.set(n,e))})),u},w.prototype.getPropertyForNode=function(e){var t,n,o=e.name,i=(0,s.parseName)(o),a=this.type,u=this.model,c=p(a),h=i.name,y=c.propertiesByName[h];if(y)return(0,l.serializeAsType)(y)&&(t=e.attributes[l.XSI_TYPE])?(t=function(e,t){var n=(0,s.parseName)(e);return function(e,t){var n=e.name,o=e.localName,r=t.xml&&t.xml.typePrefix;return r&&0===o.indexOf(r)?e.prefix+":"+o.slice(r.length):n}(n,t.getPackage(n.prefix))}(t,u),n=u.getType(t),(0,r.assign)({},y,{effectiveType:p(n).name})):y;var v=u.getPackage(i.prefix);if(v){if(t=d(i,v),n=u.getType(t),y=(0,r.find)(c.properties,(function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)})))return(0,r.assign)({},y,{effectiveType:p(n).name})}else if(y=(0,r.find)(c.properties,(function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type})))return y;throw f("unrecognized element <"+i.name+">")},w.prototype.toString=function(){return"ElementDescriptor["+p(this.type).name+"]"},w.prototype.valueHandler=function(e,t){return new b(e,t)},w.prototype.referenceHandler=function(e){return new g(e,this.context)},w.prototype.handler=function(e){return"Element"===e?new O(this.model,e,this.context):new w(this.model,e,this.context)},w.prototype.handleChild=function(e){var t,n,o,i;if(t=this.getPropertyForNode(e),o=this.element,n=t.effectiveType||t.type,(0,c.isSimple)(n))return this.valueHandler(t,o);var a=(i=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e)).element;return void 0!==a&&(t.isMany?o.get(t.name).push(a):o.set(t.name,a),t.isReference?((0,r.assign)(a,{element:o}),this.context.addReference(a)):a.$parent=o),i},x.prototype=Object.create(w.prototype),x.prototype.createElement=function(e){var t=e.name,n=(0,s.parseName)(t),o=this.model,r=this.type,i=o.getPackage(n.prefix),a=i&&d(n,i)||t;if(!r.hasType(a))throw f("unexpected element <"+e.originalName+">");return w.prototype.createElement.call(this,e)},O.prototype=Object.create(_.prototype),O.prototype.createElement=function(e){var t=e.name,n=(0,s.parseName)(t).prefix,o=e.ns[n+"$uri"],r=e.attributes;return this.model.createAny(t,o,r)},O.prototype.handleChild=function(e){var t=new O(this.model,"Element",this.context).handleNode(e),n=this.element,o=t.element;return void 0!==o&&((n.$children=n.$children||[]).push(o),o.$parent=n),t},O.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},E.prototype.fromXML=function(e,t,n){var o=t.rootHandler;t instanceof w?(o=t,t={}):"string"==typeof t?(o=this.handler(t),t={}):"string"==typeof o&&(o=this.handler(o));var a=this.model,u=this.lax,s=new h((0,r.assign)({},t,{rootHandler:o})),c=new i.Parser({proxy:!0}),l=function(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}();function d(e,t,n){var o=t(),r=o.line,i=o.column,a=o.data;"<"===a.charAt(0)&&-1!==a.indexOf(" ")&&(a=a.slice(0,a.indexOf(" "))+">");var u="unparsable content "+(a?a+" ":"")+"detected\n\tline: "+r+"\n\tcolumn: "+i+"\n\tnested error: "+e.message;if(n)return s.addWarning({message:u,error:e}),!0;throw f(u)}function y(e,t){return d(e,t,!0)}o.context=s,l.push(o);var m=/^<\?xml /i,g=/ encoding="([^"]+)"/i,b=/^utf-8$/i;function _(e,t){try{l.peek().handleText(e)}catch(e){y(e,t)}}var x=a.getPackages().reduce((function(e,t){return e[t.uri]=t.prefix,e}),{});c.ns(x).on("openTag",(function(e,t,n,o){var r=e.attrs||{},i=Object.keys(r).reduce((function(e,n){var o=t(r[n]);return e[n]=o,e}),{});!function(e,t){var n=l.peek();try{l.push(n.handleNode(e))}catch(e){d(e,t,u)&&l.push(new v)}}({name:e.name,originalName:e.originalName,attributes:i,ns:e.ns},o)})).on("question",(function(e){if(m.test(e)){var t=g.exec(e),n=t&&t[1];n&&!b.test(n)&&s.addWarning({message:"unsupported document encoding <"+n+">, falling back to UTF-8"})}})).on("closeTag",(function(){l.pop().handleEnd()})).on("cdata",_).on("text",(function(e,t,n){!function(e,t){(e=e.trim())&&_(e,t)}(t(e),n)})).on("error",d).on("warn",y),setTimeout((function(){var t;try{c.parse(e),function(){var e,t,n=s.elementsById,o=s.references;for(e=0;t=o[e];e++){var r=t.element,i=n[t.id],a=p(r).propertiesByName[t.property];if(i||s.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),a.isMany){var u=r.get(a.name),c=u.indexOf(t);-1===c&&(c=u.length),i?u[c]=i:u.splice(c,1)}else r.set(a.name,i)}}()}catch(e){t=e}var r=o.element;t||r||(t=f("failed to parse document as <"+o.type.$descriptor.name+">")),n(t,t?void 0:r,s)}),0)},E.prototype.handler=function(e){return new x(this.model,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=String.fromCharCode,i=Object.prototype.hasOwnProperty,a=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,u={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function s(e,t,n,o){return o?i.call(u,o)?u[o]:"&"+o+";":r(t||parseInt(n,16))}function c(e){return e.length>3&&-1!==e.indexOf("&")?e.replace(a,s):e}Object.keys(u).forEach((function(e){u[e.toUpperCase()]=u[e]}));function l(e){return new Error(e)}function d(e){return"missing namespace for prefix <"+e+">"}function f(e){return{get:e,enumerable:!0}}function p(e){var t,n={};for(t in e)n[t]=e[t];return n}function h(e){return e+"$uri"}function y(){return{line:0,column:0}}function v(e){throw e}t.Parser=function e(t){if(!this)return new e(t);var n,r,i,a,u,s,m,g,b,_=t&&t.proxy,w=v,x=y,O=!1,E=!1,C=null,j=!1;function S(e){e instanceof Error||(e=l(e)),C=e,w(e,x)}function P(e){u&&(e instanceof Error||(e=l(e)),u(e,x))}this.on=function(e,t){if("function"!=typeof t)throw l("required args <name, cb>");switch(e){case"openTag":r=t;break;case"text":n=t;break;case"closeTag":i=t;break;case"error":w=t;break;case"warn":u=t;break;case"cdata":a=t;break;case"attention":g=t;break;case"question":m=t;break;case"comment":s=t;break;default:throw l("unsupported event: "+e)}return this},this.ns=function(e){if(void 0===e&&(e={}),"object"!==(void 0===e?"undefined":o(e)))throw l("required args <nsMap={}>");var t,n={};for(t in e)n[t]=e[t];return n["http://www.w3.org/2001/XMLSchema-instance"]="xsi",E=!0,b=n,this},this.parse=function(e){if("string"!=typeof e)throw l("required args <xml=string>");return C=null,function(e){var t,o,u,l,y,v,w,C,k,M,T,N=E?[]:null,A=E?function(e){var t,n,o={};for(t in e)o[n=e[t]]=n,o[h(n)]=t;return o}(b):null,R=[],V=0,D=!1,I=!1,B=0,L=0,$="",F=0;function U(){if(null!==T)return T;var e,t,n,o,r,i,a,u,s,l,f,y=E&&A.xmlns,v=E&&O?[]:null,m=F,g=$,_=g.length,w={},x={};e:for(;m<_;m++)if(s=!1,!(32===(l=g.charCodeAt(m))||l<14&&l>8)){for((l<65||l>122||l>90&&l<97)&&95!==l&&58!==l&&(P("illegal first char attribute name"),s=!0),f=m+1;f<_;f++)if(!((l=g.charCodeAt(f))>96&&l<123||l>64&&l<91||l>47&&l<59||46===l||45===l||95===l)){if(32===l||l<14&&l>8){P("missing attribute value"),m=f;continue e}if(61===l)break;P("illegal attribute name char"),s=!0}if("xmlns:xmlns"===(u=g.substring(m,f))&&(P("illegal declaration of xmlns"),s=!0),34===(l=g.charCodeAt(f+1)))-1===(f=g.indexOf('"',m=f+2))&&-1!==(f=g.indexOf("'",m))&&(P("attribute value quote missmatch"),s=!0);else if(39===l)-1===(f=g.indexOf("'",m=f+2))&&-1!==(f=g.indexOf('"',m))&&(P("attribute value quote missmatch"),s=!0);else for(P("missing attribute value quotes"),s=!0,f+=1;f<_&&!(32===(l=g.charCodeAt(f+1))||l<14&&l>8);f++);for(-1===f&&(P("missing closing quotes"),f=_,s=!0),s||(i=g.substring(m,f)),m=f;f+1<_&&!(32===(l=g.charCodeAt(f+1))||l<14&&l>8);f++)m===f&&(P("illegal character after attribute end"),s=!0);if(m=f+1,!s)if(u in x)P("attribute <"+u+"> already defined");else if(x[u]=!0,E)if(O){if(null!==(r="xmlns"===u?"xmlns":120===u.charCodeAt(0)&&"xmlns:"===u.substr(0,6)?u.substr(6):null)){if(e=c(i),t=h(r),!(a=b[e])){if("xmlns"===r||t in A&&A[t]!==e)do{a="ns"+V++}while(void 0!==A[a]);else a=r;b[e]=a}A[r]!==a&&(o||(A=p(A),o=!0),A[r]=a,"xmlns"===r&&(A[h(a)]=e,y=a),A[t]=e),w[u]=i;continue}v.push(u,i)}else-1!==(l=u.indexOf(":"))?(n=A[u.substring(0,l)])?("xsi:type"===(u=y===n?u.substr(l+1):n+u.substr(l))&&(-1!==(l=i.indexOf(":"))?(n=i.substring(0,l),i=(n=A[n]||n)+i.substring(l)):i=y+":"+i),w[u]=i):P(d(u.substring(0,l))):w[u]=i;else w[u]=i}if(O)for(m=0,_=v.length;m<_;m++){if(u=v[m++],i=v[m],-1!==(l=u.indexOf(":"))){if(!(n=A[u.substring(0,l)])){P(d(u.substring(0,l)));continue}"xsi:type"===(u=y===n?u.substr(l+1):n+u.substr(l))&&(-1!==(l=i.indexOf(":"))?(n=i.substring(0,l),i=(n=A[n]||n)+i.substring(l)):i=y+":"+i)}w[u]=i}return T=w}function z(){for(var t,n,o=/(\r\n|\r|\n)/g,r=0,i=0,a=0,u=L;B>=a&&(t=o.exec(e))&&!((u=t[0].length+t.index)>B);)r+=1,a=u;return-1==B?(i=u,n=e.substring(L)):0===L?n=e.substring(L,B):(i=B-a,n=-1==L?e.substring(B):e.substring(B,L+1)),{data:n,line:r,column:i}}x=z,_&&(M=Object.create({},{name:f((function(){return C})),originalName:f((function(){return k})),attrs:f(U),ns:f((function(){return A}))}));for(;-1!==L;){if(-1===(B=60===e.charCodeAt(L)?L:e.indexOf("<",L)))return R.length?S("unexpected end of file"):0===L?S("missing start tag"):void(L<e.length&&e.substring(L).trim()&&P("non-whitespace outside of root node"));if(L!==B)if(R.length){if(n&&(n(e.substring(L,B),c,x),j))return}else if(e.substring(L,B).trim()&&(P("non-whitespace outside of root node"),j))return;if(33===(y=e.charCodeAt(B+1))){if(91===(l=e.charCodeAt(B+2))&&"CDATA["===e.substr(B+3,6)){if(-1===(L=e.indexOf("]]>",B)))return S("unclosed cdata");if(a&&(a(e.substring(B+9,L),x),j))return;L+=3;continue}if(45===l&&45===e.charCodeAt(B+3)){if(-1===(L=e.indexOf("--\x3e",B)))return S("unclosed comment");if(s&&(s(e.substring(B+4,L),c,x),j))return;L+=3;continue}}if(63!==y){for(o=B+1;;o++){if(v=e.charCodeAt(o),isNaN(v))return L=-1,S("unclosed tag");if(34===v)l=e.indexOf('"',o+1),o=-1!==l?l:o;else if(39===v)l=e.indexOf("'",o+1),o=-1!==l?l:o;else if(62===v){L=o;break}}if(33!==y){if(T={},47===y){if(D=!1,I=!0,!R.length)return S("missing open tag");if(o=C=R.pop(),l=B+2+o.length,e.substring(B+2,l)!==o)return S("closing tag mismatch");for(;l<L;l++)if(!(32===(y=e.charCodeAt(l))||y>8&&y<14))return S("close tag")}else{if(47===e.charCodeAt(L-1)?(o=C=e.substring(B+1,L-1),D=!0,I=!0):(o=C=e.substring(B+1,L),D=!0,I=!1),!(y>96&&y<123||y>64&&y<91||95===y||58===y))return S("illegal first char nodeName");for(l=1,u=o.length;l<u;l++)if(!((y=o.charCodeAt(l))>96&&y<123||y>64&&y<91||y>47&&y<59||45===y||95===y||46==y)){if(32===y||y<14&&y>8){C=o.substring(0,l),T=null;break}return S("invalid nodeName")}I||R.push(C)}if(E){if(t=A,D&&(I||N.push(t),null===T&&(O=-1!==o.indexOf("xmlns",l))&&(F=l,$=o,U(),O=!1)),k=C,-1!==(y=C.indexOf(":"))){if(!(w=A[C.substring(0,y)]))return S("missing namespace on <"+k+">");C=C.substr(y+1)}else w=A.xmlns;w&&(C=w+":"+C)}if(D&&(F=l,$=o,r&&(_?r(M,c,I,x):r(C,U,c,I,x),j)))return;if(I){if(i&&(i(_?M:C,c,D,x),j))return;E&&(A=D?t:N.pop())}L+=1}else{if(g&&(g(e.substring(B,L+1),c,x),j))return;L+=1}}else{if(-1===(L=e.indexOf("?>",B)))return S("unclosed question");if(m&&(m(e.substring(B,L+2),x),j))return;L+=2}}}(e),x=y,j=!1,C},this.stop=function(){j=!0}},t.decode=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Namespaces=c,t.Writer=function(e){return e=(0,o.assign)({format:!1,preamble:!0},e||{}),{toXML:function(t,n){var o=n||new _,r=new w(o,e.format);e.preamble&&r.append('<?xml version="1.0" encoding="UTF-8"?>\n');if((new g).build(t).serializeTo(r),!n)return o.value}}};var o=n(0),r=n(47),i=n(29),a=n(72),u=/<|>|'|"|&|\n\r|\n/g,s=/<|>|&/g;function c(e){var t={},n={},o={},r=[],i=[];this.byUri=function(t){return n[t]||e&&e.byUri(t)},this.add=function(e,t){n[e.uri]=e,t?r.push(e):i.push(e),this.mapPrefix(e.prefix,e.uri)},this.uriByPrefix=function(e){return t[e||"xmlns"]},this.mapPrefix=function(e,n){t[e||"xmlns"]=n},this.logUsed=function(e){var t=e.uri;o[t]=this.byUri(t)},this.getUsed=function(e){return[].concat(r,i).filter((function(e){return o[e.uri]}))}}function l(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function d(e){return(0,o.isString)(e)?e:(e.prefix?e.prefix+":":"")+e.localName}var f={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},p={"<":"lt",">":"gt","&":"amp"};function h(e,t,n){return(e=(0,o.isString)(e)?e:""+e).replace(t,(function(e){return"&"+n[e]+";"}))}function y(e){this.tagName=e}function v(){}function m(e){this.tagName=e}function g(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}function b(e,t){g.call(this,e,t)}function _(){this.value="",this.write=function(e){this.value+=e}}function w(e,t){var n=[""];this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}y.prototype.build=function(e){return this.element=e,this},y.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},v.prototype.serializeValue=v.prototype.serializeTo=function(e){e.append(this.escape?h(this.value,s,p):this.value)},v.prototype.build=function(e,t){return this.value=t,"String"===e.type&&-1!==t.search(s)&&(this.escape=!0),this},l(m,v),m.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},g.prototype.build=function(e){this.element=e;var t,n,r,i=e.$descriptor,a=this.propertyDescriptor,u=i.isGeneric;return t=u?this.parseGeneric(e):this.parseNsAttributes(e),this.ns=a?this.nsPropertyTagName(a):this.nsTagName(i),this.tagName=this.addTagName(this.ns),u||(n=function(e){var t=e.$descriptor;return(0,o.filter)(t.properties,(function(t){var n=t.name;if(t.isVirtual)return!1;if(!e.hasOwnProperty(n))return!1;var o=e[n];return o!==t.default&&(null!==o&&(!t.isMany||o.length))}))}(e),this.parseAttributes((r=n,(0,o.filter)(r,(function(e){return e.isAttr})))),this.parseContainments(function(e){return(0,o.filter)(e,(function(e){return!e.isAttr}))}(n))),this.parseGenericAttributes(e,t),this},g.prototype.nsTagName=function(e){return function(e,t){return t.isGeneric?(0,o.assign)({localName:t.ns.localName},e):(0,o.assign)({localName:(n=t.ns.localName,r=t.$pkg,(0,a.hasLowerCaseAlias)(r)?(i=n).charAt(0).toLowerCase()+i.slice(1):n)},e);var n,r,i}(this.logNamespaceUsed(e.ns),e)},g.prototype.nsPropertyTagName=function(e){return function(e,t){return(0,o.assign)({localName:t.ns.localName},e)}(this.logNamespaceUsed(e.ns),e)},g.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},g.prototype.nsAttributeName=function(e){var t;if(t=(0,o.isString)(e)?(0,i.parseName)(e):e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:(0,o.assign)({localName:t.localName},n)},g.prototype.parseGeneric=function(e){var t=this,n=this.body,r=[];return(0,o.forEach)(e,(function(i,a){"$body"===a?n.push((new v).build({type:"String"},i)):"$children"===a?(0,o.forEach)(i,(function(e){n.push(new g(t).build(e))})):0!==a.indexOf("$")&&t.parseNsAttribute(e,a,i)&&r.push({name:a,value:i})})),r},g.prototype.parseNsAttribute=function(e,t,n){var o,r=e.$model,a=(0,i.parseName)(t);if("xmlns"===a.prefix&&(o={prefix:a.localName,uri:n}),a.prefix||"xmlns"!==a.localName||(o={uri:n}),!o)return{name:t,value:n};if(r&&r.getPackage(n))this.logNamespace(o,!0,!0);else{var u=this.logNamespaceUsed(o,!0);this.getNamespaces().logUsed(u)}},g.prototype.parseNsAttributes=function(e,t){var n=this,r=e.$attrs,i=[];return(0,o.forEach)(r,(function(t,o){var r=n.parseNsAttribute(e,o,t);r&&i.push(r)})),i},g.prototype.parseGenericAttributes=function(e,t){var n=this;(0,o.forEach)(t,(function(t){if(t.name!==a.XSI_TYPE)try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(n){console.warn("missing namespace information for ",t.name,"=",t.value,"on",e,n)}}))},g.prototype.parseContainments=function(e){var t=this,n=this.body,i=this.element;(0,o.forEach)(e,(function(e){var u=i.get(e.name),s=e.isReference;if(e.isMany||(u=[u]),e.isBody)n.push((new v).build(e,u[0]));else if((0,r.isSimple)(e.type))(0,o.forEach)(u,(function(o){n.push(new m(t.addTagName(t.nsPropertyTagName(e))).build(e,o))}));else if(s)(0,o.forEach)(u,(function(o){n.push(new y(t.addTagName(t.nsPropertyTagName(e))).build(o))}));else{var c=(0,a.serializeAsType)(e),l=(0,a.serializeAsProperty)(e);(0,o.forEach)(u,(function(o){var r;r=c?new b(t,e):l?new g(t,e):new g(t),n.push(r.build(o))}))}}))},g.prototype.getNamespaces=function(e){var t,n=this.namespaces,o=this.parent;return n||(t=o&&o.getNamespaces(),e||!t?this.namespaces=n=new c(t):n=t),n},g.prototype.logNamespace=function(e,t,n){var o=this.getNamespaces(n),r=e.uri,i=e.prefix;return o.byUri(r)||o.add(e,t),o.mapPrefix(i,r),e},g.prototype.logNamespaceUsed=function(e,t){var n,o,r,i=this.element.$model,u=this.getNamespaces(t),s=e.prefix,c=e.uri;if(!s&&!c)return{localName:e.localName};if(r=a.DEFAULT_NS_MAP[s]||i&&(i.getPackage(s)||{}).uri,!(c=c||r||u.uriByPrefix(s)))throw new Error("no namespace uri given for prefix <"+s+">");if(!(e=u.byUri(c))){for(n=s,o=1;u.uriByPrefix(n);)n=s+"_"+o++;e=this.logNamespace({prefix:n,uri:c},r===c)}return s&&u.mapPrefix(s,c),e},g.prototype.parseAttributes=function(e){var t=this,n=this.element;(0,o.forEach)(e,(function(e){var r=n.get(e.name);if(e.isReference)if(e.isMany){var i=[];(0,o.forEach)(r,(function(e){i.push(e.id)})),r=i.join(" ")}else r=r.id;t.addAttribute(t.nsAttributeName(e),r)}))},g.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),d(e)},g.prototype.addAttribute=function(e,t){var n=this.attrs;(0,o.isString)(t)&&(t=h(t,u,f)),n.push({name:e,value:t})},g.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=function(e){return(0,o.map)(e.getUsed(),(function(e){return{name:"xmlns"+(e.prefix?":"+e.prefix:""),value:e.uri}}))}(n).concat(t)),(0,o.forEach)(t,(function(t){e.append(" ").append(d(t.name)).append('="').append(t.value).append('"')}))},g.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==v;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),(0,o.forEach)(this.body,(function(t){t.serializeTo(e)})),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()},l(b,g),b.prototype.parseNsAttributes=function(e){var t=g.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var o=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var r=e.$model.getPackage(o.uri),i=r.xml&&r.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(a.XSI_TYPE),(o.prefix?o.prefix+":":"")+i+n.ns.localName),t},b.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri}},function(e){e.exports=JSON.parse('{"name":"DMN","uri":"http://www.omg.org/spec/DMN/20151101/dmn.xsd","xml":{"tagAlias":"lowerCase"},"prefix":"dmn","types":[{"name":"DMNElement","isAbstract":true,"properties":[{"name":"description","type":"String"},{"name":"id","type":"String","isAttr":true,"isId":true},{"name":"label","type":"String","isAttr":true},{"name":"extensionElements","type":"ExtensionElements"}]},{"name":"NamedElement","isAbstract":true,"superClass":["DMNElement"],"properties":[{"name":"name","type":"String","isAttr":true}]},{"name":"DMNElementReference","properties":[{"name":"href","type":"String","isAttr":true}]},{"name":"ExtensionElements","properties":[{"name":"values","type":"Element","isMany":true}]},{"name":"Definitions","superClass":["NamedElement"],"properties":[{"name":"namespace","type":"String","isAttr":true},{"name":"typeLanguage","type":"String","isAttr":true,"default":"http://www.omg.org/spec/FEEL/20140401"},{"name":"expressionLanguage","type":"String","isAttr":true,"default":"http://www.omg.org/spec/FEEL/20140401"},{"name":"exporter","type":"String","isAttr":true},{"name":"exporterVersion","type":"String","isAttr":true},{"name":"itemDefinition","type":"ItemDefinition","isMany":true,"xml":{"serialize":"property"}},{"name":"drgElements","type":"DRGElement","isMany":true},{"name":"artifacts","type":"Artifact","isMany":true}]},{"name":"Import","properties":[{"name":"namespace","type":"String","isAttr":true},{"name":"locationURI","type":"String","isAttr":true},{"name":"importType","type":"String","isAttr":true}]},{"name":"DRGElement","isAbstract":true,"superClass":["NamedElement"]},{"name":"Decision","superClass":["DRGElement"],"properties":[{"name":"question","type":"String"},{"name":"allowedAnswers","type":"String"},{"name":"variable","type":"InformationItem","xml":{"serialize":"property"}},{"name":"informationRequirement","type":"InformationRequirement","isMany":true,"xml":{"serialize":"property"}},{"name":"knowledgeRequirement","type":"KnowledgeRequirement","isMany":true,"xml":{"serialize":"property"}},{"name":"authorityRequirement","type":"AuthorityRequirement","isMany":true,"xml":{"serialize":"property"}},{"name":"decisionTable","type":"DecisionTable","xml":{"serialize":"property"}},{"name":"literalExpression","type":"LiteralExpression","xml":{"serialize":"property"}}]},{"name":"BusinessKnowledgeModel","superClass":["DRGElement"],"properties":[{"name":"encapsulatedLogic","type":"FunctionDefinition"},{"name":"variable","type":"InformationItem","xml":{"serialize":"property"}},{"name":"knowledgeRequirement","type":"KnowledgeRequirement","isMany":true,"xml":{"serialize":"property"}},{"name":"authorityRequirement","type":"AuthorityRequirement","isMany":true,"xml":{"serialize":"property"}}]},{"name":"InputData","superClass":["DRGElement"],"properties":[{"name":"variable","type":"InformationItem","xml":{"serialize":"property"}}]},{"name":"KnowledgeSource","superClass":["DRGElement"],"properties":[{"name":"authorityRequirement","type":"AuthorityRequirement","isMany":true,"xml":{"serialize":"property"}},{"name":"type","type":"String","isAttr":true},{"name":"owner","type":"DMNElementReference","isAttr":true},{"name":"locationURI","type":"String","isAttr":true}]},{"name":"InformationRequirement","properties":[{"name":"requiredDecision","type":"DMNElementReference","xml":{"serialize":"property"}},{"name":"requiredInput","type":"DMNElementReference","xml":{"serialize":"property"}}]},{"name":"KnowledgeRequirement","properties":[{"name":"requiredKnowledge","type":"DMNElementReference","isUnique":true,"xml":{"serialize":"property"}}]},{"name":"AuthorityRequirement","properties":[{"name":"requiredDecision","type":"DMNElementReference","xml":{"serialize":"property"}},{"name":"requiredInput","type":"DMNElementReference","xml":{"serialize":"property"}},{"name":"requiredAuthority","type":"DMNElementReference","xml":{"serialize":"property"}}]},{"name":"Expression","isAbstract":true,"superClass":["DMNElement"],"properties":[{"name":"typeRef","type":"String","isAttr":true}]},{"name":"ItemDefinition","superClass":["NamedElement"],"properties":[{"name":"typeLanguage","type":"String","isAttr":true},{"name":"isCollection","type":"Boolean","isAttr":true,"default":false},{"name":"typeRef","type":"String"},{"name":"allowedValues","type":"UnaryTests","isMany":true,"xml":{"serialize":"property"}}]},{"name":"LiteralExpression","superClass":["Expression"],"properties":[{"name":"expressionLanguage","type":"String","isAttr":true},{"name":"importedValues","type":"ImportedValues"},{"name":"text","type":"String"}]},{"name":"InformationItem","superClass":["NamedElement"],"properties":[{"name":"typeRef","type":"String","isAttr":true}]},{"name":"DecisionTable","superClass":["Expression"],"properties":[{"name":"input","type":"InputClause","isMany":true,"xml":{"serialize":"property"}},{"name":"output","type":"OutputClause","isMany":true,"xml":{"serialize":"property"}},{"name":"rule","type":"DecisionRule","isMany":true,"xml":{"serialize":"property"}},{"name":"hitPolicy","type":"HitPolicy","isAttr":true,"default":"UNIQUE"},{"name":"aggregation","type":"BuiltinAggregator","isAttr":true},{"name":"preferredOrientation","type":"DecisionTableOrientation","isAttr":true,"default":"Rule-as-Row"},{"name":"outputLabel","type":"String","isAttr":true}]},{"name":"DecisionRule","superClass":["DMNElement"],"properties":[{"name":"inputEntry","type":"UnaryTests","isMany":true,"xml":{"serialize":"property"}},{"name":"outputEntry","type":"LiteralExpression","isMany":true,"xml":{"serialize":"property"}}]},{"name":"ImportedValues","superClass":["Import"],"properties":[{"name":"importedElement","type":"String","isMany":true,"xml":{"serialize":"property"}},{"name":"expressionLanguage","type":"String","isAttr":true}]},{"name":"Artifact","isAbstract":true,"superClass":["DMNElement"]},{"name":"TextAnnotation","superClass":["Artifact"],"properties":[{"name":"text","type":"String","xml":{"serialize":"property"}},{"name":"textFormat","type":"String","isAttr":true}]},{"name":"Association","superClass":["Artifact"],"properties":[{"name":"sourceRef","type":"DMNElementReference","xml":{"serialize":"property"}},{"name":"targetRef","type":"DMNElementReference","xml":{"serialize":"property"}},{"name":"associationDirection","type":"AssociationDirection","isAttr":true,"default":"None"}]},{"name":"InputClause","superClass":["DMNElement"],"properties":[{"name":"inputExpression","type":"LiteralExpression","xml":{"serialize":"property"}},{"name":"inputValues","type":"UnaryTests","xml":{"serialize":"property"}}]},{"name":"OutputClause","superClass":["DMNElement"],"properties":[{"name":"outputValues","type":"UnaryTests","xml":{"serialize":"property"}},{"name":"defaultOutputEntry","type":"LiteralExpression","xml":{"serialize":"property"}},{"name":"name","type":"String","isAttr":true},{"name":"typeRef","type":"String","isAttr":true}]},{"name":"UnaryTests","superClass":["DMNElement"],"properties":[{"name":"text","type":"String"},{"name":"expressionLanguage","type":"String","isAttr":true}]},{"name":"FunctionDefinition","superClass":["Expression"],"properties":[{"name":"formalParameter","type":"InformationItem","isMany":true,"xml":{"serialize":"property"}},{"name":"expression","type":"String","isReference":true,"xml":{"serialize":"property"}}]}],"emumerations":[{"name":"AssociationDirection","literalValues":[{"name":"None"},{"name":"One"},{"name":"Both"}]},{"name":"HitPolicy","literalValues":[{"name":"UNIQUE"},{"name":"FIRST"},{"name":"PRIORITY"},{"name":"ANY"},{"name":"COLLECT"},{"name":"RULE ORDER"},{"name":"OUTPUT ORDER"}]},{"name":"BuiltinAggregator","literalValues":[{"name":"SUM"},{"name":"COUNT"},{"name":"MIN"},{"name":"MAX"}]},{"name":"DecisionTableOrientation","literalValues":[{"name":"Rule-as-Row"},{"name":"Rule-as-Column"},{"name":"CrossTable"}]}]}')},function(e){e.exports=JSON.parse('{"name":"Camunda","uri":"http://camunda.org/schema/1.0/dmn","prefix":"camunda","xml":{"tagAlias":"lowerCase"},"types":[{"name":"InputVariable","extends":["dmn:InputClause"],"properties":[{"name":"inputVariable","isAttr":true,"type":"String"}]}]}')},function(e){e.exports=JSON.parse('{"name":"DC","uri":"http://www.omg.org/spec/DD/20100524/DC","types":[{"name":"Boolean"},{"name":"Integer"},{"name":"Real"},{"name":"String"},{"name":"Font","properties":[{"name":"name","type":"String","isAttr":true},{"name":"size","type":"Real","isAttr":true},{"name":"isBold","type":"Boolean","isAttr":true},{"name":"isItalic","type":"Boolean","isAttr":true},{"name":"isUnderline","type":"Boolean","isAttr":true},{"name":"isStrikeThrough","type":"Boolean","isAttr":true}]},{"name":"Point","properties":[{"name":"x","type":"Real","default":"0","isAttr":true},{"name":"y","type":"Real","default":"0","isAttr":true}]},{"name":"Bounds","properties":[{"name":"x","type":"Real","default":"0","isAttr":true},{"name":"y","type":"Real","default":"0","isAttr":true},{"name":"width","type":"Real","isAttr":true},{"name":"height","type":"Real","isAttr":true}]}],"prefix":"dc","associations":[]}')},function(e){e.exports=JSON.parse('{"name":"bpmn.io DI for DMN","uri":"http://bpmn.io/schema/dmn/biodi/1.0","prefix":"biodi","xml":{"tagAlias":"lowerCase"},"types":[{"name":"Edge","superClass":["Element"],"properties":[{"name":"source","type":"String","isAttr":true},{"name":"waypoints","type":"Waypoint","isMany":true,"xml":{"serialize":"property"}}]},{"name":"Bounds","superClass":["dc:Bounds","Element"]},{"name":"Waypoint","superClass":["dc:Point"]}]}')},function(e,t,n){"use strict";var o=n(180);function r(e){if(!(this instanceof r))return new r(e);e=e||[128,36,1],this._seed=e.length?o.rack(e[0],e[1],e[2]):e}e.exports=r,r.prototype.next=function(e){return this._seed(e||!0)},r.prototype.nextPrefixed=function(e,t){var n;do{n=e+this.next(!0)}while(this.assigned(n));return this.claim(n,t),n},r.prototype.claim=function(e,t){this._seed.set(e,t||!0)},r.prototype.assigned=function(e){return this._seed.get(e)||!1},r.prototype.unclaim=function(e){delete this._seed.hats[e]},r.prototype.clear=function(){var e,t=this._seed.hats;for(e in t)this.unclaim(e)}},function(e,t,n){"use strict";var o=e.exports=function(e,t){if(t||(t=16),void 0===e&&(e=128),e<=0)return"0";for(var n=Math.log(Math.pow(2,e))/Math.log(t),r=2;n===1/0;r*=2)n=Math.log(Math.pow(2,e/r))/Math.log(t)*r;var i=n-Math.floor(n),a="";for(r=0;r<Math.floor(n);r++){a=Math.floor(Math.random()*t).toString(t)+a}if(i){var u=Math.pow(t,i);a=Math.floor(Math.random()*u).toString(t)+a}var s=parseInt(a,t);return s!==1/0&&s>=Math.pow(2,e)?o(e,t):a};o.rack=function(e,t,n){var r=function(r){var a=0;do{if(a++>10){if(!n)throw new Error("too many ID collisions, use more bits");e+=n}var u=o(e,t)}while(Object.hasOwnProperty.call(i,u));return i[u]=r,u},i=r.hats={};return r.get=function(e){return r.hats[e]},r.set=function(e,t){return r.hats[e]=t,r},r.bits=e||128,r.base=t||16,r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var o=y(n(6)),r=y(n(182)),i=y(n(227)),a=y(n(235)),u=y(n(243)),s=y(n(245)),c=y(n(257)),l=y(n(273)),d=y(n(277)),f=y(n(290)),p=y(n(331)),h=y(n(335));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){r.default.call(this,e)}(0,o.default)(v,r.default),v.prototype._modelingModules=[i.default,a.default,u.default,s.default,c.default,l.default,d.default,f.default,p.default,h.default],v.prototype._modules=[].concat(v.prototype._modules,v.prototype._modelingModules)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var o=s(n(6)),r=s(n(183)),i=s(n(80)),a=s(n(220)),u=s(n(222));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){r.default.call(this,e)}(0,o.default)(c,r.default),c.prototype._navigationModules=[i.default,a.default,u.default],c.prototype._modules=[].concat(c.prototype._modules,c.prototype._navigationModules)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var o=n(2),r=y(n(184)),i=y(n(6)),a=n(196),u=n(5),s=y(n(198)),c=y(n(35)),l=y(n(11)),d=y(n(50)),f=y(n(78)),p=y(n(215)),h=n(217);function y(e){return e&&e.__esModule?e:{default:e}}var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function g(e){var t,n,r;this._container=this._createContainer(),t=this._container,n='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100">'+h.BPMNIO_IMG+"</a>",r=(0,o.domify)(n),t.appendChild(r),o.event.bind(r,"click",(function(e){(0,h.open)(),e.preventDefault()})),this._init(this._container,e)}(0,i.default)(g,r.default),g.prototype.saveSVG=function(e,t){t||(t=e,e={});var n=this.get("canvas"),r=n.getDefaultLayer(),i=(0,o.query)("defs",n._svg),a=(0,u.innerSVG)(r),s=i&&i.outerHTML||"",c=r.getBBox();t(null,'<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with dmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+c.width+'" height="'+c.height+'" viewBox="'+c.x+" "+c.y+" "+c.width+" "+c.height+'" version="1.1">'+s+a+"</svg>")},g.prototype.getModules=function(){return this._modules},g.prototype.destroy=function(){r.default.prototype.destroy.call(this),(0,o.remove)(this._container)},g.prototype.on=function(e,t,n,o){return this.get("eventBus").on(e,t,n,o)},g.prototype.off=function(e,t){this.get("eventBus").off(e,t)},g.prototype._init=function(e,t){var n=t.additionalModules,o=t.canvas,i=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["additionalModules","canvas"]),a=t.modules||this.getModules(),u=[].concat([{drd:["value",this]}],m(a),m(n||[])),s=v({},i,{canvas:v({},o,{container:e}),modules:u});r.default.call(this,s),t&&t.container&&this.attachTo(t.container)},g.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)},g.prototype._createContainer=function(){return(0,o.domify)('<div class="dmn-drd-container"></div>')},g.prototype.open=function(e,t){var n;try{return this._definitions&&this.clear(),this._definitions=e,(0,a.importDRD)(this,e,t)}catch(e){n=e}return t(n)},g.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach();var t=this._container;e.appendChild(t),this._emit("attach",{}),this.get("canvas").resized()},g.prototype.detach=function(){var e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))},g.prototype._modules=[s.default,c.default,l.default,d.default,f.default,p.default]},function(e,t,n){"use strict";e.exports=n(185)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o,r=n(48),i=n(186),a=(o=i)&&o.__esModule?o:{default:o};function u(e){var t=[],n=[];function o(e){return t.indexOf(e)>=0}e.forEach((function e(r){o(r)||((r.__depends__||[]).forEach(e),o(r)||(!function(e){t.push(e)}(r),(r.__init__||[]).forEach((function(e){n.push(e)}))))}));var i=new r.Injector(t);return n.forEach((function(e){try{i["string"==typeof e?"get":"invoke"](e)}catch(e){throw console.error("Failed to instantiate component"),console.error(e.stack),e}})),i}function s(e,t){this.injector=t=t||function(e){return u([{config:["value",e=e||{}]},a.default].concat(e.modules||[]))}(e),this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("diagram.init")}s.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},s.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(187)),r=c(n(190)),i=c(n(191)),a=c(n(74)),u=c(n(46)),s=c(n(194));function c(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default],__init__:["canvas"],canvas:["type",r.default],elementRegistry:["type",i.default],elementFactory:["type",a.default],eventBus:["type",u.default],graphicsFactory:["type",s.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(188)),r=i(n(189));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__init__:["defaultRenderer"],defaultRenderer:["type",o.default],styles:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o=u(n(6)),r=u(n(73)),i=n(49),a=n(5);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){r.default.call(this,e,1),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2})}(0,o.default)(s,r.default),s.prototype.canRender=function(){return!0},s.prototype.drawShape=function(e,t){var n=(0,a.create)("rect");return(0,a.attr)(n,{x:0,y:0,width:t.width||0,height:t.height||0}),(0,a.attr)(n,this.SHAPE_STYLE),(0,a.append)(e,n),n},s.prototype.drawConnection=function(e,t){var n=(0,i.createLine)(t.waypoints,this.CONNECTION_STYLE);return(0,a.append)(e,n),n},s.prototype.getShapePath=function(e){var t=e.x,n=e.y,o=e.width,r=[["M",t,n],["l",o,0],["l",0,e.height],["l",-o,0],["z"]];return(0,i.componentsToPath)(r)},s.prototype.getConnectionPath=function(e){var t,n,o=e.waypoints,r=[];for(t=0;n=o[t];t++)n=n.original||n,r.push([0===t?"M":"L",n.x,n.y]);return(0,i.componentsToPath)(r)},s.$inject=["eventBus","styles"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(e,t,n){var r=this.style(t,n);return(0,o.assign)(r,{class:e})},this.style=function(t,n){(0,o.isArray)(t)||n||(n=t,t=[]);var r=(0,o.reduce)(t,(function(t,n){return(0,o.assign)(t,e[n]||{})}),{});return n?(0,o.assign)(r,n):r},this.computeStyle=function(e,n,r){return(0,o.isArray)(n)||(r=n,n=[]),t.style(n||[],(0,o.assign)({},r,e||{}))}};var o=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=f;var r=n(0),i=n(16),a=n(14),u=n(5);function s(e,t){return Math.round(e*t)/t}function c(e){return(0,r.isNumber)(e)?e+"px":e}function l(e,t,n){var o=(0,u.create)("g");(0,u.classes)(o).add(t);var r=void 0!==n?n:e.childNodes.length-1;return e.insertBefore(o,e.childNodes[r]||null),o}var d={shape:["x","y","width","height"],connection:["waypoints"]};function f(e,t,n,o){this._eventBus=t,this._elementRegistry=o,this._graphicsFactory=n,this._init(e||{})}function p(e,t){var n="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",n)}f.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],f.prototype._init=function(e){var t=this._eventBus,n=this._container=function(e){var t=(e=(0,r.assign)({},{width:"100%",height:"100%"},e)).container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container"),(0,r.assign)(n.style,{position:"relative",overflow:"hidden",width:c(e.width),height:c(e.height)}),t.appendChild(n),n}(e),o=this._svg=(0,u.create)("svg");(0,u.attr)(o,{width:"100%",height:"100%"}),(0,u.append)(n,o);var i=this._viewport=l(o,"viewport");this._layers={},!1!==e.deferUpdate&&(this._viewboxChanged=(0,r.debounce)((0,r.bind)(this._viewboxChanged,this),300)),t.on("diagram.init",(function(){t.fire("canvas.init",{svg:o,viewport:i})}),this),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],(function(){delete this._cachedViewbox}),this),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)},f.prototype._destroy=function(e){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},f.prototype._clear=function(){var e=this;this._elementRegistry.getAll().forEach((function(t){var n=(0,a.getType)(t);"root"===n?e.setRootElement(null,!0):e._removeElement(t,n)})),delete this._cachedViewbox},f.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},f.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");var n=this._layers[e];if(n||(n=this._layers[e]=this._createLayer(e,t)),void 0!==t&&n.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return n.group},f.prototype._createLayer=function(e,t){t||(t=0);var n=(0,r.reduce)(this._layers,(function(e,n){return t>=n.index&&e++,e}),0);return{group:l(this._viewport,"layer-"+e,n),index:t}},f.prototype.getContainer=function(){return this._container},f.prototype._updateMarker=function(e,t,n){var o;e.id||(e=this._elementRegistry.get(e)),(o=this._elementRegistry._elements[e.id])&&((0,r.forEach)([o.gfx,o.secondaryGfx],(function(e){e&&(n?(0,u.classes)(e).add(t):(0,u.classes)(e).remove(t))})),this._eventBus.fire("element.marker.update",{element:e,gfx:o.gfx,marker:t,add:!!n}))},f.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)},f.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)},f.prototype.hasMarker=function(e,t){e.id||(e=this._elementRegistry.get(e));var n=this.getGraphics(e);return(0,u.classes)(n).has(t)},f.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)},f.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},f.prototype.setRootElement=function(e,t){e&&this._ensureValid("root",e);var n=this._rootElement,o=this._elementRegistry,r=this._eventBus;if(n){if(!t)throw new Error("rootElement already set, need to specify override");r.fire("root.remove",{element:n}),r.fire("root.removed",{element:n}),o.remove(n)}if(e){var i=this.getDefaultLayer();r.fire("root.add",{element:e}),o.add(e,i,this._svg),r.fire("root.added",{element:e,gfx:i})}return this._rootElement=e,e},f.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element with id "+t.id+" already exists");var n=d[e];if(!(0,r.every)(n,(function(e){return void 0!==t[e]})))throw new Error("must supply { "+n.join(", ")+" } with "+e)},f.prototype._setParent=function(e,t,n){(0,i.add)(t.children,e,n),e.parent=t},f.prototype._addElement=function(e,t,n,o){n=n||this.getRootElement();var r=this._eventBus,i=this._graphicsFactory;this._ensureValid(e,t),r.fire(e+".add",{element:t,parent:n}),this._setParent(t,n,o);var a=i.create(e,t,o);return this._elementRegistry.add(t,a),i.update(e,t,a),r.fire(e+".added",{element:t,gfx:a}),t},f.prototype.addShape=function(e,t,n){return this._addElement("shape",e,t,n)},f.prototype.addConnection=function(e,t,n){return this._addElement("connection",e,t,n)},f.prototype._removeElement=function(e,t){var n=this._elementRegistry,o=this._graphicsFactory,r=this._eventBus;if(e=n.get(e.id||e))return r.fire(t+".remove",{element:e}),o.remove(e),(0,i.remove)(e.parent&&e.parent.children,e),e.parent=null,r.fire(t+".removed",{element:e}),n.remove(e),e},f.prototype.removeShape=function(e){return this._removeElement(e,"shape")},f.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},f.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)},f.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},f.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},f.prototype.viewbox=function(e){if(void 0===e&&this._cachedViewbox)return this._cachedViewbox;var t,n,o,r,i,a,c=this._viewport,l=this.getSize();return e?(this._changeViewbox((function(){r=Math.min(l.width/e.width,l.height/e.height);var t=this._svg.createSVGMatrix().scale(r).translate(-e.x,-e.y);(0,u.transform)(c,t)})),e):(t=this.getDefaultLayer().getBBox(),n=(o=(0,u.transform)(c))?o.matrix:(0,u.createMatrix)(),r=s(n.a,1e3),i=s(-n.e||0,1e3),a=s(-n.f||0,1e3),e=this._cachedViewbox={x:i?i/r:0,y:a?a/r:0,width:l.width/r,height:l.height/r,scale:r,inner:{width:t.width,height:t.height,x:t.x,y:t.y},outer:l})},f.prototype.scroll=function(e){var t=this._viewport,n=t.getCTM();return e&&this._changeViewbox((function(){e=(0,r.assign)({dx:0,dy:0},e||{}),n=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(n),p(t,n)})),{x:n.e,y:n.f}},f.prototype.zoom=function(e,t){return e?"fit-viewport"===e?this._fitViewport(t):(this._changeViewbox((function(){"object"!==(void 0===t?"undefined":o(t))&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),r=this._setZoom(e,t)})),s(r.a,1e3)):this.viewbox(e).scale;var n,r},f.prototype._fitViewport=function(e){var t,n,o=this.viewbox(),r=o.outer,i=o.inner;return i.x>=0&&i.y>=0&&i.x+i.width<=r.width&&i.y+i.height<=r.height&&!e?n={x:0,y:0,width:Math.max(i.width+i.x,r.width),height:Math.max(i.height+i.y,r.height)}:(t=Math.min(1,r.width/i.width,r.height/i.height),n={x:i.x+(e?i.width/2-r.width/t/2:0),y:i.y+(e?i.height/2-r.height/t/2:0),width:r.width/t,height:r.height/t}),this.viewbox(n),this.viewbox(!1).scale},f.prototype._setZoom=function(e,t){var n,o,i,a,u=this._svg,s=this._viewport,c=u.createSVGMatrix(),l=u.createSVGPoint(),d=(o=s.getCTM()).a;return t?(n=(0,r.assign)(l,t).matrixTransform(o.inverse()),i=c.translate(n.x,n.y).scale(1/d*e).translate(-n.x,-n.y),a=o.multiply(i)):a=c.scale(e),p(this._viewport,a),a},f.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},f.prototype.getAbsoluteBBox=function(e){var t,n=this.viewbox();e.waypoints?t=this.getGraphics(e).getBBox():t=e;return{x:t.x*n.scale-n.x*n.scale,y:t.y*n.scale-n.y*n.scale,width:t.width*n.scale,height:t.height*n.scale}},f.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(5),r="data-element-id";function i(e){this._elements={},this._eventBus=e}i.$inject=["eventBus"],i.prototype.add=function(e,t,n){var i=e.id;this._validateId(i),(0,o.attr)(t,r,i),n&&(0,o.attr)(n,r,i),this._elements[i]={element:e,gfx:t,secondaryGfx:n}},i.prototype.remove=function(e){var t=this._elements,n=e.id||e,i=n&&t[n];i&&((0,o.attr)(i.gfx,r,""),i.secondaryGfx&&(0,o.attr)(i.secondaryGfx,r,""),delete t[n])},i.prototype.updateId=function(e,t){this._validateId(t),"string"==typeof e&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var n=this.getGraphics(e),o=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,o)},i.prototype.get=function(e){var t;t="string"==typeof e?e:e&&(0,o.attr)(e,r);var n=this._elements[t];return n&&n.element},i.prototype.filter=function(e){var t=[];return this.forEach((function(n,o){e(n,o)&&t.push(n)})),t},i.prototype.getAll=function(){return this.filter((function(e){return e}))},i.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach((function(n){var o=t[n],r=o.element,i=o.gfx;return e(r,i)}))},i.prototype.getGraphics=function(e,t){var n=e.id||e,o=this._elements[n];return o&&(t?o.secondaryGfx:o.gfx)},i.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")}},function(e,t,n){"use strict";e.exports=n(193),e.exports.Collection=n(76)},function(e,t,n){"use strict";var o=n(76);function r(e,t,n){var r=o.extend(n[t.name]||[],e,t,n);Object.defineProperty(n,t.name,{enumerable:t.enumerable,value:r}),r.length&&r.forEach((function(o){e.set(o,t.inverse,n)}))}function i(e,t){if(!(this instanceof i))return new i(e,t);e.inverse=t,t.inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}i.prototype.bind=function(e,t){if("string"==typeof t){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?r(this,t,e):function(e,t,n){var o=t.inverse,r=n[t.name];Object.defineProperty(n,t.name,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return r},set:function(t){if(t!==r){var i=r;r=null,i&&e.unset(i,o,n),r=t,e.set(r,o,n)}}})}(this,t,e)},i.prototype.ensureRefsCollection=function(e,t){var n=e[t.name];return o.isExtended(n)||r(this,t,e),n},i.prototype.ensureBound=function(e,t){(function(e,t){return Object.prototype.hasOwnProperty.call(e,t.name||t)})(e,t)||this.bind(e,t)},i.prototype.unset=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(n):e[t.name]=void 0)},i.prototype.set=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(n):e[t.name]=n)},e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o=n(0),r=n(195),i=n(17),a=n(2),u=n(5);function s(e,t){this._eventBus=e,this._elementRegistry=t}function c(e,t,n){t.insertBefore(e,n||t.firstChild)}s.$inject=["eventBus","elementRegistry"],s.prototype._getChildren=function(e){var t,n=this._elementRegistry.getGraphics(e);return e.parent?(t=(0,r.getChildren)(n))||(t=(0,u.create)("g"),(0,u.classes)(t).add("djs-children"),(0,u.append)(n.parentNode,t)):t=n,t},s.prototype._clear=function(e){var t=(0,r.getVisual)(e);return(0,a.clear)(t),t},s.prototype._createContainer=function(e,t,n){var o=(0,u.create)("g");(0,u.classes)(o).add("djs-group"),void 0!==n?c(o,t,t.childNodes[n]):(0,u.append)(t,o);var r=(0,u.create)("g");(0,u.classes)(r).add("djs-element"),(0,u.classes)(r).add("djs-"+e),(0,u.append)(o,r);var i=(0,u.create)("g");return(0,u.classes)(i).add("djs-visual"),(0,u.append)(r,i),r},s.prototype.create=function(e,t,n){var o=this._getChildren(t.parent);return this._createContainer(e,o,n)},s.prototype.updateContainments=function(e){var t,n=this,r=this._elementRegistry;t=(0,o.reduce)(e,(function(e,t){return t.parent&&(e[t.parent.id]=t.parent),e}),{}),(0,o.forEach)(t,(function(e){var t=e.children;if(t){var i=n._getChildren(e);(0,o.forEach)(t.slice().reverse(),(function(e){c(r.getGraphics(e).parentNode,i)}))}}))},s.prototype.drawShape=function(e,t){return this._eventBus.fire("render.shape",{gfx:e,element:t})},s.prototype.getShapePath=function(e){return this._eventBus.fire("render.getShapePath",e)},s.prototype.drawConnection=function(e,t){return this._eventBus.fire("render.connection",{gfx:e,element:t})},s.prototype.getConnectionPath=function(e){return this._eventBus.fire("render.getConnectionPath",e)},s.prototype.update=function(e,t,n){if(t.parent){var o=this._clear(n);if("shape"===e)this.drawShape(o,t),(0,i.translate)(n,t.x,t.y);else{if("connection"!==e)throw new Error("unknown type: "+e);this.drawConnection(o,t)}t.hidden?(0,u.attr)(n,"display","none"):(0,u.attr)(n,"display","block")}},s.prototype.remove=function(e){var t=this._elementRegistry.getGraphics(e);(0,u.remove)(t.parentNode)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVisual=function(e){return(0,o.query)(".djs-visual",e)},t.getChildren=function(e){return e.parentNode.childNodes[1]};var o=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.importDRD=function(e,t,n){var o,r=e.get("drdImporter"),a=e.get("eventBus"),u=[];a.fire("import.start",{definitions:t});try{!function(e){var t={root:function(e){return r.root(e)},element:function(e,t){return r.add(e,t)},error:function(e,t){u.push({message:e,context:t})}};new i.default(t).handleDefinitions(e)}(t)}catch(e){o=e}a.fire("import.done",{error:o,warnings:u}),n(o,u)};var o,r=n(197),i=(o=r)&&o.__esModule?o:{default:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=[];function i(t,n){if(t.gfx)throw new Error("already rendered "+t.id);return e.element(t,n)}function a(e){var t=[];!function(e,t){var n=e.extensionElements;if(!n)return;(0,o.forEach)(n.values,t)}(e,(function(n){(0,r.is)(n,"biodi:Bounds")?i(e,n):(0,r.is)(n,"biodi:Edge")&&t.push(n)})),function(e,t){function a(t,r){var a=function(e){return e&&e.href.slice(1)}(r),u=(0,o.find)(e,(0,o.matchPattern)({source:a}));u&&n.push((function(){i(t,u)}))}if((0,r.is)(t,"dmn:Association"))return a(t,t.sourceRef);(0,o.forEach)(["informationRequirement","knowledgeRequirement","authorityRequirement"],(function(e){(0,o.forEach)(t[e],(function(e){var t=null;(0,r.is)(e,"dmn:InformationRequirement")?t=["requiredDecision","requiredInput"]:(0,r.is)(e,"dmn:KnowledgeRequirement")?t=["requiredKnowledge"]:(0,r.is)(e,"dmn:AuthorityRequirement")&&(t=["requiredDecision","requiredInput","requiredAuthority"]),t&&(0,o.forEach)(t,(function(t){e[t]&&a(e,e[t])}))}))}))}(t,e)}return{handleDefinitions:function(t){var r;e.root(t),(0,o.forEach)(["decision","drgElements","artifacts"],(function(e){t[e]&&(0,o.forEach)(t[e],a)})),r=n,(0,o.forEach)(r,(function(e){e()}))}}};var o=n(0),r=n(3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(199)),r=i(n(203));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(200)),r=i(n(202));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__init__:["drdRenderer"],drdRenderer:["type",o.default],pathMap:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var o=d(n(6)),r=n(0),i=n(2),a=n(5),u=d(n(73)),s=d(n(201)),c=n(49),l=n(3);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){u.default.call(this,e);var o=new s.default({style:{fontFamily:"Arial, sans-serif",fontSize:"12px"},size:{width:100}}),d={};function f(e){return"url(#"+d[e].id+")"}function h(e){function t(t,n){var o=(0,r.assign)({strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},n.attrs),u=n.ref||{x:0,y:0},s=n.scale||1;"none"===o.strokeDasharray&&(o.strokeDasharray=[1e4,1]);var c=(0,a.create)("marker");(0,a.attr)(n.element,o),(0,a.append)(c,n.element),(0,a.attr)(c,{id:t,viewBox:"0 0 20 20",refX:u.x,refY:u.y,markerWidth:20*s,markerHeight:20*s,orient:"auto"});var l=(0,i.query)("defs",e);return l||(l=(0,a.create)("defs"),(0,a.append)(e,l)),(0,a.append)(l,c),function(e,t){d[e]=t}(t,c)}var n=(0,a.create)("path");(0,a.attr)(n,{d:"M 11 5 L 1 10 L 11 15"}),t("association-start",{element:n,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:1,y:10},scale:.5});var o=(0,a.create)("path");(0,a.attr)(o,{d:"M 1 5 L 11 10 L 1 15"}),t("association-end",{element:o,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:12,y:10},scale:.5});var u=(0,a.create)("path");(0,a.attr)(u,{d:"M 1 5 L 11 10 L 1 15 Z"}),t("information-requirement-end",{element:u,ref:{x:11,y:10},scale:1});var s=(0,a.create)("path");(0,a.attr)(s,{d:"M 1 3 L 11 10 L 1 17"}),t("knowledge-requirement-end",{element:s,attrs:{fill:"none",stroke:"black",strokeWidth:2},ref:{x:11,y:10},scale:.8});var c=(0,a.create)("circle");(0,a.attr)(c,{cx:3,cy:3,r:3}),t("authority-requirement-end",{element:c,ref:{x:3,y:3},scale:.9})}function y(e,t,o){return(0,r.isArray)(t)||(o=t,t=[]),n.style(t||[],(0,r.assign)(o,e||{}))}function v(e,t,n,o,i,u){(0,r.isObject)(i)&&(u=i,i=0),i=i||0,u=y(u,{stroke:"black",strokeWidth:2,fill:"white"});var s=(0,a.create)("rect");return(0,a.attr)(s,{x:i,y:i,width:t-2*i,height:n-2*i,rx:o,ry:o}),(0,a.attr)(s,u),(0,a.append)(e,s),s}function m(e,t,n){var r=o.createText(t||"",n);return(0,i.attr)(r,"class","djs-label"),(0,a.append)(e,r),r}function g(e,t,n){return m(e,(0,l.getName)(t),{box:t,align:n,padding:5})}function b(e,t,n){n=y(n,["no-fill"],{strokeWidth:2,stroke:"black"});var o=(0,a.create)("path");return(0,a.attr)(o,{d:t}),(0,a.attr)(o,n),(0,a.append)(e,o),o}var _={"dmn:Decision":function(e,t,n){var o=v(e,t.width,t.height,0,n);return g(e,t,"center-middle"),o},"dmn:KnowledgeSource":function(e,n,o){var r=b(e,t.getScaledPath("KNOWLEDGE_SOURCE",{xScaleFactor:1.021,yScaleFactor:1,containerWidth:n.width,containerHeight:n.height,position:{mx:0,my:.075}}),{strokeWidth:2,fill:"white",stroke:"black"});return g(e,n,"center-middle"),r},"dmn:BusinessKnowledgeModel":function(e,n,o){var r=b(e,t.getScaledPath("BUSINESS_KNOWLEDGE_MODEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:n.width,containerHeight:n.height,position:{mx:0,my:.3}}),{strokeWidth:2,fill:"white",stroke:"black"});return g(e,n,"center-middle"),r},"dmn:InputData":function(e,t,n){var o=v(e,t.width,t.height,22,n);return g(e,t,"center-middle"),o},"dmn:TextAnnotation":function(e,n,o){var r=v(e,n.width,n.height,0,0,{fill:"none",stroke:"none"});return b(e,t.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:n.width,containerHeight:n.height,position:{mx:0,my:0}})),m(e,p(n).text||"",{box:n,align:"left-middle",padding:5}),r},"dmn:Association":function(e,t,n){var o=p(t);return n=(0,r.assign)({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"},n||{}),"One"!==o.associationDirection&&"Both"!==o.associationDirection||(n.markerEnd=f("association-end")),"Both"===o.associationDirection&&(n.markerStart=f("association-start")),w(e,t.waypoints,n)},"dmn:InformationRequirement":function(e,t,n){return n=(0,r.assign)({strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:f("information-requirement-end")},n||{}),w(e,t.waypoints,n)},"dmn:KnowledgeRequirement":function(e,t,n){return n=(0,r.assign)({strokeWidth:1,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:f("knowledge-requirement-end")},n||{}),w(e,t.waypoints,n)},"dmn:AuthorityRequirement":function(e,t,n){return n=(0,r.assign)({strokeWidth:1.5,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:f("authority-requirement-end")},n||{}),w(e,t.waypoints,n)}};function w(e,t,n){n=y(n,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});var o=(0,c.createLine)(t,n);return(0,a.append)(e,o),o}this.canRender=function(e){return(0,l.is)(e,"dmn:DMNElement")||(0,l.is)(e,"dmn:InformationRequirement")||(0,l.is)(e,"dmn:KnowledgeRequirement")||(0,l.is)(e,"dmn:AuthorityRequirement")},this.drawShape=function(e,t){var n=_[t.type];return n?n(e,t):u.default.prototype.drawShape.apply(this,[e,t])},this.drawConnection=function(e,t){var n=t.type,o=_[n];return o?o(e,t):u.default.prototype.drawConnection.apply(this,[e,t])},e.on("canvas.init",(function(e){h(e.svg)}))}function p(e){return e.businessObject}(0,o.default)(f,u.default),f.$inject=["eventBus","pathMap","styles"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var o=n(0),r=n(5),i={width:150,height:50};function a(e,t){var n;t.textContent=e;try{var o,r=""===e;return t.textContent=r?"dummy":e,o={width:(n=t.getBBox()).width+2*n.x,height:n.height},r&&(o.width=0),o}catch(e){return{width:0,height:0}}}function u(e,t,n){for(var o,r=e.shift(),i=r;;){if((o=a(i,n)).width=i?o.width:0," "===i||""===i||o.width<Math.round(t)||i.length<2)return s(e,i,r,o);i=c(i,o.width,t)}}function s(e,t,n,o){if(t.length<n.length){var r=n.slice(t.length).trim();e.unshift(r)}return{width:o.width,height:o.height,text:t}}function c(e,t,n){var o=Math.max(e.length*(n/t),1),r=function(e,t){var n,o=e.split(/(\s|-)/g),r=[],i=0;if(o.length>1)for(;n=o.shift();){if(!(n.length+i<t)){"-"===n&&r.pop();break}r.push(n),i+=n.length}return r.join("")}(e,o);return r||(r=e.slice(0,Math.max(Math.round(o-1),1))),r}function l(e){this._config=(0,o.assign)({},{size:i,padding:0,style:{},align:"center-top"},e||{})}l.prototype.createText=function(e,t){return this.layoutText(e,t).element},l.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions},l.prototype.layoutText=function(e,t){var n=(0,o.assign)({},this._config.size,t.box),i=(0,o.assign)({},this._config.style,t.style),a=function(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}(t.align||this._config.align),s=function(e){return(0,o.isObject)(e)?(0,o.assign)({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}(void 0!==t.padding?t.padding:this._config.padding),c=t.fitBox||!1,l=function(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}(i),d=e.split(/\r?\n/g),f=[],p=n.width-s.left-s.right,h=(0,r.create)("text");(0,r.attr)(h,{x:0,y:0}),(0,r.attr)(h,i);var y=function(){var e=document.getElementById("helper-svg");return e||(e=(0,r.create)("svg"),(0,r.attr)(e,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(e)),e}();for((0,r.append)(y,h);d.length;)f.push(u(d,p,h));"middle"===a.vertical&&(s.top=s.bottom=0);var v=(0,o.reduce)(f,(function(e,t,n){return e+(l||t.height)}),0)+s.top+s.bottom,m=(0,o.reduce)(f,(function(e,t,n){return t.width>e?t.width:e}),0),g=s.top;"middle"===a.vertical&&(g+=(n.height-v)/2),g-=(l||f[0].height)/4;var b=(0,r.create)("text");return(0,r.attr)(b,i),(0,o.forEach)(f,(function(e){var t;switch(g+=l||e.height,a.horizontal){case"left":t=s.left;break;case"right":t=(c?m:p)-s.right-e.width;break;default:t=Math.max(((c?m:p)-e.width)/2+s.left,0)}var n=(0,r.create)("tspan");(0,r.attr)(n,{x:t,y:g}),n.textContent=e.text,(0,r.append)(b,n)})),(0,r.remove)(h),{dimensions:{width:m,height:v},element:b}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){this.pathMap={KNOWLEDGE_SOURCE:{d:"m {mx},{my} l 0,{e.y0} c {e.x0},{e.y1} {e.x1},-{e.y2} {e.x2},-{e.y3} c {e.x3},-{e.y4} {e.x4},{e.y5} {e.x5},{e.y6} l 0,-{e.y7}z",width:100,height:65,widthElements:[29.8,48.4,67.2,12.2,19.8,30.8],heightElements:[55.3,19.7,4.2,6.7,2.3,1.6,6.2,54.6]},BUSINESS_KNOWLEDGE_MODEL:{d:"m {mx},{my} l {e.x0},-{e.y0} l {e.x1},0 l 0,{e.y1} l -{e.x2},{e.y2} l -{e.x3},0z",width:125,height:45,widthElements:[13.8,109.2,13.8,109.1],heightElements:[13.2,29.8,13.2]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",width:10,height:30,widthElements:[10],heightElements:[30]}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,t){var n,i,a=this.pathMap[e];t.abspos?(n=t.abspos.x,i=t.abspos.y):(n=t.containerWidth*t.position.mx,i=t.containerHeight*t.position.my);var u,s,c={};if(t.position){for(var l=t.containerHeight/a.height*t.yScaleFactor,d=t.containerWidth/a.width*t.xScaleFactor,f=0;f<a.heightElements.length;f++)c["y"+f]=a.heightElements[f]*l;for(var p=0;p<a.widthElements.length;p++)c["x"+p]=a.widthElements[p]*d}return u=a.d,s={mx:n,my:i,e:c},String(u).replace(o,(function(e,t){return function(e,t,n){var o=n;return t.replace(r,(function(e,t,n,r,i){t=t||r,o&&(t in o&&(o=o[t]),"function"==typeof o&&i&&(o=o()))})),o=(null==o||o==n?e:o)+""}(e,t,s)}))}};var o=/\{([^}]+)\}/g,r=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(204),i=(o=r)&&o.__esModule?o:{default:o};t.default={drdImporter:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(0),r=n(3);function i(e,t){return(0,o.assign)({id:e.id,type:e.$type,businessObject:e},t)}function a(e,t,n,o){this._eventBus=e,this._canvas=t,this._elementRegistry=o,this._elementFactory=n}a.$inject=["eventBus","canvas","elementFactory","elementRegistry"],a.prototype.root=function(e){var t=this._elementFactory.createRoot(i(e));return this._canvas.setRootElement(t),t},a.prototype.add=function(e,t){var n,a,u,s,c,l,d,f=this._elementFactory,p=this._canvas,h=this._eventBus;if(t.$instanceOf("biodi:Bounds"))c=i(e,{x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}),n=f.createShape(c),p.addShape(n),h.fire("drdElement.added",{element:n,di:t});else{if(!t.$instanceOf("biodi:Edge"))throw new Error("unknown di for element "+e.id);a=function(e){var t=e.waypoints;if(t)return(0,o.map)(t,(function(e){var t={x:e.x,y:e.y};return(0,o.assign)({original:t},t)}))}(t),l=t.source,d=e.$parent.id,(0,r.is)(e,"dmn:Association")&&(d=function(e){return e&&e.href.slice(1)}(e.targetRef)),u=this._getShape(l),s=this._getShape(d),u&&s&&(c=i(e,{hidden:!1,source:u,target:s,waypoints:a}),n=f.createConnection(c),p.addConnection(n),h.fire("drdElement.added",{element:n,di:t}))}return n},a.prototype._getShape=function(e){return this._elementRegistry.get(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t=t||{},e.replace(/{([^}]+)}/g,(function(e,n){return t[n]||"{"+n+"}"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var o=n(0),r=n(2),i=n(37),a=n(5),u=n(49);function s(e){return!0}function c(e,t,n){var c=n.cls("djs-hit",["no-fill","no-border"],{stroke:"white",strokeWidth:15});function l(n,o,r){var a,u;(function(e,t){return!(h[e]||i.isPrimaryButton)(t)})(n,o)||(r?u=t.getGraphics(r):(a=o.delegateTarget||o.target)&&(u=a,r=t.get(u)),u&&r&&!1===e.fire(n,{element:r,gfx:u,originalEvent:o})&&(o.stopPropagation(),o.preventDefault()))}var d={};function f(e){return d[e]}var p={mouseover:"element.hover",mouseout:"element.out",click:"element.click",dblclick:"element.dblclick",mousedown:"element.mousedown",mouseup:"element.mouseup",contextmenu:"element.contextmenu"},h={"element.contextmenu":s};function y(e,t,n,o){var i=d[n]=function(e){l(n,e)};o&&(h[n]=o),i.$delegate=r.delegate.bind(e,"svg, .djs-element",t,i)}function v(e,t,n){var o=f(n);o&&r.delegate.unbind(e,t,o.$delegate)}e.on("canvas.destroy",(function(e){var t;t=e.svg,(0,o.forEach)(p,(function(e,n){v(t,n,e)}))})),e.on("canvas.init",(function(e){var t;t=e.svg,(0,o.forEach)(p,(function(e,n){y(t,n,e)}))})),e.on(["shape.added","connection.added"],(function(e){var t,n=e.element,o=e.gfx;n.waypoints?t=(0,u.createLine)(n.waypoints):(t=(0,a.create)("rect"),(0,a.attr)(t,{x:0,y:0,width:n.width,height:n.height})),(0,a.attr)(t,c),(0,a.append)(o,t)})),e.on("shape.changed",500,(function(e){var t=e.element,n=e.gfx,o=(0,r.query)(".djs-hit",n);(0,a.attr)(o,{width:t.width,height:t.height})})),e.on("connection.changed",(function(e){var t=e.element,n=e.gfx,o=(0,r.query)(".djs-hit",n);(0,u.updateLine)(o,t.waypoints)})),this.fire=l,this.triggerMouseEvent=function(e,t,n){var o=p[e];if(!o)throw new Error("unmapped DOM event name <"+e+">");return l(o,t,n)},this.mouseHandler=f,this.registerEvent=y,this.unregisterEvent=v}c.$inject=["eventBus","elementRegistry","styles"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMac=function(){return/mac/i.test(navigator.platform)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var o=n(14),r=n(5),i=n(2),a=n(0);function u(e,t,n){this.offset=6;var o=t.cls("djs-outline",["no-fill"]),u=this;function s(e,t){var n=(0,r.create)("rect");return(0,r.attr)(n,(0,a.assign)({x:10,y:10,width:100,height:100},o)),(0,r.append)(e,n),n}e.on(["shape.added","shape.changed"],500,(function(e){var t=e.element,n=e.gfx,o=(0,i.query)(".djs-outline",n);o||(o=s(n)),u.updateShapeOutline(o,t)})),e.on(["connection.added","connection.changed"],(function(e){var t=e.element,n=e.gfx,o=(0,i.query)(".djs-outline",n);o||(o=s(n)),u.updateConnectionOutline(o,t)}))}u.prototype.updateShapeOutline=function(e,t){(0,r.attr)(e,{x:-this.offset,y:-this.offset,width:t.width+2*this.offset,height:t.height+2*this.offset})},u.prototype.updateConnectionOutline=function(e,t){var n=(0,o.getBBox)(t);(0,r.attr)(e,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+2*this.offset,height:n.height+2*this.offset})},u.$inject=["eventBus","styles","elementRegistry"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(e){this._eventBus=e,this._selectedElements=[];var t=this;e.on(["shape.remove","connection.remove"],(function(e){var n=e.element;t.deselect(n)})),e.on(["diagram.clear"],(function(e){t.select(null)}))}r.$inject=["eventBus"],r.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e);if(-1!==n){var o=t.slice();t.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:o,newSelection:t})}},r.prototype.get=function(){return this._selectedElements},r.prototype.isSelected=function(e){return-1!==this._selectedElements.indexOf(e)},r.prototype.select=function(e,t){var n=this._selectedElements,r=n.slice();(0,o.isArray)(e)||(e=e?[e]:[]),t?(0,o.forEach)(e,(function(e){-1===n.indexOf(e)&&n.push(e)})):this._selectedElements=n=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:n})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(e,t,n,r){function i(e,n){t.addMarker(e,n)}function a(e,n){t.removeMarker(e,n)}this._multiSelectionBox=null,e.on("element.hover",(function(e){i(e.element,"hover")})),e.on("element.out",(function(e){a(e.element,"hover")})),e.on("selection.changed",(function(e){var t=e.oldSelection,n=e.newSelection;(0,o.forEach)(t,(function(e){-1===n.indexOf(e)&&a(e,"selected")})),(0,o.forEach)(n,(function(e){-1===t.indexOf(e)&&i(e,"selected")}))}))}r.$inject=["eventBus","canvas","selection","styles"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(37),r=n(0);function i(e,t,n,i){e.on("create.end",500,(function(e){e.context.canExecute&&t.select(e.context.shape)})),e.on("connect.end",500,(function(e){e.context.canExecute&&e.context.target&&t.select(e.context.target)})),e.on("shape.move.end",500,(function(e){var n=e.previousSelection||[],o=i.get(e.context.shape.id);(0,r.find)(n,(function(e){return o.id===e.id}))||t.select(o)})),e.on("element.click",(function(e){var r=e.element;r===n.getRootElement()&&(r=null);var i=t.isSelected(r),a=t.get().length>1,u=(0,o.hasPrimaryModifier)(e);if(i&&a)return u?t.deselect(r):t.select(r);i?t.deselect(r):t.select(r,u)}))}i.$inject=["eventBus","selection","canvas","elementRegistry"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var o,r=n(0),i=n(2),a=n(14),u=n(213);var s=new((o=u)&&o.__esModule?o:{default:o}).default("ov");function c(e,t,n){(0,r.assign)(e.style,{left:t+"px",top:n+"px"})}function l(e,t){e.style.display=!1===t?"none":""}function d(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach((function(n){e.style[n+"transform"]=t}))}function f(e){return void 0!==e}function p(e,t,n,o){var a,u;this._eventBus=t,this._canvas=n,this._elementRegistry=o,this._ids=s,this._overlayDefaults=(0,r.assign)({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(a=n.getContainer(),u=(0,i.domify)('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />'),a.insertBefore(u,a.firstChild),u),this._init()}p.$inject=["config.overlays","eventBus","canvas","elementRegistry"],p.prototype.get=function(e){if((0,r.isString)(e)&&(e={id:e}),(0,r.isString)(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?(0,r.filter)(t.overlays,(0,r.matchPattern)({type:e.type})):t.overlays.slice():[]}return e.type?(0,r.filter)(this._overlays,(0,r.matchPattern)({type:e.type})):e.id?this._overlays[e.id]:null},p.prototype.add=function(e,t,n){if((0,r.isObject)(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var o=this._ids.next();return n=(0,r.assign)({},this._overlayDefaults,n,{id:o,type:t,element:e,html:n.html}),this._addOverlay(n),o},p.prototype.remove=function(e){var t=this.get(e)||[];(0,r.isArray)(t)||(t=[t]);var n=this;(0,r.forEach)(t,(function(e){var t=n._getOverlayContainer(e.element,!0);if(e&&((0,i.remove)(e.html),(0,i.remove)(e.htmlContainer),delete e.htmlContainer,delete e.element,delete n._overlays[e.id]),t){var o=t.overlays.indexOf(e);-1!==o&&t.overlays.splice(o,1)}}))},p.prototype.show=function(){l(this._overlayRoot)},p.prototype.hide=function(){l(this._overlayRoot,!1)},p.prototype.clear=function(){this._overlays={},this._overlayContainers=[],(0,i.clear)(this._overlayRoot)},p.prototype._updateOverlayContainer=function(e){var t=e.element,n=e.html,o=t.x,r=t.y;if(t.waypoints){var u=(0,a.getBBox)(t);o=u.x,r=u.y}c(n,o,r),(0,i.attr)(e.html,"data-container-id",t.id)},p.prototype._updateOverlay=function(e){var t,n,o=e.position,r=e.htmlContainer,i=e.element,u=o.left,s=o.top;void 0!==o.right&&(t=i.waypoints?(0,a.getBBox)(i).width:i.width,u=-1*o.right+t);void 0!==o.bottom&&(n=i.waypoints?(0,a.getBBox)(i).height:i.height,s=-1*o.bottom+n);c(r,u||0,s||0)},p.prototype._createOverlayContainer=function(e){var t=(0,i.domify)('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(t);var n={html:t,element:e,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n},p.prototype._updateRoot=function(e){var t=e.scale||1,n="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";d(this._overlayRoot,n)},p.prototype._getOverlayContainer=function(e,t){var n=(0,r.find)(this._overlayContainers,(function(t){return t.element===e}));return n||t?n:this._createOverlayContainer(e)},p.prototype._addOverlay=function(e){var t,n,o=e.id,a=e.element,u=e.html;u.get&&u.constructor.prototype.jquery&&(u=u.get(0)),(0,r.isString)(u)&&(u=(0,i.domify)(u)),n=this._getOverlayContainer(a),(t=(0,i.domify)('<div class="djs-overlay" data-overlay-id="'+o+'" style="position: absolute">')).appendChild(u),e.type&&(0,i.classes)(t).add("djs-overlay-"+e.type),e.htmlContainer=t,n.overlays.push(e),n.html.appendChild(t),this._overlays[o]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())},p.prototype._updateOverlayVisibilty=function(e,t){var n=e.show,o=n&&n.minZoom,r=n&&n.maxZoom,i=e.htmlContainer,a=!0;n&&((f(o)&&o>t.scale||f(r)&&r<t.scale)&&(a=!1),l(i,a)),this._updateOverlayScale(e,t)},p.prototype._updateOverlayScale=function(e,t){var n,o,r,i=e.scale,a=e.htmlContainer,u="";!0!==i&&(!1===i?(n=1,o=1):(n=i.min,o=i.max),f(n)&&t.scale<n&&(r=(1/t.scale||1)*n),f(o)&&t.scale>o&&(r=(1/t.scale||1)*o)),f(r)&&(u="scale("+r+","+r+")"),d(a,u)},p.prototype._updateOverlaysVisibilty=function(e){var t=this;(0,r.forEach)(this._overlays,(function(n){t._updateOverlayVisibilty(n,e)}))},p.prototype._init=function(){var e=this._eventBus,t=this;e.on("canvas.viewbox.changing",(function(e){t.hide()})),e.on("canvas.viewbox.changed",(function(e){var n;n=e.viewbox,t._updateRoot(n),t._updateOverlaysVisibilty(n),t.show()})),e.on(["shape.remove","connection.remove"],(function(e){var n=e.element,o=t.get({element:n});(0,r.forEach)(o,(function(e){t.remove(e.id)}));var a=t._getOverlayContainer(n);if(a){(0,i.remove)(a.html);var u=t._overlayContainers.indexOf(a);-1!==u&&t._overlayContainers.splice(u,1)}})),e.on("element.changed",500,(function(e){var n=e.element,o=t._getOverlayContainer(n,!0);o&&((0,r.forEach)(o.overlays,(function(e){t._updateOverlay(e)})),t._updateOverlayContainer(o))})),e.on("element.marker.update",(function(e){var n=t._getOverlayContainer(e.element,!0);n&&(0,i.classes)(n.html)[e.add?"add":"remove"](e.marker)})),e.on("diagram.clear",this.clear,this)}},function(e,t,n){"use strict";function o(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,o.prototype.next=function(){return this._prefix+ ++this._counter}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(2);function r(e,t){this._eventBus=e,this._canvas=t,e.on("diagram.init",(function(){this._init()}),this),e.on("import.done",(function(e){this.update()}),this)}r.$inject=["eventBus","canvas"],r.prototype._init=function(){var e=this._canvas,t=this._eventBus,n=e.getContainer(),i=this._container=(0,o.domify)(r.HTML_MARKUP);n.appendChild(i),this.nameElement=(0,o.query)(".dmn-definitions-name",this._container),this.idElement=(0,o.query)(".dmn-definitions-id",this._container),o.delegate.bind(i,".dmn-definitions-name, .dmn-definitions-id","mousedown",(function(e){e.stopPropagation()})),t.fire("definitionIdView.create",{html:i})},r.prototype.update=function(e){var t=this._canvas.getRootElement().businessObject;this.nameElement.textContent=t.name,this.idElement.textContent=t.id},r.HTML_MARKUP='<div class="dmn-definitions"><div class="dmn-definitions-name" title="Definition Name"></div><div class="dmn-definitions-id" title="Definition ID"></div></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(50)),r=i(n(216));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default],__init__:["drillDown"],drillDown:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(2),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=[{className:"dmn-icon-decision-table",matches:function(e){var t=e.businessObject;return(0,o.is)(t,"dmn:Decision")&&t.decisionTable}},{className:"dmn-icon-literal-expression",matches:function(e){var t=e.businessObject;return(0,o.is)(t,"dmn:Decision")&&t.literalExpression}}],u=function(){function e(t,n,o,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._injector=t,this._eventBus=n,this._overlays=o,this._config=r||{enabled:!0},n.on(["shape.added"],(function(e){for(var t=e.element,n=0;n<a.length;n++){var o=a[n],r=o.matches,u=o.className;r&&r(t)&&i.addOverlay(t,u)}}))}return i(e,[{key:"addOverlay",value:function(e,t){var n=(0,r.domify)('\n      <div class="drill-down-overlay">\n        <span class="'+t+'"></span>\n      </div>\n    '),o=this._overlays.add(e,{position:{top:2,left:2},html:n});!1!==this._config.enabled&&((0,r.classes)(n).add("interactive"),this.bindEventListener(e,n,o))}},{key:"bindEventListener",value:function(e,t,n){var o=this,i=this._overlays,a=this._eventBus,u=i._overlayRoot;r.delegate.bind(u,'[data-overlay-id="'+n+'"]',"click",(function(){!1!==a.fire("drillDown.click",{element:e})&&o.drillDown(e)}))}},{key:"drillDown",value:function(e){var t=this._injector.get("_parent",!1);if(!t)return!1;var n=t.getView(e.businessObject);return!!n&&(t.open(n),!0)}}]),e}();t.default=u,u.$inject=["injector","eventBus","overlays","config.drillDown"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BPMNIO_IMG=void 0,t.open=function(){u||(u=(0,o.domify)(s),o.delegate.bind(u,".backdrop","click",(function(e){document.body.removeChild(u)})));document.body.appendChild(u)};var o=n(2),r="data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 960"><path fill="#fff" d="M960 60v839c0 33-27 61-60 61H60c-33 0-60-27-60-60V60C0 27 27 0 60 0h839c34 0 61 27 61 60z"/><path fill="#52b415" d="M217 548a205 205 0 0 0-144 58 202 202 0 0 0-4 286 202 202 0 0 0 285 3 200 200 0 0 0 48-219 203 203 0 0 0-185-128zM752 6a206 206 0 0 0-192 285 206 206 0 0 0 269 111 207 207 0 0 0 111-260A204 204 0 0 0 752 6zM62 0A62 62 0 0 0 0 62v398l60 46a259 259 0 0 1 89-36c5-28 10-57 14-85l99 2 12 85a246 246 0 0 1 88 38l70-52 69 71-52 68c17 30 29 58 35 90l86 14-2 100-86 12a240 240 0 0 1-38 89l43 58h413c37 0 60-27 60-61V407a220 220 0 0 1-44 40l21 85-93 39-45-76a258 258 0 0 1-98 1l-45 76-94-39 22-85a298 298 0 0 1-70-69l-86 22-38-94 76-45a258 258 0 0 1-1-98l-76-45 40-94 85 22a271 271 0 0 1 41-47z"/></svg>'),i=t.BPMNIO_IMG='<img width="52" height="52" src="'+r+'" />';function a(e){return e.join(";")}var u,s='<div class="bjs-powered-by-lightbox" style="'+a(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"])+'"><div class="backdrop" style="'+a(["width: 100%","height: 100%","background: rgba(0,0,0,0.2)"])+'"></div><div class="notice" style="'+a(["position: absolute","left: 50%","top: 40%","margin: 0 -130px","width: 260px","padding: 10px","background: white","border: solid 1px #AAA","border-radius: 3px","font-family: Helvetica, Arial, sans-serif","font-size: 14px","line-height: 1.2em"])+'"><a href="http://bpmn.io" target="_blank" style="float: left; margin-right: 10px">'+i+'</a>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="http://bpmn.io" target="_blank">bpmn.io</a>.</div></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var o=n(2),r=n(219),i=n(81),a=n(0),u=Math.sign||function(e){return e>=0?1:-1},s={min:.2,max:4};function c(e,t,n){e=e||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=(0,a.bind)(this._handleWheel,this),this._totalDelta=0,this._scale=e.scale||.75;var o=this;t.on("canvas.init",(function(t){o._init(!1!==e.enabled)}))}c.$inject=["config.zoomScroll","eventBus","canvas"],c.prototype.scroll=function(e){this._canvas.scroll(e)},c.prototype.reset=function(){this._canvas.zoom("fit-viewport")},c.prototype.zoom=function(e,t){var n=(0,r.getStepSize)(s,20);this._totalDelta+=e,Math.abs(this._totalDelta)>.1&&(this._zoom(e,t,n),this._totalDelta=0)},c.prototype._handleWheel=function(e){if(!(0,o.closest)(e.target,".djs-scrollable",!0)){var t=this._container;e.preventDefault();var n,r=e.ctrlKey,i=e.shiftKey,a=-1*this._scale;if(a*=r?0===e.deltaMode?.02:.32:0===e.deltaMode?1:16,r){var s=t.getBoundingClientRect(),c={x:e.clientX-s.left,y:e.clientY-s.top};n=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*u(e.deltaY)*a,this.zoom(n,c)}else n=i?{dx:a*e.deltaY,dy:0}:{dx:a*e.deltaX,dy:a*e.deltaY},this.scroll(n)}},c.prototype.stepZoom=function(e,t){var n=(0,r.getStepSize)(s,10);this._zoom(e,t,n)},c.prototype._zoom=function(e,t,n){var o=this._canvas,a=e>0?1:-1,u=(0,i.log10)(o.zoom()),c=Math.round(u/n)*n;c+=n*a;var l=Math.pow(10,c);o.zoom((0,r.cap)(s,l),t)},c.prototype.toggle=function(e){var t=this._container,n=this._handleWheel,r=this._enabled;return void 0===e&&(e=!r),r!==e&&o.event[e?"bind":"unbind"](t,"wheel",n,!1),this._enabled=e,e},c.prototype._init=function(e){this.toggle(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStepSize=function(e,t){var n=(0,o.log10)(e.min),r=(0,o.log10)(e.max);return(Math.abs(n)+Math.abs(r))/t},t.cap=function(e,t){return Math.max(e.min,Math.min(e.max,t))};var o=n(81)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(221),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["moveCanvas"],moveCanvas:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o=n(82),r=n(83),i=n(30),a=n(2),u=n(18);function s(e,t){var n;function s(a){var s,c=n.start,l=(0,u.toPoint)(a),d=(0,i.delta)(l,c);if(!n.dragging&&(s=d,Math.sqrt(Math.pow(s.x,2)+Math.pow(s.y,2))>15)&&(n.dragging=!0,(0,r.install)(e),(0,o.set)("grab")),n.dragging){var f=n.last||n.start;d=(0,i.delta)(l,f),t.scroll({dx:d.x,dy:d.y}),n.last=l}a.preventDefault()}function c(e){a.event.unbind(document,"mousemove",s),a.event.unbind(document,"mouseup",c),n=null,(0,o.unset)()}e.on("element.mousedown",500,(function(e){return function(e){if(!(0,a.closest)(e.target,".djs-draggable")&&!(e.button||e.ctrlKey||e.shiftKey||e.altKey))return n={start:(0,u.toPoint)(e)},a.event.bind(document,"mousemove",s),a.event.bind(document,"mouseup",c),!0}(e.originalEvent)}))}s.$inject=["eventBus","canvas"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(223),i=(o=r)&&o.__esModule?o:{default:o};t.default={__depends__:[i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(36)),r=a(n(224)),i=a(n(226));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",r.default],touchFix:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var o,r=n(0),i=n(2),a=n(225),u=(o=a)&&o.__esModule?o:{default:o},s=n(18);var c=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function l(e,t){return t.get(e,!1)}function d(e){e.preventDefault(),e.stopPropagation(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation()}function f(e){function t(t){setTimeout((function(){(0,r.forEach)(c,(function(t){i.event.unbind(e,t,d,!0)}))}),500)}i.event.bind(e,"touchstart",(function(t){(0,r.forEach)(c,(function(t){i.event.bind(e,t,d,!0)}))}),!0),i.event.bind(e,"touchend",t,!0),i.event.bind(e,"touchcancel",t,!0);var n=new u.default.Manager(e,{inputClass:u.default.TouchInput,recognizers:[]}),o=new u.default.Tap,a=new u.default.Pan({threshold:10}),s=new u.default.Press,l=new u.default.Pinch,f=new u.default.Tap({event:"doubletap",taps:2});return l.requireFailure(a),l.requireFailure(s),n.add([a,s,l,f,o]),n.reset=function(e){var t=this.recognizers,o=this.session;o.stopped||(n.stop(e),setTimeout((function(){var e,n;for(e=0;n=t[e];e++)n.reset(),n.state=8;o.curRecognizer=null}),0))},n.on("hammer.input",(function(e){e.srcEvent.defaultPrevented&&n.reset(!0)})),n}function p(e,t,n,o,r){var a,u=l("dragging",e),c=l("move",e),p=l("contextPad",e),h=l("palette",e);function y(e){return function(t){r.fire(e,t)}}function v(e){return(0,i.closest)(e,"svg, .djs-element",!0)}function m(e){function n(e){var n=v(e.target),r=n&&o.get(n);if(c&&t.getRootElement()!==r)return c.start(e,r,!0);!function(e){var n=0,o=0;function r(e){var r=e.deltaX-n,i=e.deltaY-o;t.scroll({dx:r,dy:i}),n=e.deltaX,o=e.deltaY}function i(e){a.off("panmove",r),a.off("panend",i),a.off("pancancel",i)}a.on("panmove",r),a.on("panend",i),a.on("pancancel",i)}()}(a=f(e)).on("doubletap",y("element.dblclick")),a.on("tap",y("element.click")),a.on("panstart",n),a.on("press",n),a.on("pinchstart",(function(e){var n=t.zoom(),o=e.center;function r(e){var r=1-(1-e.scale)/1.5,i=Math.max(.2,Math.min(4,r*n));t.zoom(i,o),d(e)}function i(e){a.off("pinchmove",r),a.off("pinchend",i),a.off("pinchcancel",i),a.reset(!0)}a.on("pinchmove",r),a.on("pinchend",i),a.on("pinchcancel",i)}))}u&&n.on("drag.move",(function(e){var t=e.originalEvent;if(t&&!(t instanceof MouseEvent)){var n=(0,s.toPoint)(t),r=v(document.elementFromPoint(n.x,n.y)),i=r&&o.get(r);i!==e.hover&&(e.hover&&u.out(e),i&&(u.hover({element:i,gfx:r}),e.hover=i,e.hoverGfx=r))}})),p&&n.on("contextPad.create",(function(e){var t=f(e.pad.html);t.on("panstart",(function(e){p.trigger("dragstart",e,!0)})),t.on("press",(function(e){p.trigger("dragstart",e,!0)})),t.on("tap",(function(e){p.trigger("click",e)}))})),h&&n.on("palette.create",(function(e){var t=f(e.container);t.on("panstart",(function(e){h.trigger("dragstart",e,!0)})),t.on("press",(function(e){h.trigger("dragstart",e,!0)})),t.on("tap",(function(e){h.trigger("click",e)}))})),n.on("canvas.init",(function(e){m(e.svg)}))}p.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"]},function(e,t,n){"use strict";var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(i,a,u,s){var c,l=["","webkit","Moz","MS","ms","o"],d=a.createElement("div"),f=Math.round,p=Math.abs,h=Date.now;function y(e,t,n){return setTimeout(x(e,n),t)}function v(e,t,n){return!!Array.isArray(e)&&(m(e,n[t],n),!0)}function m(e,t,n){var o;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(o=0;o<e.length;)t.call(n,e[o],o,e),o++;else for(o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function g(e,t,n){var o="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=i.console&&(i.console.warn||i.console.log);return r&&r.call(i.console,o,n),e.apply(this,arguments)}}c="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)o.hasOwnProperty(r)&&(t[r]=o[r])}return t}:Object.assign;var b=g((function(e,t,n){for(var o=Object.keys(t),r=0;r<o.length;)(!n||n&&void 0===e[o[r]])&&(e[o[r]]=t[o[r]]),r++;return e}),"extend","Use `assign`."),_=g((function(e,t){return b(e,t,!0)}),"merge","Use `assign`.");function w(e,t,n){var o,r=t.prototype;(o=e.prototype=Object.create(r)).constructor=e,o._super=r,n&&c(o,n)}function x(e,t){return function(){return e.apply(t,arguments)}}function O(e,t){return"function"==(void 0===e?"undefined":r(e))?e.apply(t&&t[0]||void 0,t):e}function E(e,t){return void 0===e?t:e}function C(e,t,n){m(k(t),(function(t){e.addEventListener(t,n,!1)}))}function j(e,t,n){m(k(t),(function(t){e.removeEventListener(t,n,!1)}))}function S(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function P(e,t){return e.indexOf(t)>-1}function k(e){return e.trim().split(/\s+/g)}function M(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var o=0;o<e.length;){if(n&&e[o][n]==t||!n&&e[o]===t)return o;o++}return-1}function T(e){return Array.prototype.slice.call(e,0)}function N(e,t,n){for(var o=[],r=[],i=0;i<e.length;){var a=t?e[i][t]:e[i];M(r,a)<0&&o.push(e[i]),r[i]=a,i++}return n&&(o=t?o.sort((function(e,n){return e[t]>n[t]})):o.sort()),o}function A(e,t){for(var n,o,r=t[0].toUpperCase()+t.slice(1),i=0;i<l.length;){if((o=(n=l[i])?n+r:t)in e)return o;i++}}var R=1;function V(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var D="ontouchstart"in i,I=void 0!==A(i,"PointerEvent"),B=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),L=["x","y"],$=["clientX","clientY"];function F(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){O(e.options.enable,[e])&&n.handler(t)},this.init()}function U(e,t,n){var o=n.pointers.length,r=n.changedPointers.length,i=1&t&&o-r==0,a=12&t&&o-r==0;n.isFirst=!!i,n.isFinal=!!a,i&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,o=t.pointers,r=o.length;n.firstInput||(n.firstInput=z(t));r>1&&!n.firstMultiple?n.firstMultiple=z(t):1===r&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,u=a?a.center:i.center,s=t.center=q(o);t.timeStamp=h(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=K(u,s),t.distance=H(u,s),function(e,t){var n=t.center,o=e.offsetDelta||{},r=e.prevDelta||{},i=e.prevInput||{};1!==t.eventType&&4!==i.eventType||(r=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},o=e.offsetDelta={x:n.x,y:n.y});t.deltaX=r.x+(n.x-o.x),t.deltaY=r.y+(n.y-o.y)}(n,t),t.offsetDirection=G(t.deltaX,t.deltaY);var c=W(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,t.scale=a?(l=a.pointers,d=o,H(d[0],d[1],$)/H(l[0],l[1],$)):1,t.rotation=a?function(e,t){return K(t[1],t[0],$)+K(e[1],e[0],$)}(a.pointers,o):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,o,r,i,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(u>25||void 0===a.velocity)){var s=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,l=W(u,s,c);o=l.x,r=l.y,n=p(l.x)>p(l.y)?l.x:l.y,i=G(s,c),e.lastInterval=t}else n=a.velocity,o=a.velocityX,r=a.velocityY,i=a.direction;t.velocity=n,t.velocityX=o,t.velocityY=r,t.direction=i}(n,t);var l,d;var f=e.element;S(t.srcEvent.target,f)&&(f=t.srcEvent.target);t.target=f}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function z(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:f(e.pointers[n].clientX),clientY:f(e.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:t,center:q(t),deltaX:e.deltaX,deltaY:e.deltaY}}function q(e){var t=e.length;if(1===t)return{x:f(e[0].clientX),y:f(e[0].clientY)};for(var n=0,o=0,r=0;r<t;)n+=e[r].clientX,o+=e[r].clientY,r++;return{x:f(n/t),y:f(o/t)}}function W(e,t,n){return{x:t/e||0,y:n/e||0}}function G(e,t){return e===t?1:p(e)>=p(t)?e<0?2:4:t<0?8:16}function H(e,t,n){n||(n=L);var o=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(o*o+r*r)}function K(e,t,n){n||(n=L);var o=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,o)/Math.PI}F.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(V(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&j(this.element,this.evEl,this.domHandler),this.evTarget&&j(this.target,this.evTarget,this.domHandler),this.evWin&&j(V(this.element),this.evWin,this.domHandler)}};var X={mousedown:1,mousemove:2,mouseup:4};function Y(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,F.apply(this,arguments)}w(Y,F,{handler:function(e){var t=X[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var J={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Z={2:"touch",3:"pen",4:"mouse",5:"kinect"},Q="pointerdown",ee="pointermove pointerup pointercancel";function te(){this.evEl=Q,this.evWin=ee,F.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(Q="MSPointerDown",ee="MSPointerMove MSPointerUp MSPointerCancel"),w(te,F,{handler:function(e){var t=this.store,n=!1,o=e.type.toLowerCase().replace("ms",""),r=J[o],i=Z[e.pointerType]||e.pointerType,a="touch"==i,u=M(t,e.pointerId,"pointerId");1&r&&(0===e.button||a)?u<0&&(t.push(e),u=t.length-1):12&r&&(n=!0),u<0||(t[u]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),n&&t.splice(u,1))}});var ne={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function oe(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,F.apply(this,arguments)}function re(e,t){var n=T(e.touches),o=T(e.changedTouches);return 12&t&&(n=N(n.concat(o),"identifier",!0)),[n,o]}w(oe,F,{handler:function(e){var t=ne[e.type];if(1===t&&(this.started=!0),this.started){var n=re.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var ie={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ae(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},F.apply(this,arguments)}function ue(e,t){var n=T(e.touches),o=this.targetIds;if(3&t&&1===n.length)return o[n[0].identifier]=!0,[n,n];var r,i,a=T(e.changedTouches),u=[],s=this.target;if(i=n.filter((function(e){return S(e.target,s)})),1===t)for(r=0;r<i.length;)o[i[r].identifier]=!0,r++;for(r=0;r<a.length;)o[a[r].identifier]&&u.push(a[r]),12&t&&delete o[a[r].identifier],r++;return u.length?[N(i.concat(u),"identifier",!0),u]:void 0}w(ae,F,{handler:function(e){var t=ie[e.type],n=ue.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});function se(){F.apply(this,arguments);var e=x(this.handler,this);this.touch=new ae(this.manager,e),this.mouse=new Y(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ce(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,le.call(this,t)):12&e&&le.call(this,t)}function le(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var o=this.lastTouches;setTimeout((function(){var e=o.indexOf(n);e>-1&&o.splice(e,1)}),2500)}}function de(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var r=this.lastTouches[o],i=Math.abs(t-r.x),a=Math.abs(n-r.y);if(i<=25&&a<=25)return!0}return!1}w(se,F,{handler:function(e,t,n){var o="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(o)ce.call(this,t,n);else if(r&&de.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var fe=A(d.style,"touchAction"),pe=void 0!==fe,he=function(){if(!pe)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function ye(e,t){this.manager=e,this.set(t)}ye.prototype={set:function(e){"compute"==e&&(e=this.compute()),pe&&this.manager.element.style&&he[e]&&(this.manager.element.style[fe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return m(this.manager.recognizers,(function(t){O(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(P(e,"none"))return"none";var t=P(e,"pan-x"),n=P(e,"pan-y");if(t&&n)return"none";if(t||n)return t?"pan-x":"pan-y";if(P(e,"manipulation"))return"manipulation";return"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var o=this.actions,r=P(o,"none")&&!he.none,i=P(o,"pan-y")&&!he["pan-y"],a=P(o,"pan-x")&&!he["pan-x"];if(r){var u=1===e.pointers.length,s=e.distance<2,c=e.deltaTime<250;if(u&&s&&c)return}if(!a||!i)return r||i&&6&n||a&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function ve(e){this.options=c({},this.defaults,e||{}),this.id=R++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function me(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function ge(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function be(e,t){var n=t.manager;return n?n.get(e):e}function _e(){ve.apply(this,arguments)}function we(){_e.apply(this,arguments),this.pX=null,this.pY=null}function xe(){_e.apply(this,arguments)}function Oe(){ve.apply(this,arguments),this._timer=null,this._input=null}function Ee(){_e.apply(this,arguments)}function Ce(){_e.apply(this,arguments)}function je(){ve.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Se(e,t){return(t=t||{}).recognizers=E(t.recognizers,Se.defaults.preset),new Pe(e,t)}ve.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(v(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=be(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return v(e,"dropRecognizeWith",this)||(e=be(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(v(e,"requireFailure",this))return this;var t=this.requireFail;return-1===M(t,e=be(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(v(e,"dropRequireFailure",this))return this;e=be(e,this);var t=M(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function o(n){t.manager.emit(n,e)}n<8&&o(t.options.event+me(n)),o(t.options.event),e.additionalEvent&&o(e.additionalEvent),n>=8&&o(t.options.event+me(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!O(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(_e,ve,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,o=6&t,r=this.attrTest(e);return o&&(8&n||!r)?16|t:o||r?4&n?8|t:2&t?4|t:2:32}}),w(we,_e,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,o=e.distance,r=e.direction,i=e.deltaX,a=e.deltaY;return r&t.direction||(6&t.direction?(r=0===i?1:i<0?2:4,n=i!=this.pX,o=Math.abs(e.deltaX)):(r=0===a?1:a<0?8:16,n=a!=this.pY,o=Math.abs(e.deltaY))),e.direction=r,n&&o>t.threshold&&r&t.direction},attrTest:function(e){return _e.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ge(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(xe,_e,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(Oe,ve,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!o||!n||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=y((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),w(Ee,_e,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),w(Ce,_e,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return we.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&p(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=ge(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(je,ve,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(o&&r&&n){if(4!=e.eventType)return this.failTimeout();var i=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||H(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&i?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=y((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=y((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Se.VERSION="2.0.7",Se.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ee,{enable:!1}],[xe,{enable:!1},["rotate"]],[Ce,{direction:6}],[we,{direction:6},["swipe"]],[je],[je,{event:"doubletap",taps:2},["tap"]],[Oe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Pe(e,t){var n;this.options=c({},Se.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(I?te:B?ae:D?se:Y))(n,U),this.touchAction=new ye(this,this.options.touchAction),ke(this,!0),m(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function ke(e,t){var n,o=e.element;o.style&&(m(e.options.cssProps,(function(r,i){n=A(o.style,i),t?(e.oldCssProps[n]=o.style[n],o.style[n]=r):o.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Pe.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var o=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var i=0;i<o.length;)n=o[i],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),i++}},get:function(e){if(e instanceof ve)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(v(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(v(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=M(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return m(k(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return m(k(e),(function(e){t?n[e]&&n[e].splice(M(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=a.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var o=0;o<n.length;)n[o](t),o++}},destroy:function(){this.element&&ke(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(Se,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Pe,Input:F,TouchAction:ye,TouchInput:ae,MouseInput:Y,PointerEventInput:te,TouchMouseInput:se,SingleTouchInput:oe,Recognizer:ve,AttrRecognizer:_e,Tap:je,Pan:we,Swipe:Ce,Pinch:xe,Rotate:Ee,Press:Oe,on:C,off:j,each:m,merge:_,extend:b,assign:c,inherit:w,bindFn:x,prefixed:A}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Se,void 0===(o=function(){return Se}.call(t,n,t,e))||(e.exports=o)}(window,document)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(5);function r(e,t){var n=this;t.on("canvas.init",(function(e){n.addBBoxMarker(e.svg)}))}r.$inject=["canvas","eventBus"],r.prototype.addBBoxMarker=function(e){var t={fill:"none",class:"outer-bound-marker"},n=(0,o.create)("rect");(0,o.attr)(n,{x:-1e4,y:1e4,width:10,height:10}),(0,o.attr)(n,t),(0,o.append)(e,n);var r=(0,o.create)("rect");(0,o.attr)(r,{x:1e4,y:1e4,width:10,height:10}),(0,o.attr)(r,t),(0,o.append)(e,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(36)),r=d(n(11)),i=d(n(77)),a=d(n(24)),u=d(n(31)),s=d(n(231)),c=d(n(233)),l=d(n(234));function d(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default,i.default,a.default,u.default,s.default],__init__:["move","movePreview"],move:["type",c.default],movePreview:["type",l.default]}},function(e,t,n){"use strict";function o(e){this._commandStack=e.get("commandStack",!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,o.$inject=["injector"],o.prototype.allowed=function(e,t){var n=!0,o=this._commandStack;return o&&(n=o.canExecute(e,t)),void 0===n||n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var o=n(0),r=n(2),i=n(18),a=n(82),u=n(83),s=n(30),c=Math.round;function l(e){e.preventDefault()}function d(e,t,n){var d,f={threshold:5,trapClick:!0};function p(e){var n=t.viewbox(),o=t._container.getBoundingClientRect();return{x:n.x+(e.x-o.left)/n.scale,y:n.y+(e.y-o.top)/n.scale}}function h(t,n){n=n||d;var r=e.createEvent((0,o.assign)({},n.payload,n.data,{isTouch:n.isTouch}));return!1!==e.fire("drag."+t,r)&&e.fire(n.prefix+"."+t,r)}function y(e,r){var u,l=d.payload,f=d.displacement,y=d.globalStart,v=(0,i.toPoint)(e),m=(0,s.delta)(v,y),g=d.localStart,b=p(v),_=(0,s.delta)(b,g);if(!d.active&&(r||(u=m,Math.sqrt(Math.pow(u.x,2)+Math.pow(u.y,2))>d.threshold))){if((0,o.assign)(l,{x:c(g.x+f.x),y:c(g.y+f.y),dx:0,dy:0},{originalEvent:e}),!1===h("start"))return x();d.active=!0,d.keepSelection||(l.previousSelection=n.get(),n.select(null)),d.cursor&&(0,a.set)(d.cursor),t.addMarker(t.getRootElement(),"djs-drag-active")}(0,i.stopPropagation)(e),d.active&&((0,o.assign)(l,{x:c(b.x+f.x),y:c(b.y+f.y),dx:c(_.x),dy:c(_.y)},{originalEvent:e}),h("move"))}function v(e){var t=!0;d.active&&(e&&(d.payload.originalEvent=e,(0,i.stopPropagation)(e)),t=h("end")),!1===t&&h("rejected"),h("ended",O(!0!==t))}function m(e){27===e.which&&(l(e),x())}function g(t){var n;d.active&&(n=(0,u.install)(e),setTimeout(n,400),l(t)),v(t)}function b(e){y(e)}function _(e){var t=d.payload;t.hoverGfx=e.gfx,t.hover=e.element,h("hover")}function w(e){h("out");var t=d.payload;t.hoverGfx=null,t.hover=null}function x(e){var t;if(d){var n=d.active;n&&h("cancel"),t=O(e),n&&h("canceled",t)}}function O(o){var i,u;h("cleanup"),(0,a.unset)(),u=d.trapClick?g:v,r.event.unbind(document,"mousemove",y),r.event.unbind(document,"dragstart",l),r.event.unbind(document,"selectstart",l),r.event.unbind(document,"mousedown",u,!0),r.event.unbind(document,"mouseup",u,!0),r.event.unbind(document,"keyup",m),r.event.unbind(document,"touchstart",b,!0),r.event.unbind(document,"touchcancel",x,!0),r.event.unbind(document,"touchmove",y,!0),r.event.unbind(document,"touchend",v,!0),e.off("element.hover",_),e.off("element.out",w),t.removeMarker(t.getRootElement(),"djs-drag-active");var s=d.payload.previousSelection;return!1!==o&&s&&!n.get().length&&n.select(s),i=d,d=null,i}e.on("diagram.destroy",x),this.init=function(t,n,a,u){d&&x(!1),"string"==typeof n&&(u=a,a=n,n=null);var c,O,E,C,j,S=(u=(0,o.assign)({},f,u||{})).data||{};C=u.trapClick?g:v,t?(c=(0,i.getOriginal)(t)||t,O=(0,i.toPoint)(t),(0,i.stopPropagation)(t),"dragstart"===c.type&&l(c)):(c=null,O={x:0,y:0}),E=p(O),n||(n=E),j=function(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}(c),d=(0,o.assign)({prefix:a,data:S,payload:{},globalStart:O,displacement:(0,s.delta)(n,E),localStart:E,isTouch:j},u),u.manual||(j?(r.event.bind(document,"touchstart",b,!0),r.event.bind(document,"touchcancel",x,!0),r.event.bind(document,"touchmove",y,!0),r.event.bind(document,"touchend",v,!0)):(r.event.bind(document,"mousemove",y),r.event.bind(document,"dragstart",l),r.event.bind(document,"selectstart",l),r.event.bind(document,"mousedown",C,!0),r.event.bind(document,"mouseup",C,!0)),r.event.bind(document,"keyup",m),e.on("element.hover",_),e.on("element.out",w)),h("init"),u.autoActivate&&y(t,!0)},this.move=y,this.hover=_,this.out=w,this.end=v,this.cancel=x,this.context=function(){return d},this.setOptions=function(e){(0,o.assign)(f,e)}}d.$inject=["eventBus","canvas","selection"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(2),r=n(18);function i(e,t,n){var i=this;e.on("drag.start",(function(t){e.once("drag.move",(function(){e.once("drag.move",(function(e){i.ensureHover(e)}))}))})),this.ensureHover=function(e){if(!e.hover){var i,a,u,s=e.originalEvent;s instanceof MouseEvent&&(i=(0,r.toPoint)(s),(u=function(e){return(0,o.closest)(e,"svg, .djs-element",!0)}(document.elementFromPoint(i.x,i.y)))&&(a=n.get(u),t.hover({element:a,gfx:u})))}}}i.$inject=["eventBus","dragging","elementRegistry"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(232),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["previewSupport"],previewSupport:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(0),r=n(5);function i(e,t,n){this._elementRegistry=e,this._canvas=t,this._styles=n}i.$inject=["elementRegistry","canvas","styles"],i.prototype.getGfx=function(e){return this._elementRegistry.getGraphics(e)},i.prototype.addDragger=function(e,t){var n=this.getGfx(e),i=(0,r.clone)(n),a=n.getBoundingClientRect();return e.waypoints&&function e(t){t.children&&(0,o.forEach)(t.children,(function(t){e(t)}));t.style.markerStart="",t.style.markerEnd=""}(i),(0,r.attr)(i,this._styles.cls("djs-dragger",[],{x:a.top,y:a.left})),(0,r.append)(t,i),i},i.prototype.addFrame=function(e,t){var n=(0,r.create)("rect",{class:"djs-resize-overlay",width:e.width,height:e.height,x:e.x,y:e.y});return(0,r.append)(t,n),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(0),r=n(18),i=Math.round;function a(e,t,n,a,u){function s(e,t,n,o){return u.allowed("elements.move",{shapes:e,delta:t,position:n,target:o})}function c(e,n,o){if(!n.waypoints&&n.parent){var r=function(e){return{x:e.x+i(e.width/2),y:e.y+i(e.height/2)}}(n);return t.init(e,r,"shape.move",{cursor:"grabbing",autoActivate:o,data:{shape:n,context:{}}}),!0}}e.on("shape.move.start",1500,(function(e){var t,n,r=e.context,i=e.shape,u=a.get().slice();-1===u.indexOf(i)&&(u=[i]),t=u,n=(0,o.groupBy)(t,"id"),u=(0,o.filter)(t,(function(e){for(;e=e.parent;)if(n[e.id])return!1;return!0})),(0,o.assign)(r,{shapes:u,validatedShapes:u,shape:i})})),e.on("shape.move.start",1250,(function(e){var t=e.context,n=t.validatedShapes;if(!(t.canExecute=s(n)))return!1})),e.on("shape.move.move",500,(function(e){var t,n=e.context,o=n.validatedShapes,r=e.hover,i={x:e.dx,y:e.dy};t=s(o,i,{x:e.x,y:e.y},r),n.delta=i,n.canExecute=t,n.target=null!==t?r:null})),e.on("shape.move.end",(function(e){var t=e.context,o=t.delta,r=t.canExecute,a="attach"===r,u=t.shapes;if(!r)return!1;o.x=i(o.x),o.y=i(o.y),n.moveElements(u,o,t.target,{primaryShape:t.shape,attach:a})})),e.on("element.mousedown",(function(e){var t=(0,r.getOriginal)(e);if(!t)throw new Error("must supply DOM mousedown event");return c(t,e.element)})),this.start=c}a.$inject=["eventBus","dragging","modeling","selection","rules"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var o=n(0),r=n(14),i=n(5),a=n(17),u="drop-ok",s="drop-not-ok",c="new-parent",l="attach-ok";function d(e,t,n,d,f){function p(e){return function(e){return(0,o.filter)(e,(function(t){return!function(e){return e.waypoints}(t)||(0,o.find)(e,(0,o.matchPattern)({id:t.source.id}))&&(0,o.find)(e,(0,o.matchPattern)({id:t.target.id}))}))}(h(e))}function h(e){var t=(0,r.selfAndAllChildren)(e,!0),n=(0,o.map)(t,(function(e){return(e.incoming||[]).concat(e.outgoing||[])}));return(0,o.flatten)(t.concat(n))}function y(e,t){[l,u,s,c].forEach((function(o){o===t?n.addMarker(e,o):n.removeMarker(e,o)}))}e.on("shape.move.start",499,(function(e){var t,r=e.context,a=r.shapes,u=r.allDraggedElements,s=p(a);if(!r.dragGroup){var c=(0,i.create)("g");(0,i.attr)(c,d.cls("djs-drag-group",["no-events"]));var l=n.getDefaultLayer();(0,i.append)(l,c),r.dragGroup=c}s.forEach((function(e){f.addDragger(e,r.dragGroup)})),u=u?(0,o.flatten)([u,h(a)]):h(a),(0,o.forEach)(u,(function(e){n.addMarker(e,"djs-dragging")})),r.allDraggedElements=u,r.differentParents=(t=a,1!==(0,o.size)((0,o.groupBy)(t,(function(e){return e.parent&&e.parent.id}))))})),e.on("shape.move.move",499,(function(e){var t=e.context,n=t.dragGroup,o=t.target,r=t.shape.parent,i=t.canExecute;o&&("attach"===i?y(o,l):t.canExecute&&o&&o.id!==r.id?y(o,c):y(o,t.canExecute?u:s)),(0,a.translate)(n,e.dx,e.dy)})),e.on(["shape.move.out","shape.move.cleanup"],(function(e){var t=e.context.target;t&&y(t,null)})),e.on("shape.move.cleanup",(function(e){var t=e.context,r=t.allDraggedElements,a=t.dragGroup;(0,o.forEach)(r,(function(e){n.removeMarker(e,"djs-dragging")})),a&&(0,i.clear)(a)})),this.makeDraggable=function(e,t,o){f.addDragger(t,e.dragGroup),o&&n.addMarker(t,"djs-dragging"),e.allDraggedElements?e.allDraggedElements.push(t):e.allDraggedElements=[t]}}d.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(31)),r=c(n(24)),i=c(n(236)),a=c(n(240)),u=c(n(241)),s=c(n(242));function c(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default],__init__:["bendpoints","bendpointSnapping"],bendpoints:["type",i.default],bendpointMove:["type",a.default],connectionSegmentMove:["type",u.default],bendpointSnapping:["type",s.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var o=n(0),r=n(2),i=n(51),a=n(237),u=n(25),s=n(239),c=n(5),l=n(17);function d(e,t,n,d,f){function p(e,n){var o=(0,i.toCanvasCoordinates)(t,n);return(0,s.getApproxIntersection)(e,o)}function h(e,t){var n=t.waypoints,o=p(n,e);if(o)return!function(e,t,n){var o,r,i,a,s,c,l=e.index,d=e.point;return!(l<=0||e.bendpoint)&&(o=t[l-1],r=t[l],i=(0,u.getMidPoint)(o,r),a=(0,u.pointsAligned)(o,r),s=Math.abs(d.x-i.x),c=Math.abs(d.y-i.y),a&&s<=n&&c<=n)}(o,n,10)?d.start(e,t,o.index,!o.bendpoint):f.start(e,t,o.index),!0}function y(e,t,o){r.event.bind(e,t,(function(e){n.triggerMouseEvent(t,e,o),e.stopPropagation()}))}function v(e,n){var o=t.getLayer("overlays"),i=(0,r.query)('.djs-bendpoints[data-element-id="'+(0,a.escapeCSS)(e.id)+'"]',o);return!i&&n&&(i=(0,c.create)("g"),(0,c.attr)(i,{"data-element-id":e.id}),(0,c.classes)(i).add("djs-bendpoints"),(0,c.append)(o,i),y(i,"mousedown",e),y(i,"click",e),y(i,"dblclick",e)),i}function m(e,t){t.waypoints.forEach((function(t,n){var o=(0,i.addBendpoint)(e);(0,c.append)(e,o),(0,l.translate)(o,t.x,t.y)})),(0,i.addBendpoint)(e,"floating")}function g(e,t){for(var n,o,r=t.waypoints,a=1;a<r.length;a++)n=r[a-1],o=r[a],(0,u.pointsAligned)(n,o)&&(0,i.addSegmentDragger)(e,n,o)}function b(e){var t=v(e);return t||(m(t=v(e,!0),e),g(t,e)),t}function _(e){var t=v(e);t&&(!function(e){(0,o.forEach)((0,r.queryAll)("."+i.SEGMENT_DRAGGER_CLS,e),(function(e){(0,c.remove)(e)}))}(t),function(e){(0,o.forEach)((0,r.queryAll)("."+i.BENDPOINT_CLS,e),(function(e){(0,c.remove)(e)}))}(t),g(t,e),m(t,e))}e.on("connection.changed",(function(e){_(e.element)})),e.on("connection.remove",(function(e){var t=v(e.element);t&&(0,c.remove)(t)})),e.on("element.marker.update",(function(e){var t,n=e.element;n.waypoints&&(t=b(n),e.add?(0,c.classes)(t).add(e.marker):(0,c.classes)(t).remove(e.marker))})),e.on("element.mousemove",(function(e){var t,n,o,i=e.element,a=i.waypoints;if(a){if(t=v(i,!0),!(n=(0,r.query)(".floating",t)))return;(o=p(a,e.originalEvent))&&(0,l.translate)(n,o.point.x,o.point.y)}})),e.on("element.mousedown",(function(e){var t=e.originalEvent,n=e.element,o=n.waypoints;if(o)return h(t,n)})),e.on("selection.changed",(function(e){var t=e.newSelection[0];t&&t.waypoints&&b(t)})),e.on("element.hover",(function(e){var t=e.element;t.waypoints&&(b(t),n.registerEvent(e.gfx,"mousemove","element.mousemove"))})),e.on("element.out",(function(e){n.unregisterEvent(e.gfx,"mousemove","element.mousemove")})),e.on("element.updateId",(function(e){var t=e.element,n=e.newId;if(t.waypoints){var o=v(t);o&&(0,c.attr)(o,{"data-element-id":n})}})),this.addHandles=b,this.updateHandles=_,this.getBendpointsContainer=v}d.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(84);Object.defineProperty(t,"escapeCSS",{enumerable:!0,get:function(){return(e=o,e&&e.__esModule?e:{default:e}).default;var e}}),t.escapeHTML=function(e){return e.replace(/[<>]/g,(function(e){return r[e]}))};var r={"<":"&lt",">":"&gt"}},function(e,t,n){"use strict";var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(o=window)}e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getApproxIntersection=function(e,t){return function(e,t){var n,o;for(n=0;o=e[n];n++)if((0,r.pointDistance)(o,t)<=10)return{point:e[n],bendpoint:!0,index:n};return null}(e,t)||function(e,t){var n,o=(0,a.default)((d=t,f=10,p=d.x,h=d.y,[["M",p,h],["m",0,-f],["a",f,f,0,1,1,0,2*f],["a",f,f,0,1,1,0,-2*f],["z"]]),(c=e,l=[],c.forEach((function(e,t){l.push([0===t?"M":"L",e.x,e.y])})),l)),r=o[0],i=o[o.length-1];var c,l;var d,f,p,h;if(!r)return null;if(r!==i)return r.segment2!==i.segment2?(n=s(r.segment2,i.segment2)-1,{point:e[n],bendpoint:!0,index:n}):{point:{x:u(r.x+i.x)/2,y:u(r.y+i.y)/2},index:r.segment2};return{point:{x:u(r.x),y:u(r.y)},index:r.segment2}}(e,t)};var o,r=n(25),i=n(85),a=(o=i)&&o.__esModule?o:{default:o};var u=Math.round,s=Math.max},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o=n(25),r=n(51),i=n(5),a=n(17),u=Math.round;function s(e,t,n,s,c,l,d){var f=e.get("connectionDocking",!1);function p(e){c.update("connection",e.connection,e.connectionGfx)}this.start=function(e,t,o,r){var i,a=t.waypoints,u=n.getGraphics(t);i={connection:t,bendpointIndex:o,insert:r,type:r||0!==o?r||o!==a.length-1?"connection.updateWaypoints":"connection.reconnectEnd":"connection.reconnectStart"},s.init(e,"bendpoint.move",{data:{connection:t,connectionGfx:u,context:i}})},t.on("bendpoint.move.start",(function(e){var t=e.context,o=t.connection,a=o.waypoints,u=a.slice(),s=t.insert,c=t.bendpointIndex;t.originalWaypoints=a,s&&u.splice(c,0,null),o.waypoints=u,t.draggerGfx=(0,r.addBendpoint)(n.getLayer("overlays")),(0,i.classes)(t.draggerGfx).add("djs-dragging"),n.addMarker(o,"djs-updating")})),t.on("bendpoint.move.hover",(function(e){var t=e.context;if(t.hover=e.hover,e.hover){n.addMarker(e.hover,"connect-hover");var o=t.allowed=l.allowed(t.type,t);o?(n.removeMarker(t.hover,"connect-not-ok"),n.addMarker(t.hover,"connect-ok"),t.target=t.hover):!1===o&&(n.removeMarker(t.hover,"connect-ok"),n.addMarker(t.hover,"connect-not-ok"),t.target=null)}})),t.on(["bendpoint.move.out","bendpoint.move.cleanup"],(function(e){var t=e.context.hover;t&&(n.removeMarker(t,"connect-hover"),n.removeMarker(t,e.context.target?"connect-ok":"connect-not-ok"))})),t.on("bendpoint.move.move",(function(e){var t,n,o=e.context,r=o.type,i=e.connection;i.waypoints[o.bendpointIndex]={x:e.x,y:e.y},f&&(o.hover&&("connection.reconnectStart"===r&&(t=o.hover),"connection.reconnectEnd"===r&&(n=o.hover)),i.waypoints=f.getCroppedWaypoints(i,t,n)),(0,a.translate)(o.draggerGfx,e.x,e.y),p(e)})),t.on(["bendpoint.move.end","bendpoint.move.cancel"],(function(e){var t=e.context,o=t.hover,r=t.connection;(0,i.remove)(t.draggerGfx),t.newWaypoints=r.waypoints.slice(),r.waypoints=t.originalWaypoints,n.removeMarker(r,"djs-updating"),o&&(n.removeMarker(o,"connect-ok"),n.removeMarker(o,"connect-not-ok"))})),t.on("bendpoint.move.end",(function(e){var t,n=e.context,r=n.newWaypoints,i=n.bendpointIndex,a=r[i],s=n.allowed;if(a.x=u(a.x),a.y=u(a.y),s&&"connection.reconnectStart"===n.type)d.reconnectStart(n.connection,n.target,a);else if(s&&"connection.reconnectEnd"===n.type)d.reconnectEnd(n.connection,n.target,a);else{if(!1===s||"connection.updateWaypoints"!==n.type)return p(e),!1;t={bendpointMove:{insert:e.context.insert,bendpointIndex:i}},d.updateWaypoints(n.connection,function(e){e=e.slice();for(var t,n,r,i=0;e[i];)t=e[i],n=e[i-1],r=e[i+1],0===(0,o.pointDistance)(t,r)||(0,o.pointsOnLine)(n,r,t)?e.splice(i,1):i++;return e}(r),t)}})),t.on("bendpoint.move.cancel",(function(e){p(e)}))}s.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","rules","modeling"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var o=n(25),r=n(51),i=n(19),a=n(5),u=n(17);function s(e,t,n){return c(e,t,e[t]+n)}function c(e,t,n){return{x:"x"===t?n:e.x,y:"y"===t?n:e.y}}function l(e){return"x"===e?"y":"x"}function d(e,t,n){var o,r;return e.original?e.original:(o=(0,i.getMid)(t),c(e,r=l(n),o[r]))}function f(e,t,n,f,p,h,y){var v=e.get("connectionDocking",!1);function m(e,t){if(!v)return t;var n,o=e.waypoints;return e.waypoints=t,n=v.getCroppedWaypoints(e),e.waypoints=o,n}function g(e){p.update("connection",e.connection,e.connectionGfx)}function b(e,t,n){var o=e.newWaypoints,r=function(e,t,n,o){var r=Math.max(t[o],n[o]),i=Math.min(t[o],n[o]);return c(t,o,Math.min(Math.max(i+20,e[o]),r-20))}(n,o[e.segmentStartIndex+t],o[e.segmentEndIndex+t],l(e.axis));(0,u.translate)(e.draggerGfx,r.x,r.y)}this.start=function(e,t,r){var i,a,u,s=n.getGraphics(t),c=r-1,l=r,p=t.waypoints,h=p[c],y=p[l];(a=(0,o.pointsAligned)(h,y))&&(u="v"===a?"y":"x",0===c&&(h=d(h,t.source,u)),l===p.length-1&&(y=d(y,t.target,u)),i={connection:t,segmentStartIndex:c,segmentEndIndex:l,segmentStart:h,segmentEnd:y,axis:u},f.init(e,{x:(h.x+y.x)/2,y:(h.y+y.y)/2},"connectionSegment.move",{cursor:"x"===u?"resize-ew":"resize-ns",data:{connection:t,connectionGfx:s,context:i}}))},t.on("connectionSegment.move.start",(function(e){var t=e.context,o=e.connection,i=n.getLayer("overlays");t.originalWaypoints=o.waypoints.slice(),t.draggerGfx=(0,r.addSegmentDragger)(i,t.segmentStart,t.segmentEnd),(0,a.classes)(t.draggerGfx).add("djs-dragging"),n.addMarker(o,"djs-updating")})),t.on("connectionSegment.move.move",(function(e){var t,n,o=e.context,r=o.connection,a=o.segmentStartIndex,u=o.segmentEndIndex,c=o.segmentStart,l=o.segmentEnd,d=o.axis,f=o.originalWaypoints.slice(),p=s(c,d,e["d"+d]),h=s(l,d,e["d"+d]),y=f.length,v=0;f[a]=p,f[u]=h,a<2&&(t=(0,i.getOrientation)(r.source,p),1===a?"intersect"===t&&(f.shift(),f[0]=p,v--):"intersect"!==t&&(f.unshift(c),v++)),u>y-3&&(n=(0,i.getOrientation)(r.target,h),u===y-2?"intersect"===n&&(f.pop(),f[f.length-1]=h):"intersect"!==n&&f.push(l)),o.newWaypoints=r.waypoints=m(r,f),b(o,v,e),o.newSegmentStartIndex=a+v,g(e)})),t.on("connectionSegment.move.hover",(function(e){e.context.hover=e.hover,n.addMarker(e.hover,"connect-hover")})),t.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],(function(e){var t=e.context.hover;t&&n.removeMarker(t,"connect-hover")})),t.on("connectionSegment.move.cleanup",(function(e){var t=e.context,o=t.connection;t.draggerGfx&&(0,a.remove)(t.draggerGfx),n.removeMarker(o,"djs-updating")})),t.on(["connectionSegment.move.cancel","connectionSegment.move.end"],(function(e){var t=e.context;t.connection.waypoints=t.originalWaypoints,g(e)})),t.on("connectionSegment.move.end",(function(e){var t=e.context,n=t.connection,r=t.newWaypoints,i=t.newSegmentStartIndex,a=function(e,t){var n=0;return{waypoints:e.filter((function(r,i){return!(0,o.pointsOnLine)(e[i-1],e[i+1],r)||(n=i<=t?n-1:n,!1)})),segmentOffset:n}}(r=r.map((function(e){return{original:e.original,x:Math.round(e.x),y:Math.round(e.y)}})),i),u=m(n,a.waypoints),s=a.segmentOffset,c={segmentMove:{segmentStartIndex:t.segmentStartIndex,newSegmentStartIndex:i+s}};y.updateWaypoints(n,u,c)}))}f.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","rules","modeling"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(0),r=Math.abs,i=Math.round;function a(e){function t(e,t){if((0,o.isArray)(e)){for(var n=e.length;n--;)if(r(e[n]-t)<=10)return e[n]}else{var i=t%(e=+e);if(i<10)return t-i;if(i>e-10)return t-i+e}return t}function n(e){if(e.width)return{x:i(e.width/2+e.x),y:i(e.height/2+e.y)}}e.on("connectionSegment.move.move",1500,(function(e){var r,i,a=function(e){var t=e.snapPoints,r=e.connection,i=r.waypoints,a=e.segmentStart,u=e.segmentStartIndex,s=e.segmentEnd,c=e.segmentEndIndex,l=e.axis;if(t)return t;var d=[i[u-1],a,s,i[c+1]];return u<2&&d.unshift(n(r.source)),c>i.length-3&&d.unshift(n(r.target)),e.snapPoints=t={horizontal:[],vertical:[]},(0,o.forEach)(d,(function(e){e&&(e=e.original||e,"y"===l&&t.horizontal.push(e.y),"x"===l&&t.vertical.push(e.x))})),t}(e.context),u=e.x,s=e.y;if(a){var c=u-(r=t(a.vertical,u)),l=s-(i=t(a.horizontal,s));(0,o.assign)(e,{dx:e.dx-c,dy:e.dy-l,x:r,y:i})}})),e.on("bendpoint.move.move",1500,(function(e){var r=e.context,i=function(e){var t=e.snapPoints,n=e.connection.waypoints,r=e.bendpointIndex;if(t)return t;var i=[n[r-1],n[r+1]];return e.snapPoints=t={horizontal:[],vertical:[]},(0,o.forEach)(i,(function(e){e&&(e=e.original||e,t.horizontal.push(e.y),t.vertical.push(e.x))})),t}(r),a=r.target,u=a&&n(a),s=e.x,c=e.y;if(i){var l=s-t(u?i.vertical.concat([u.x]):i.vertical,s),d=c-t(u?i.horizontal.concat([u.y]):i.horizontal,c);(0,o.assign)(e,{dx:e.dx-l,dy:e.dy-d,x:e.x-l,y:e.y-d})}}))}a.$inject=["eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(244),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["diGenerator"],diGenerator:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(0),r=n(86),i=n(3);function a(e,t,n){e.on("import.start",(function(e){var a=e.definitions;(0,r.containsDi)(a)||function(e){var r=0;(0,o.forEach)(e.drgElements,(function(e){var o,a,u;(0,i.is)(e,"dmn:Decision")&&((a=e.extensionElements)||((a=e.extensionElements=t.createDi()).$parent=e),u=n._getDefaultSize(e),o=t.createDiBounds({x:150+30*r,y:150+30*r,width:u.width,height:u.height}),a.get("values").push(o),o.$parent=a,r++)}))}(a)}))}a.$inject=["eventBus","drdFactory","elementFactory"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(246)),r=a(n(88)),i=a(n(256));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default],editorActions:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(11)),r=u(n(247)),i=u(n(80)),a=u(n(87));function u(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default,i.default],__init__:["editorActions"],editorActions:["type",a.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(52)),r=u(n(24)),i=u(n(249)),a=u(n(251));function u(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default,i.default],__init__:["copyPaste"],copyPaste:["type",a.default]}},function(e,t,n){"use strict";function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,o.prototype.get=function(){return this._data},o.prototype.set=function(e){this._data=e},o.prototype.clear=function(){var e=this._data;return delete this._data,e},o.prototype.isEmpty=function(){return!this._data}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(250),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["mouseTracking"],mouseTracking:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(e,t){this._eventBus=e,this._canvas=t,this._init()}r.$inject=["eventBus","canvas"],r.prototype.getHoverContext=function(){var e=this._canvas.viewbox();return{element:this._hoverElement,point:{x:e.x+Math.round(this._mouseX/e.scale),y:e.y+Math.round(this._mouseY/e.scale)}}},r.prototype._init=function(){var e=this._eventBus,t=this._canvas.getContainer();this._setMousePosition=(0,o.bind)(this._setMousePosition,this),t.addEventListener("mousemove",this._setMousePosition),e.on("diagram.destroy",(function(){t.removeEventListener("mousemove",this._setMousePosition)}),this),e.on("element.hover",this._setHoverElement,this)},r.prototype._setHoverElement=function(e){this._hoverElement=e.element},r.prototype._setMousePosition=function(e){this._mouseX=e.layerX,this._mouseY=e.layerY}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var o=n(0),r=n(14),i=n(30),a=n(252);function u(e,t,n,r,i,a){this._eventBus=e,this._modeling=t,this._elementFactory=n,this._rules=r,this._canvas=a,this._clipboard=i,this._descriptors=[],this.registerDescriptor((function(e,t){return t.priority=1,t.id=e.id,e.parent&&(t.parent=e.parent.id),e.labelTarget&&(t.priority=4,t.labelTarget=e.labelTarget.id),e.host&&(t.priority=2,t.host=e.host.id),"number"==typeof e.x&&(t.x=e.x,t.y=e.y),e.width&&(t.width=e.width,t.height=e.height),e.waypoints&&(t.priority=3,t.waypoints=[],(0,o.forEach)(e.waypoints,(function(e){var n={x:e.x,y:e.y};e.original&&(n.original={x:e.original.x,y:e.original.y}),t.waypoints.push(n)}))),e.source&&e.target&&(t.source=e.source.id,t.target=e.target.id),t}))}u.$inject=["eventBus","modeling","elementFactory","rules","clipboard","canvas"],u.prototype.copy=function(e){var t,n,a=this._clipboard;if((0,o.isArray)(e)||(e=e?[e]:[]),e.length)return t=this.createTree(e),n=this._bbox=(0,i.center)((0,r.getBBox)(t.allShapes)),delete t.allShapes,(0,o.forEach)(t,(function(e){(0,o.forEach)(e,(function(t){var r,a;t.labelTarget?(a=(0,o.find)(e,(0,o.matchPattern)({id:t.labelTarget})),r=a.waypoints?(0,i.delta)(t,a.waypoints[0]):(0,i.delta)(t,a)):3===t.priority?(r=[],(0,o.forEach)(t.waypoints,(function(e){var t=(0,i.delta)(e,n);r.push(t)}))):r=(0,i.delta)(t,n),t.delta=r}))})),this._eventBus.fire("elements.copy",{context:{tree:t}}),0===Object.keys(t).length?a.clear():a.set(t),this._eventBus.fire("elements.copied",{context:{tree:t}}),t},u.prototype.paste=function(e){var t,n=this._clipboard,r=this._modeling,i=this._eventBus,a=this._rules,u=n.get(),s=e.element,c=e.point;n.isEmpty()||(t=(0,o.reduce)(u,(function(e,t,n){var o=parseInt(n,10);return isNaN(o)||(e[o]=t),e}),{}),a.allowed("elements.paste",{tree:t,target:s})?r.pasteElements(t,s,c):i.fire("elements.paste.rejected",{context:{tree:t,position:c,target:s}}))},u.prototype._computeDelta=function(e,t){var n=this._bbox,r={};return t.labelTarget?(0,i.delta)(t,t.labelTarget):(3===t.priority?(r=[],(0,o.forEach)(t.waypoints,(function(e){var t=(0,i.delta)(e,n);r.push(t)}))):r=(0,i.delta)(t,n),r)},u.prototype.hasRelations=function(e,t){var n,r;return!(t.waypoints&&(n=(0,o.find)(e,(0,o.matchPattern)({id:t.source.id})),r=(0,o.find)(e,(0,o.matchPattern)({id:t.target.id})),!n||!r))&&!(t.labelTarget&&!(0,o.find)(e,(0,o.matchPattern)({id:t.labelTarget.id})))},u.prototype.registerDescriptor=function(e){if("function"!=typeof e)throw new Error("the descriptor must be a function");if(-1!==this._descriptors.indexOf(e))throw new Error("this descriptor is already registered");this._descriptors.push(e)},u.prototype._executeDescriptors=function(e){return e.descriptor||(e.descriptor={}),(0,o.forEach)(this._descriptors,(function(t){e.descriptor=t(e.element,e.descriptor)})),e},u.prototype.createTree=function(e){var t,n=this._rules,i=this,u={},s=[],c=(0,a.getTopLevel)(e);function l(e){var t=(0,o.findIndex)(s,(0,o.matchPattern)({element:e.element}));if(-1===t)return s.push(e);s[t].depth<e.depth&&(s.splice(t,1),s.push(e))}return u.allShapes=[],(0,r.eachElement)(c,(function(e,t,n){var r,i=e.children;if(!e.labelTarget)return(0,o.forEach)(e.labels,(function(e){l({element:e,depth:n})})),r=[e.attachers,e.incoming,e.outgoing],(0,o.forEach)(r,(function(e){e&&e.length&&(0,o.forEach)(e,(function(e){(0,o.forEach)(e.labels,(function(e){l({element:e,depth:n})})),l({element:e,depth:n})}))})),l({element:e,depth:n}),i||void 0})),s=(0,o.map)(s,(function(e){return i._executeDescriptors(e)})),s=(0,o.sortBy)(s,(function(e){return e.descriptor.priority})),t=(0,o.map)(s,(function(e){return e.element})),(0,o.forEach)(s,(function(e){var o,r,a=e.depth;i.hasRelations(u.allShapes,e.element)&&(o=t,r=e.element,n.allowed("element.copy",{collection:o,element:r})&&(u.allShapes.push(e.element),u[a]||(u[a]=[]),u[a].push(e.descriptor)))})),u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTopLevel=function(e){var t={},n=[],r=[],i=[];return(0,o.forEach)(e,(function(e){var o=e.parent;t[o.id]||(t[o.id]=[]),-1===n.indexOf(o.id)&&n.push(o.id),t[o.id].push(e)})),(0,o.forEach)(n,(function(e){(0,o.forEach)(t[e],(function(e){t[e.id]&&i.push(e.id)}))})),(0,o.forEach)(n,(function(e){-1===i.indexOf(e)&&(r=r.concat(t[e]))})),r};var o=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(31)),r=i(n(254));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default],__init__:["toolManager"],toolManager:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(0),r=n(2);function i(e,t){this._eventBus=e,this._dragging=t,this._tools=[],this._active=null}i.$inject=["eventBus","dragging"],i.prototype.registerTool=function(e,t){var n=this._tools;if(!t)throw new Error('A tool has to be registered with it\'s "events"');n.push(e),this.bindEvents(e,t)},i.prototype.isActive=function(e){return e&&this._active===e},i.prototype.length=function(e){return this._tools.length},i.prototype.setActive=function(e){var t=this._eventBus;this._active!==e&&(this._active=e,t.fire("tool-manager.update",{tool:e}))},i.prototype.bindEvents=function(e,t){var n=this._eventBus,i=this._dragging,a=[];n.on(t.tool+".init",(function(t){if(!t.context.reactivate&&this.isActive(e))return this.setActive(null),void i.cancel();this.setActive(e)}),this),(0,o.forEach)(t,(function(e){a.push(e+".ended"),a.push(e+".canceled")})),n.on(a,250,(function(e){var t=e.originalEvent;this._active&&(t&&(0,r.closest)(t.target,'.group[data-group="tools"]')||this.setActive(null))}),this)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var o=n(0),r=n(14),i=n(37),a=n(5);function u(e,t,n,o,r,u){this._selection=r,this._dragging=n;var c=this,l=function(e){var n,o=t.getDefaultLayer();n=e.frame=(0,a.create)("rect"),(0,a.attr)(n,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),(0,a.append)(o,n)},d=function(e){var t=e.frame,n=e.bbox;(0,a.attr)(t,{x:n.x,y:n.y,width:n.width,height:n.height})},f=function(e){e.frame&&(0,a.remove)(e.frame)};u.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),e.on("lasso.selection.end",(function(t){var n=t.originalEvent.target;(t.hover||n instanceof SVGElement)&&e.once("lasso.selection.ended",(function(){c.activateLasso(t.originalEvent,!0)}))})),e.on("lasso.end",(function(e){var t=s(e),n=o.filter((function(e){return e}));c.select(n,t)})),e.on("lasso.start",(function(e){var t=e.context;t.bbox=s(e),l(t)})),e.on("lasso.move",(function(e){var t=e.context;t.bbox=s(e),d(t)})),e.on("lasso.cleanup",(function(e){var t=e.context;f(t)})),e.on("element.mousedown",1500,(function(e){if((0,i.hasSecondaryModifier)(e))return c.activateLasso(e.originalEvent),!0}))}function s(e){var t={x:e.x-e.dx,y:e.y-e.dy},n={x:e.x,y:e.y};return t.x<=n.x&&t.y<n.y||t.x<n.x&&t.y<=n.y?{x:t.x,y:t.y,width:n.x-t.x,height:n.y-t.y}:t.x>=n.x&&t.y<n.y||t.x>n.x&&t.y<=n.y?{x:n.x,y:t.y,width:t.x-n.x,height:n.y-t.y}:t.x<=n.x&&t.y>n.y||t.x<n.x&&t.y>=n.y?{x:t.x,y:n.y,width:n.x-t.x,height:t.y-n.y}:t.x>=n.x&&t.y>n.y||t.x>n.x&&t.y>=n.y?{x:n.x,y:n.y,width:t.x-n.x,height:t.y-n.y}:{x:n.x,y:n.y,width:0,height:0}}u.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager"],u.prototype.activateLasso=function(e,t){this._dragging.init(e,"lasso",{autoActivate:t,cursor:"crosshair",data:{context:{}}})},u.prototype.activateSelection=function(e){this._dragging.init(e,"lasso.selection",{trapClick:!1,cursor:"crosshair",data:{context:{}}})},u.prototype.select=function(e,t){var n=(0,r.getEnclosedElements)(e,t);this._selection.select((0,o.values)(n))},u.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},u.prototype.isActive=function(){var e=this._dragging.context();return e&&/^lasso/.test(e.prefix)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(6)),r=i(n(87));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,o,i,a){e.invoke(r.default,this),this.register({selectElements:function(){var e=t.getRootElement(),r=n.filter((function(t){return t!==e}));return o.select(r),r},lassoTool:function(){i.toggle()},directEditing:function(){var e=o.get();e.length&&a.activate(e[0])}})}t.default=a,(0,o.default)(a,r.default),a.$inject=["injector","canvas","elementRegistry","selection","lassoTool","directEditing"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(35)),r=l(n(258)),i=l(n(11)),a=l(n(260)),u=l(n(89)),s=l(n(263)),c=l(n(272));function l(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default,i.default,a.default,u.default,s.default],__init__:["contextPadProvider"],contextPadProvider:["type",c.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(36)),r=a(n(50)),i=a(n(259));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default],contextPad:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(0),r=n(2);function i(e,t){this._providers=[],this._eventBus=e,this._overlays=t,this._current=null,this._init()}i.$inject=["eventBus","overlays"],i.prototype._init=function(){var e=this._eventBus,t=this;e.on("selection.changed",(function(e){var n=e.newSelection;1===n.length?t.open(n[0]):t.close()})),e.on("elements.delete",(function(e){var n=e.elements;(0,o.forEach)(n,(function(e){t.isOpen(e)&&t.close()}))})),e.on("element.changed",(function(e){var n=e.element,o=t._current;o&&o.element===n&&t.open(n,!0)}))},i.prototype.registerProvider=function(e){this._providers.push(e)},i.prototype.getEntries=function(e){var t={};return(0,o.forEach)(this._providers,(function(n){var r=n.getContextPadEntries(e);(0,o.forEach)(r,(function(e,n){t[n]=e}))})),t},i.prototype.trigger=function(e,t,n){var i,a,u=this._current.element,s=this._current.entries,c=t.delegateTarget||t.target;if(!c)return t.preventDefault();if(i=s[(0,r.attr)(c,"data-action")].action,a=t.originalEvent||t,(0,o.isFunction)(i)){if("click"===e)return i(a,u,n)}else if(i[e])return i[e](a,u,n);t.preventDefault()},i.prototype.open=function(e,t){!t&&this.isOpen(e)||(this.close(),this._updateAndOpen(e))},i.prototype._updateAndOpen=function(e){var t=this.getEntries(e),n=this.getPad(e),i=n.html;(0,o.forEach)(t,(function(e,t){var n,a=e.group||"default",u=(0,r.domify)(e.html||'<div class="entry" draggable="true"></div>');(0,r.attr)(u,"data-action",t),(n=(0,r.query)("[data-group="+a+"]",i))||(n=(0,r.domify)('<div class="group" data-group="'+a+'"></div>'),i.appendChild(n)),n.appendChild(u),e.className&&function(e,t){var n=(0,r.classes)(e);((0,o.isArray)(t)?t:t.split(/\s+/g)).forEach((function(e){n.add(e)}))}(u,e.className),e.title&&(0,r.attr)(u,"title",e.title),e.imageUrl&&u.appendChild((0,r.domify)('<img src="'+e.imageUrl+'">'))})),(0,r.classes)(i).add("open"),this._current={element:e,pad:n,entries:t},this._eventBus.fire("contextPad.open",{current:this._current})},i.prototype.getPad=function(e){if(this.isOpen())return this._current.pad;var t=this,n=this._overlays,o=(0,r.domify)('<div class="djs-context-pad"></div>');r.delegate.bind(o,".entry","click",(function(e){t.trigger("click",e)})),r.delegate.bind(o,".entry","dragstart",(function(e){t.trigger("dragstart",e)})),r.event.bind(o,"mousedown",(function(e){e.stopPropagation()})),this._overlayId=n.add(e,"context-pad",{position:{right:-9,top:-6},html:o});var i=n.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:e,pad:i}),i},i.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},i.prototype.isOpen=function(e){return!(!this._current||e&&this._current.element!==e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(11)),r=u(n(24)),i=u(n(31)),a=u(n(261));function u(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default,i.default],connect:["type",a.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=a;var r=n(19),i=n(5);function a(e,t,n,a,u,s){function c(e,t){return a.allowed("connection.create",{source:e,target:t})}e.on("connect.move",(function(e){var t,n=e.context,o=n.source,a=n.target,u=n.visual;t=function(e,t,n,o){var i=s.getShapePath(n),a=o&&s.getShapePath(o),u=s.getConnectionPath({waypoints:[e,t]});return[e=(0,r.getElementLineIntersection)(i,u,!0)||e,t=o&&(0,r.getElementLineIntersection)(a,u,!1)||t]}(n.sourcePosition,{x:e.x,y:e.y},o,a),(0,i.attr)(u,{points:[t[0].x,t[0].y,t[1].x,t[1].y]})})),e.on("connect.hover",(function(e){var t,n=e.context,o=n.source,r=e.hover;null!==(t=n.canExecute=c(o,r))&&(n.target=r,u.addMarker(r,t?"connect-ok":"connect-not-ok"))})),e.on(["connect.out","connect.cleanup"],(function(e){var t=e.context;t.target&&u.removeMarker(t.target,t.canExecute?"connect-ok":"connect-not-ok"),t.target=null,t.canExecute=!1})),e.on("connect.cleanup",(function(e){var t=e.context;t.visual&&(0,i.remove)(t.visual)})),e.on("connect.start",(function(e){var t,n=e.context;t=(0,i.create)("polyline"),(0,i.attr)(t,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),(0,i.append)(u.getDefaultLayer(),t),n.visual=t})),e.on("connect.end",(function(e){var t=e.context,r=t.source,i=t.sourcePosition,a=t.target,u={x:e.x,y:e.y},s=t.canExecute||c(r,a);if(!s)return!1;var l=null,d={connectionStart:i,connectionEnd:u};"object"===(void 0===s?"undefined":o(s))&&(l=s),n.connect(r,a,l,d)})),this.start=function(e,n,i,a){"object"!==(void 0===i?"undefined":o(i))&&(a=i,i=(0,r.getMid)(n)),t.init(e,"connect",{autoActivate:a,data:{shape:n,context:{source:n,sourcePosition:i}}})}}a.$inject=["eventBus","dragging","modeling","rules","canvas","graphicsFactory"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var o=n(5),r=n(17),i="drop-ok",a="drop-not-ok",u="attach-ok",s="new-parent";function c(e,t,n,c,l,d,f){function p(e,t){[u,i,a,s].forEach((function(n){n===t?l.addMarker(e,n):l.removeMarker(e,n)}))}e.on("create.move",(function(e){var t,o=e.context,r=e.hover,i=o.shape,c=o.source,l={x:e.x,y:e.y};t=o.canExecute=r&&function(e,t,o,r){if(!t)return!1;var i,a,u,s={source:o,shape:e,target:t,position:r};return(a=n.allowed("shape.attach",s))||(i=n.allowed("shape.create",s)),(i||a)&&(u=o&&n.allowed("connection.create",{source:o,target:e,hints:{targetParent:t,targetAttach:a}})),!(!i&&!a)&&{attach:a,connect:u}}(i,r,c,l),r&&null!==t&&(o.target=r,t&&t.attach?p(r,u):p(r,t?s:a))})),e.on("create.move",750,(function(e){var t=e.context,n=t.shape,i=t.visual;i||(i=t.visual=function(e){var t,n,i;t=(0,o.create)("g"),(0,o.attr)(t,d.cls("djs-drag-group",["no-events"])),(0,o.append)(l.getDefaultLayer(),t),n=(0,o.create)("g"),(0,o.classes)(n).add("djs-dragger"),(0,o.append)(t,n),(0,r.translate)(n,e.width/-2,e.height/-2);var a=(0,o.create)("g");return(0,o.classes)(a).add("djs-visual"),(0,o.append)(n,a),i=a,f.drawShape(i,e),t}(n)),(0,r.translate)(i,e.x,e.y)})),e.on(["create.end","create.out","create.cleanup"],(function(e){var t=e.context.target;t&&p(t,null)})),e.on("create.end",(function(e){var t=e.context,n=t.source,o=t.shape,r=t.target,i=t.canExecute,a=i&&i.attach,u=i&&i.connect,s={x:e.x,y:e.y};if(!i)return!1;o=u?c.appendShape(n,o,s,r,{attach:a,connection:!0===u?{}:u}):c.createShape(o,s,r,{attach:a}),t.shape=o})),e.on("create.cleanup",(function(e){var t=e.context;t.visual&&(0,o.remove)(t.visual)})),this.start=function(e,n,o){t.init(e,"create",{cursor:"grabbing",autoActivate:!0,data:{shape:n,context:{shape:n,source:o}}})}}c.$inject=["eventBus","dragging","rules","modeling","canvas","styles","graphicsFactory"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(35)),r=u(n(264)),i=u(n(266)),a=u(n(270));function u(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default,i.default],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",a.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(265),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["popupMenu"],popupMenu:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(0),r=n(2);function i(e,t){this._eventBus=e,this._canvas=t,this._providers={},this._current={}}i.$inject=["eventBus","canvas"],i.prototype.registerProvider=function(e,t){this._providers[e]=t},i.prototype.isEmpty=function(e,t){if(!e)throw new Error("element parameter is missing");if(!t)throw new Error("providerId parameter is missing");var n=this._providers[t],o=n.getEntries(e),r=n.getHeaderEntries&&n.getHeaderEntries(e),i=o.length>0,a=r&&r.length>0;return!i&&!a},i.prototype.open=function(e,t,n){var o=this._providers[t];if(!e)throw new Error("Element is missing");if(!o)throw new Error("Provider is not registered: "+t);if(!n)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var r=this._current={provider:o,className:t,element:e,position:n};o.getHeaderEntries&&(r.headerEntries=o.getHeaderEntries(e)),r.entries=o.getEntries(e),r.container=this._createContainer();var i=r.headerEntries||[],a=r.entries||[];i.length&&r.container.appendChild(this._createEntries(r.headerEntries,"djs-popup-header")),a.length&&r.container.appendChild(this._createEntries(r.entries,"djs-popup-body"));var u=this._canvas.getContainer();this._attachContainer(r.container,u,n.cursor)},i.prototype.close=function(){this.isOpen()&&(this._emit("close"),this._unbindHandlers(),(0,r.remove)(this._current.container),this._current.container=null)},i.prototype.isOpen=function(){return!!this._current.container},i.prototype.trigger=function(e){e.preventDefault();var t=e.delegateTarget||e.target,n=(0,r.attr)(t,"data-id"),o=this._getEntry(n);if(o.action)return o.action.call(null,e,o)},i.prototype._getEntry=function(e){var t=(0,o.matchPattern)({id:e}),n=(0,o.find)(this._current.entries,t)||(0,o.find)(this._current.headerEntries,t);if(!n)throw new Error("entry not found");return n},i.prototype._emit=function(e){this._eventBus.fire("popupMenu."+e)},i.prototype._createContainer=function(){var e=(0,r.domify)('<div class="djs-popup">'),t=this._current.position,n=this._current.className;return(0,o.assign)(e.style,{position:"absolute",left:t.x+"px",top:t.y+"px",visibility:"hidden"}),(0,r.classes)(e).add(n),e},i.prototype._attachContainer=function(e,t,n){var o=this;r.delegate.bind(e,".entry","click",(function(e){o.trigger(e)}));var i=this._canvas.zoom();e.style.transformOrigin="top left",e.style.transform="scale("+i+")",t.appendChild(e),n&&this._assureIsInbounds(e,n),this._bindHandlers()},i.prototype._assureIsInbounds=function(e,t){var n,r,i=this._canvas._container.getBoundingClientRect(),a=e.offsetLeft,u=e.offsetTop,s=e.scrollWidth,c=e.scrollHeight,l={},d=t.x-i.left,f=t.y-i.top;a+s>i.width&&(l.x=!0),u+c>i.height&&(l.y=!0),l.x&&l.y?(n=d-s+"px",r=f-c+"px"):l.x?(n=d-s+"px",r=f+"px"):l.y&&f<c?(n=d+"px",r="10px"):l.y&&(n=d+"px",r=f-c+"px"),(0,o.assign)(e.style,{left:n,top:r},{visibility:"visible","z-index":1e3})},i.prototype._createEntries=function(e,t){var n=(0,r.domify)("<div>"),i=this;return(0,r.classes)(n).add(t),(0,o.forEach)(e,(function(e){var t=i._createEntry(e,n);n.appendChild(t)})),n},i.prototype._createEntry=function(e){if(!e.id)throw new Error("every entry must have the id property set");var t=(0,r.domify)("<div>"),n=(0,r.classes)(t);if(n.add("entry"),e.className&&e.className.split(" ").forEach((function(e){n.add(e)})),(0,r.attr)(t,"data-id",e.id),e.label){var o=(0,r.domify)("<span>");o.textContent=e.label,t.appendChild(o)}return e.imageUrl&&t.appendChild((0,r.domify)('<img src="'+e.imageUrl+'" />')),!0===e.active&&n.add("active"),!0===e.disabled&&n.add("disabled"),e.title&&(t.title=e.title),t},i.prototype._bindHandlers=function(){var e=this._eventBus,t=this;function n(){t.close()}e.once("contextPad.close",n),e.once("canvas.viewbox.changing",n),e.once("commandStack.changed",n)},i.prototype._unbindHandlers=function(){var e=this._eventBus,t=this;function n(){t.close()}e.off("contextPad.close",n),e.off("canvas.viewbox.changed",n),e.off("commandStack.changed",n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(267)),r=a(n(11)),i=a(n(269));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default],drdReplace:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(268),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["replace"],replace:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=Math.round;function r(e){this._modeling=e}r.$inject=["modeling"],r.prototype.replaceElement=function(e,t,n){var r=this._modeling,i=null;return e.waypoints||(t.x=o(e.x+(t.width||e.width)/2),t.y=o(e.y+(t.height||e.height)/2),i=r.replaceShape(e,t,n)),i}},function(e,t,n){"use strict";function o(e,t,n,o){this.replaceElement=function(n,o,r){r=r||{};var i=o.type,a=n.businessObject,u=e.create(i),s={type:i,businessObject:u};if(s.width=n.width,s.height=n.height,u.name=a.name,o.table){var c=e.create("dmn:DecisionTable");u.decisionTable=c,c.$parent=u;var l=e.create("dmn:OutputClause");l.typeRef="string",l.$parent=c,c.output=[l];var d=e.create("dmn:InputClause");d.$parent=c;var f=e.create("dmn:LiteralExpression",{typeRef:"string"});d.inputExpression=f,f.$parent=d,c.input=[d]}return o.expression&&(u.literalExpression=e.create("dmn:LiteralExpression"),u.variable=e.create("dmn:InformationItem")),t.replaceElement(n,s,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,o.$inject=["drdFactory","replace","selection","modeling"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o,r=n(3),i=n(0),a=n(271),u=(o=a)&&o.__esModule?o:{default:o};function s(e,t,n,o,r,i){this._popupMenu=e,this._modeling=t,this._moddle=n,this._drdReplace=o,this._rules=r,this._translate=i,this.register()}s.$inject=["popupMenu","modeling","moddle","drdReplace","rules","translate"],s.prototype.register=function(){this._popupMenu.registerProvider("dmn-replace",this)},s.prototype.getEntries=function(e){var t=e.businessObject;if(!this._rules.allowed("shape.replace",{element:e}))return[];if((0,r.is)(t,"dmn:Decision")){var n=(0,i.filter)(u.default.DECISION,(function(e){var n="replace-with-empty-decision"===e.actionName&&(t.decisionTable||t.literalExpression),o="replace-with-decision-table"===e.actionName&&!t.decisionTable,r="replace-with-literal-expression"===e.actionName&&!t.literalExpression;return n||o||r}));return this._createEntries(e,n)}return[]},s.prototype._createEntries=function(e,t){var n=[],o=this;return(0,i.forEach)(t,(function(t){var r=o._createMenuEntry(t,e);n.push(r)})),n},s.prototype._createMenuEntry=function(e,t,n){var o=this._drdReplace.replaceElement;return n=n||function(){return o(t,e.target)},{label:(0,this._translate)(e.label),className:e.className,id:e.actionName,action:n}},s.prototype.getHeaderEntries=function(e){return[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DECISION:[{label:"Empty",actionName:"replace-with-empty-decision",className:"dmn-icon-clear",target:{type:"dmn:Decision",table:!1,expression:!1}},{label:"Decision Table",actionName:"replace-with-decision-table",className:"dmn-icon-decision-table",target:{type:"dmn:Decision",table:!0,expression:!1}},{label:"Literal Expression",actionName:"replace-with-literal-expression",className:"dmn-icon-literal-expression",target:{type:"dmn:Decision",table:!1,expression:!0}}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(0),r=n(3),i=n(37);function a(e,t,n,o,r,a,u,s,c,l){t.registerProvider(this),this._contextPad=t,this._modeling=n,this._elementFactory=o,this._connect=r,this._create=a,this._rules=u,this._popupMenu=s,this._canvas=c,this._translate=l,e.on("create.end",250,(function(e){var n=e.context.shape;if((0,i.hasPrimaryModifier)(e)){var o=t.getEntries(n);o.replace&&o.replace.action.click(e,n)}}))}a.$inject=["eventBus","contextPad","modeling","elementFactory","connect","create","rules","popupMenu","canvas","translate"],a.prototype.getContextPadEntries=function(e){var t=this._modeling,n=this._elementFactory,i=this._connect,a=this._create,u=this._popupMenu,s=this._canvas,c=this._contextPad,l=this._rules,d=this._translate,f={};if("label"===e.type)return f;var p=e.businessObject;function h(e,t,n){i.start(e,t,n)}function y(e,t,r,i){function u(t,r){var u=n.createShape((0,o.assign)({type:e},i));a.start(t,u,r)}return"string"!=typeof r&&(i=r,r=d("Append {type}",{type:e.replace(/^dmn:/,"")})),{group:"model",className:t,title:r,action:{dragstart:u,click:u}}}(0,r.isAny)(p,["dmn:InputData","dmn:BusinessKnowledgeModel","dmn:KnowledgeSource","dmn:Decision"])&&(0,o.assign)(f,{"append.decision":y("dmn:Decision","dmn-icon-decision")}),(0,r.isAny)(p,["dmn:InputData","dmn:Decision","dmn:KnowledgeSource"])&&(0,o.assign)(f,{"append.knowledge-source":y("dmn:KnowledgeSource","dmn-icon-knowledge-source")}),(0,r.isAny)(p,["dmn:BusinessKnowledgeModel","dmn:KnowledgeSource"])&&(0,o.assign)(f,{"append.business-knowledge-model":y("dmn:BusinessKnowledgeModel","dmn-icon-business-knowledge")}),(0,r.isAny)(p,["dmn:Decision"])&&(0,o.assign)(f,{"append.input-data":y("dmn:InputData","dmn-icon-input-data")}),(0,r.is)(p,"dmn:DRGElement")&&(0,o.assign)(f,{"append.text-annotation":y("dmn:TextAnnotation","dmn-icon-text-annotation"),connect:{group:"connect",className:"dmn-icon-connection-multi",title:d("Connect using Information/Knowledge/Authority Requirement or Association"),action:{click:h,dragstart:h}}}),u.isEmpty(e,"dmn-replace")||(0,o.assign)(f,{replace:{group:"edit",className:"dmn-icon-screw-wrench",title:d("Change type"),action:{click:function(e,t){var n=(0,o.assign)(function(e){var t=s.getContainer(),n=c.getPad(e).html,o=t.getBoundingClientRect(),r=n.getBoundingClientRect(),i=r.top-o.top;return{x:r.left-o.left,y:i+r.height+5}}(t),{cursor:{x:e.x,y:e.y}});u.open(t,"dmn-replace",n)}}}});var v=l.allowed("elements.delete",{elements:[e]});return(0,o.isArray)(v)&&(v=v[0]===e),v&&(0,o.assign)(f,{delete:{group:"edit",className:"dmn-icon-trash",title:d("Remove"),action:{click:function(n){t.removeElements([e])}}}}),f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(274)),r=i(n(276));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default],__init__:["drdKeyBindings"],drdKeyBindings:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(275),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["keyboard"],keyboard:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(2);function r(e,t,n){var r=this;this._config=e||{},this._eventBus=t,this._editorActions=n,this._listeners=[],this._keyHandler=function(e){var t,n,i=e.target,a=r._listeners,u=e.keyCode||e.charCode||-1;if(!i||!(0,o.matches)(i,"input, textarea")&&"true"!==i.contentEditable)for(t=0;n=a[t];t++)n(u,e)&&(e.preventDefault(),e.stopPropagation())},t.on("diagram.destroy",(function(){r._fire("destroy"),r.unbind(),r._listeners=null})),t.on("diagram.init",(function(){r._fire("init")})),t.on("attach",(function(){e&&e.bindTo&&r.bind(e.bindTo)})),t.on("detach",(function(){r.unbind()})),this._init()}function i(e){return!e.altKey&&(e.ctrlKey||e.metaKey)}function a(e){return e.shiftKey}r.$inject=["config.keyboard","eventBus","editorActions"],r.prototype.bind=function(e){this.unbind(),this._node=e,o.event.bind(e,"keydown",this._keyHandler,!0),this._fire("bind")},r.prototype.getBinding=function(){return this._node},r.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),o.event.unbind(e,"keydown",this._keyHandler,!0)),this._node=null},r.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node,listeners:this._listeners})},r.prototype._init=function(){var e=this._listeners,t=this._editorActions,n=this._config;e.push((function(e,n){if(i(n)&&!a(n)&&90===e)return t.trigger("undo"),!0})),e.push((function(e,n){if(i(n)&&(89===e||90===e&&a(n)))return t.trigger("redo"),!0})),e.push((function(e,n){if(i(n)&&67===e)return t.trigger("copy"),!0})),e.push((function(e,n){if(i(n)&&86===e)return t.trigger("paste"),!0})),e.push((function(e,n){if(46===e)return t.trigger("removeSelection"),!0})),e.push((function(e,n){if((107===e||187===e||171===e||61===e)&&i(n))return t.trigger("stepZoom",{value:1}),!0})),e.push((function(e,n){if((109===e||189===e||173===e)&&i(n))return t.trigger("stepZoom",{value:-1}),!0})),e.push((function(e,n){if((96===e||48===e)&&i(n))return t.trigger("zoom",{value:1}),!0})),e.push((function(e,o){if([37,38,39,40].indexOf(e)>=0){var r={invertY:n.invertY,speed:n.speed||50};switch(e){case 37:r.direction="left";break;case 38:r.direction="up";break;case 39:r.direction="right";break;case 40:r.direction="down"}return t.trigger("moveCanvas",r),!0}}))},r.prototype.addListener=function(e){this._listeners.push(e)},r.prototype.hasModifier=function(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey},r.prototype.isCmd=i,r.prototype.isShift=a},function(e,t,n){"use strict";function o(e,t){e.addListener((function(n,o){return 65===n&&e.isCmd(o)?(t.trigger("selectElements"),!0):e.hasModifier(o)?void 0:76===n?(t.trigger("lassoTool"),!0):69===n?(t.trigger("directEditing"),!0):void 0}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,o.$inject=["keyboard","editorActions"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(90)),r=u(n(92)),i=u(n(279)),a=u(n(288));function u(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default,i.default],__init__:["labelEditingProvider"],labelEditingProvider:["type",a.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(14);function r(e,t,n,r){e.on("element.changed",(function(r){var i=r.element;(i.parent||i===t.getRootElement())&&(r.gfx=n.getGraphics(i)),r.gfx&&e.fire((0,o.getType)(i)+".changed",r)})),e.on("elements.changed",(function(t){var n=t.elements;n.forEach((function(t){e.fire("element.changed",{element:t})})),r.updateContainments(n)})),e.on("shape.changed",(function(e){r.update("shape",e.element,e.gfx)})),e.on("connection.changed",(function(e){r.update("connection",e.element,e.gfx)}))}r.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(280)),r=i(n(286));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default],__init__:["directEditing"],directEditing:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(281),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["interactionEvents"],interactionEvents:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var o=n(0),r=n(2),i=n(282),a=n(5),u=n(285);function s(e){return!0}function c(e,t,n){var c=n.cls("djs-hit",["no-fill","no-border"],{stroke:"white",strokeWidth:15});function l(n,o,r){var a,u;(function(e,t){return!(h[e]||i.isPrimaryButton)(t)})(n,o)||(r?u=t.getGraphics(r):(a=o.delegateTarget||o.target)&&(u=a,r=t.get(u)),u&&r&&!1===e.fire(n,{element:r,gfx:u,originalEvent:o})&&(o.stopPropagation(),o.preventDefault()))}var d={};function f(e){return d[e]}var p={mouseover:"element.hover",mouseout:"element.out",click:"element.click",dblclick:"element.dblclick",mousedown:"element.mousedown",mouseup:"element.mouseup",contextmenu:"element.contextmenu"},h={"element.contextmenu":s};function y(e,t,n,o){var i=d[n]=function(e){l(n,e)};o&&(h[n]=o),i.$delegate=r.delegate.bind(e,"svg, .djs-element",t,i)}function v(e,t,n){var o=f(n);o&&r.delegate.unbind(e,t,o.$delegate)}e.on("canvas.destroy",(function(e){var t;t=e.svg,(0,o.forEach)(p,(function(e,n){v(t,n,e)}))})),e.on("canvas.init",(function(e){var t;t=e.svg,(0,o.forEach)(p,(function(e,n){y(t,n,e)}))})),e.on(["shape.added","connection.added"],(function(e){var t,n=e.element,o=e.gfx;n.waypoints?t=(0,u.createLine)(n.waypoints):(t=(0,a.create)("rect"),(0,a.attr)(t,{x:0,y:0,width:n.width,height:n.height})),(0,a.attr)(t,c),(0,a.append)(o,t)})),e.on("shape.changed",500,(function(e){var t=e.element,n=e.gfx,o=(0,r.query)(".djs-hit",n);(0,a.attr)(o,{width:t.width,height:t.height})})),e.on("connection.changed",(function(e){var t=e.element,n=e.gfx,o=(0,r.query)(".djs-hit",n);(0,u.updateLine)(o,t.waypoints)})),this.fire=l,this.triggerMouseEvent=function(e,t,n){var o=p[e];if(!o)throw new Error("unmapped DOM event name <"+e+">");return l(o,t,n)},this.mouseHandler=f,this.registerEvent=y,this.unregisterEvent=v}c.$inject=["eventBus","elementRegistry","styles"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMac=void 0;var o=n(283);Object.defineProperty(t,"isMac",{enumerable:!0,get:function(){return o.isMac}}),t.isPrimaryButton=i,t.hasPrimaryModifier=function(e){var t=(0,r.getOriginal)(e)||e;if(!i(e))return!1;return(0,o.isMac)()?t.metaKey:t.ctrlKey},t.hasSecondaryModifier=function(e){var t=(0,r.getOriginal)(e)||e;return i(e)&&t.shiftKey};var r=n(284);function i(e){return!((0,r.getOriginal)(e)||e).button}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMac=function(){return/mac/i.test(navigator.platform)}},function(e,t,n){"use strict";function o(e){e&&"function"==typeof e.stopPropagation&&e.stopPropagation()}function r(e){return e.originalEvent||e.srcEvent}Object.defineProperty(t,"__esModule",{value:!0}),t.getOriginal=r,t.stopPropagation=function(e,t){o(e),o(r(e))},t.toPoint=function(e){e.pointers&&e.pointers.length&&(e=e.pointers[0]);e.touches&&e.touches.length&&(e=e.touches[0]);return e?{x:e.clientX,y:e.clientY}:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.componentsToPath=function(e){return e.join(",").replace(/,?([A-z]),?/g,"$1")},t.toSVGPoints=r,t.createLine=function(e,t){var n=(0,o.create)("polyline");(0,o.attr)(n,{points:r(e)}),t&&(0,o.attr)(n,t);return n},t.updateLine=function(e,t){return(0,o.attr)(e,{points:r(t)}),e};var o=n(5);function r(e){for(var t,n="",o=0;t=e[o];o++)n+=t.x+","+t.y+" ";return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var o,r=n(0),i=n(287),a=(o=i)&&o.__esModule?o:{default:o};function u(e,t){this._eventBus=e,this._providers=[],this._textbox=new a.default({container:t.getContainer(),keyHandler:(0,r.bind)(this._handleKey,this),resizeHandler:(0,r.bind)(this._handleResize,this)})}u.$inject=["eventBus","canvas"],u.prototype.registerProvider=function(e){this._providers.push(e)},u.prototype.isActive=function(){return!!this._active},u.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},u.prototype._fire=function(e,t){this._eventBus.fire("directEditing."+e,t||{active:this._active})},u.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},u.prototype.complete=function(){var e=this._active;if(e){var t,n=e.context.bounds,o=this.$textbox.getBoundingClientRect(),r=this.getValue();r===e.context.text&&o.height===n.height&&o.width===n.width||(t=this._textbox.container.getBoundingClientRect(),e.provider.update(e.element,r,e.context.text,{x:o.left-t.left,y:o.top-t.top,width:o.width,height:o.height})),this._fire("complete"),this.close()}},u.prototype.getValue=function(){return this._textbox.getValue()},u.prototype._handleKey=function(e){e.stopPropagation();var t=e.keyCode||e.charCode;return 27===t?(e.preventDefault(),this.cancel()):13!==t||e.shiftKey?void 0:(e.preventDefault(),this.complete())},u.prototype._handleResize=function(e){this._fire("resize",e)},u.prototype.activate=function(e){var t;this.isActive()&&this.cancel();var n=(0,r.find)(this._providers,(function(n){return(t=n.activate(e))?n:null}));return t&&(this.$textbox=this._textbox.create(t.bounds,t.style,t.text,t.options),this._active={element:e,context:t,provider:n},t.options&&t.options.resizable&&(this.resizable=!0),this._fire("activate")),!!t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var o=n(0),r=n(2),i=Math.min,a=Math.max;function u(e){e.preventDefault()}function s(e){e.stopPropagation()}function c(e){this.container=e.container,this.parent=(0,r.domify)('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=(0,r.query)("[contenteditable]",this.parent),this.keyHandler=e.keyHandler||function(){},this.resizeHandler=e.resizeHandler||function(){},this.autoResize=(0,o.bind)(this.autoResize,this),this.handlePaste=(0,o.bind)(this.handlePaste,this)}c.prototype.create=function(e,t,n,i){var a=this.parent,u=this.content,c=this.container;i=this.options=i||{},t=this.style=t||{};var l=(0,o.pick)(t,["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);(0,o.assign)(a.style,{width:e.width+"px",height:e.height+"px",maxWidth:e.maxWidth+"px",maxHeight:e.maxHeight+"px",minWidth:e.minWidth+"px",minHeight:e.minHeight+"px",left:e.x+"px",top:e.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},l);var d=(0,o.pick)(t,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return(0,o.assign)(u.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},d),i.centerVertically&&(0,o.assign)(u.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},d),u.innerText=n,r.event.bind(u,"keydown",this.keyHandler),r.event.bind(u,"mousedown",s),r.event.bind(u,"paste",this.handlePaste),i.autoResize&&r.event.bind(u,"input",this.autoResize),i.resizable&&this.resizable(t),c.appendChild(a),this.setSelection(u.lastChild,u.lastChild&&u.lastChild.length),a},c.prototype.handlePaste=function(e){var t,n=this.options,o=this.style;if(e.preventDefault(),t=e.clipboardData?e.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(t),n.autoResize){var r=this.autoResize(o);r&&this.resizeHandler(r)}},c.prototype.insertText=function(e){document.execCommand("insertText",!1,e)||this._insertTextIE(e)},c.prototype._insertTextIE=function(e){var t,n,o,i=this.getSelection(),a=i.startContainer,u=i.endContainer,s=i.startOffset,c=i.endOffset,l=i.commonAncestorContainer,d=(t=l.childNodes,[].slice.call(t));if(l.nodeType===Node.TEXT_NODE){var f=a.textContent;a.textContent=f.substring(0,s)+e+f.substring(c),n=a,o=s+e.length}else if(a===this.content&&u===this.content){var p=document.createTextNode(e);this.content.insertBefore(p,d[s]),n=p,o=p.textContent.length}else{var h=d.indexOf(a),y=d.indexOf(u);d.forEach((function(t,n){n===h?t.textContent=a.textContent.substring(0,s)+e+u.textContent.substring(c):n>h&&n<=y&&(0,r.remove)(t)})),n=a,o=s+e.length}n&&void 0!==o&&setTimeout((function(){self.setSelection(n,o)}))},c.prototype.autoResize=function(){var e=this.parent,t=this.content,n=parseInt(this.style.fontSize)||12;if(t.scrollHeight>e.offsetHeight||t.scrollHeight<e.offsetHeight-n){var o=e.getBoundingClientRect(),r=t.scrollHeight;e.style.height=r+"px",this.resizeHandler({width:o.width,height:o.height,dx:0,dy:r-o.height})}},c.prototype.resizable=function(){var e=this,t=this.parent,n=this.resizeHandle,c=parseInt(this.style.minWidth)||0,l=parseInt(this.style.minHeight)||0,d=parseInt(this.style.maxWidth)||1/0,f=parseInt(this.style.maxHeight)||1/0;if(!n){var p,h,y,v;n=this.resizeHandle=(0,r.domify)('<div class="djs-direct-editing-resize-handle"></div>');var m=function(n){u(n),s(n);var o=i(a(y+n.clientX-p,c),d),r=i(a(v+n.clientY-h,l),f);t.style.width=o+"px",t.style.height=r+"px",e.resizeHandler({width:y,height:v,dx:n.clientX-p,dy:n.clientY-h})},g=function e(t){u(t),s(t),r.event.unbind(document,"mousemove",m,!1),r.event.unbind(document,"mouseup",e,!1)};r.event.bind(n,"mousedown",(function(e){u(e),s(e),p=e.clientX,h=e.clientY;var n=t.getBoundingClientRect();y=n.width,v=n.height,r.event.bind(document,"mousemove",m),r.event.bind(document,"mouseup",g)}))}(0,o.assign)(n.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),t.appendChild(n)},c.prototype.destroy=function(){var e=this.parent,t=this.content,n=this.resizeHandle;t.innerText="",e.removeAttribute("style"),t.removeAttribute("style"),r.event.unbind(t,"keydown",this.keyHandler),r.event.unbind(t,"mousedown",s),r.event.unbind(t,"input",this.autoResize),r.event.unbind(t,"paste",this.handlePaste),n&&(n.removeAttribute("style"),(0,r.remove)(n)),(0,r.remove)(e)},c.prototype.getValue=function(){return this.content.innerText.trim()},c.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},c.prototype.setSelection=function(e,t){var n=document.createRange();null===e?n.selectNodeContents(this.content):(n.setStart(e,t),n.setEnd(e,t));var o=window.getSelection();o.removeAllRanges(),o.addRange(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o,r=n(289),i=(o=r)&&o.__esModule?o:{default:o},a=n(93),u=n(3);function s(e,t,n,o){this._canvas=t,this._commandStack=o,n.registerProvider(this),o.registerHandler("element.updateLabel",i.default),e.on("element.dblclick",(function(e){n.activate(e.element)})),e.on(["element.mousedown","drag.init","canvas.viewbox.changed"],(function(e){n.complete()})),e.on(["commandStack.changed"],(function(){n.cancel()})),e.on("create.end",500,(function(e){var t=e.shape;((0,u.is)(t,"dmn:Decision")||(0,u.is)(t,"dmn:InputData")||(0,u.is)(t,"dmn:BusinessKnowledgeModel")||(0,u.is)(t,"dmn:KnowledgeSource"))&&n.activate(t)}))}s.$inject=["eventBus","canvas","directEditing","commandStack"],s.prototype.activate=function(e){var t=(0,a.getLabel)(e);if(void 0!==t){var n=this.getEditingBBox(e);return n.text=t,n}},s.prototype.getEditingBBox=function(e){var t,n=this._canvas,o=e.label||e,r=n.getAbsoluteBBox(o),i={x:r.x,y:r.y},a={};return(t=n.zoom())>1?(i.width=r.width,i.height=r.height):(i.width=r.width/t,i.height=r.height/t),t<1&&(i.x=r.x-(i.width/2-r.width/2),i.y=r.y-(i.height/2-r.height/2)),(0,u.is)(e,"dmn:TextAnnotation")&&(i.minWidth=100,i.height=e.height,a.textAlign="left"),{bounds:i,style:a}},s.prototype.update=function(e,t){this._commandStack.execute("element.updateLabel",{element:e,newLabel:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t){var n=e.label||e,r=e.labelTarget||e;return(0,o.setLabel)(n,t,r!==n),[n,r]}this.execute=function(t){return t.oldLabel=(0,o.getLabel)(t.element),e(t.element,t.newLabel)},this.revert=function(t){return e(t.element,t.oldLabel)}};var o=n(93)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=y(n(291)),r=y(n(295)),i=y(n(78)),a=y(n(90)),u=y(n(11)),s=y(n(92)),c=y(n(297)),l=y(n(298)),d=y(n(299)),f=y(n(300)),p=y(n(328)),h=y(n(330));function y(e){return e&&e.__esModule?e:{default:e}}t.default={__init__:["modeling","drdUpdater"],__depends__:[o.default,r.default,i.default,a.default,u.default,s.default],drdFactory:["type",c.default],drdUpdater:["type",l.default],elementFactory:["type",d.default],modeling:["type",f.default],layouter:["type",p.default],connectionDocking:["type",h.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(292)),r=a(n(293)),i=a(n(294));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__init__:["createConnectionBehavior","replaceConnectionBehavior","replaceElementBehavior"],createConnectionBehavior:["type",o.default],replaceConnectionBehavior:["type",r.default],replaceElementBehavior:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o=u(n(6)),r=u(n(9)),i=n(19),a=n(3);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){r.default.call(this,e),this.preExecute("connection.create",(function(e){var n,o,r,u,s,c=e.connection,l=c.businessObject,d=e.source,f=e.target;"dmn:Association"===c.type?(n=t.create("dmn:DMNElementReference",{href:"#"+d.id}),o=t.create("dmn:DMNElementReference",{href:"#"+f.id}),l.sourceRef=n,l.targetRef=o,l.extensionElements=t.createDi(),s=t.createDiEdge(d,[(0,i.getMid)(d),(0,i.getMid)(f)]),l.extensionElements.values.push(s)):((0,a.is)(d,"dmn:Decision")&&(0,a.is)(f,"dmn:InputData")&&(e.target=d,e.source=d=f),r=function(e){switch(e.type){case"dmn:InputData":return"Input";case"dmn:Decision":return"Decision";case"dmn:KnowledgeSource":return"Authority";case"dmn:BusinessKnowledgeModel":return"Knowledge"}}(d),u=t.create("dmn:DMNElementReference",{href:"#"+d.id}),l["required"+r]=u,s=t.createDiEdge(d,[(0,i.getMid)(d),(0,i.getMid)(e.target)]),e.di=s)}),!0)}s.$inject=["eventBus","drdFactory","drdRules"],(0,o.default)(s,r.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var o=a(n(6)),r=n(0),i=a(n(9));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){i.default.call(this,e),this.postExecuted("connection.reconnectStart",(function(e){var t=e.context.connection.target.businessObject.extensionElements.values,n=(0,r.filter)(t,(function(t){return"biodi:Edge"===t.$type&&t.source===e.context.oldSource.id}))[0];n&&t.splice(t.indexOf(n),1)})),this.postExecuted(["connection.reconnectStart","connection.reconnectEnd"],(function(e){!function(e){var o,r=e.source,i=e.target;e.parent&&((o=n.canConnect(r,i)||{type:"dmn:Association"}).waypoints=e.waypoints.slice(),t.removeConnection(e),t.connect(r,i,o))}(e.context.connection)}))}(0,o.default)(u,i.default),u.$inject=["eventBus","modeling","drdRules"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var o=a(n(6)),r=n(0),i=a(n(9));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){i.default.call(this,e),this._modeling=t,this.postExecuted(["shape.replace"],1500,(function(e){var n=e.context,o=n.oldShape,i=n.newShape,a=i.id;t.unclaimId(o.businessObject.id,o.businessObject),t.updateProperties(i,{id:o.id}),(0,r.forEach)(i.outgoing,(function(e){var t,n,i=e.businessObject;i.$instanceOf("dmn:Association")?(i.sourceRef.href="#"+o.id,t=i.extensionElements):(i.requiredDecision.href="#"+o.id,t=i.$parent.extensionElements),(n=(0,r.filter)(t.values,(function(e){return"biodi:Edge"===e.$type&&e.source===a}))[0])&&(n.source=o.id)}))}))}(0,o.default)(u,i.default),u.$inject=["eventBus","modeling"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(24)),r=i(n(296));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default],__init__:["drdRules"],drdRules:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var o=n(3),r=a(n(6)),i=a(n(94));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){i.default.call(this,e)}function s(e,t){if((0,o.is)(e,"dmn:Definitions")||(0,o.is)(t,"dmn:Definitions"))return!1;if((0,o.is)(e,"dmn:Decision")||(0,o.is)(e,"dmn:InputData")){if((0,o.is)(t,"dmn:Decision")||(0,o.is)(e,"dmn:Decision")&&(0,o.is)(t,"dmn:InputData"))return{type:"dmn:InformationRequirement"};if((0,o.is)(t,"dmn:KnowledgeSource"))return{type:"dmn:AuthorityRequirement"}}return(0,o.is)(e,"dmn:BusinessKnowledgeModel")&&(0,o.isAny)(t,["dmn:Decision","dmn:BusinessKnowledgeModel"])?{type:"dmn:KnowledgeRequirement"}:(0,o.is)(e,"dmn:KnowledgeSource")&&(0,o.isAny)(t,["dmn:Decision","dmn:BusinessKnowledgeModel","dmn:KnowledgeSource"])?{type:"dmn:AuthorityRequirement"}:!!(0,o.is)(t,"dmn:TextAnnotation")&&{type:"dmn:Association"}}function c(e,t){return(0,o.is)(t,"dmn:Definitions")}function l(e,t){return!t||!!(0,o.is)(t,"dmn:Definitions")}(0,r.default)(u,i.default),u.$inject=["eventBus"],u.prototype.init=function(){this.addRule("elements.move",(function(e){var t=e.target,n=e.shapes;e.position;return l(n,t)})),this.addRule("connection.create",(function(e){return s(e.source,e.target)})),this.addRule("connection.reconnectStart",(function(e){var t=e.connection;return s(e.hover||e.source,t.target)})),this.addRule("connection.reconnectEnd",(function(e){var t=e.connection;return s(t.source,e.hover||e.target)})),this.addRule("connection.updateWaypoints",(function(e){return null})),this.addRule("shape.create",(function(e){return c(e.shape,e.target)}))},u.prototype.canConnect=s,u.prototype.canCreate=c,u.prototype.canMove=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(e){this._model=e}r.$inject=["moddle"],r.prototype._needsId=function(e){return e.$instanceOf("dmn:DRGElement")||e.$instanceOf("dmn:Artifact")||e.$instanceOf("dmn:DMNElement")},r.prototype._ensureId=function(e){var t=(e.$type||"").replace(/^[^:]*:/g,"")+"_";!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(t,e))},r.prototype.create=function(e,t){var n=this._model.create(e,t||{});return this._ensureId(n),n},r.prototype.createDi=function(){return this.create("dmn:ExtensionElements",{values:[]})},r.prototype.createDiBounds=function(e){return this.create("biodi:Bounds",e)},r.prototype.createDiEdge=function(e,t){var n=this,r=[];return(0,o.forEach)(t||[],(function(e){r.push(n.createDiWaypoint(e))})),this.create("biodi:Edge",{waypoints:r,source:e.id})},r.prototype.createDiWaypoint=function(e){return this.create("biodi:Waypoint",e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var o=n(0),r=s(n(6)),i=n(16),a=n(3),u=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,i){u.default.call(this,e),this._drdFactory=t,this._drdRules=r,this._definitionPropertiesView=i;var s=this;function c(e){var t=e.context,n=t.shape||t.connection,o=t.oldParent;t.connection&&!(0,a.is)(n,"dmn:Association")&&(o=n.target),s.updateParent(n,o)}function l(e){var t=e.context,n=t.shape||t.connection,o=t.parent||t.newParent;t.connection&&!(0,a.is)(n,"dmn:Association")&&(o=n.target),s.updateParent(n,o)}function d(e){var t=e.context.shape;((0,a.is)(t,"dmn:DRGElement")||(0,a.is)(t,"dmn:TextAnnotation"))&&s.updateBounds(t)}function f(e){s.updateConnectionWaypoints(e.context)}this.executed(["connection.layout","connection.create","connection.reconnectEnd","connection.reconnectStart"],(function(e){var t,o=e.context;o.cropped||((t=o.connection).waypoints=n.getCroppedWaypoints(t),o.cropped=!0)})),this.reverted(["connection.layout"],(function(e){delete e.context.cropped})),this.executed(["shape.create","shape.delete","connection.create","connection.move","connection.delete"],c),this.reverted(["shape.create","shape.delete","connection.create","connection.move","connection.delete"],l),this.executed(["shape.create","shape.move"],d),this.reverted(["shape.create","shape.move"],d),this.executed(["connection.layout","connection.updateWaypoints","connection.move"],f),this.reverted(["connection.layout","connection.updateWaypoints","connection.move"],f),this.executed(["connection.create"],(function(e){var t,n,r=e.context,i=r.connection,u=r.target.businessObject;(0,a.is)(i,"dmn:Association")?c(e):(s.updateSemanticParent(i.businessObject,u),t=r.di,n=u.extensionElements.values,(0,o.forEach)(t.waypoints,(function(e,t){e.x=i.waypoints[t].x,e.y=i.waypoints[t].y})),n.push(t))})),this.reverted(["connection.create"],(function(e){var t,n,o,r=e.context,i=r.connection;l(e),(0,a.is)(i,"dmn:Association")||(t=r.di,-1!==(o=(n=r.target.businessObject.extensionElements.values).indexOf(t))&&n.splice(o,1))})),this.executed(["connection.delete"],(function(e){var t,n=e.context,r=(0,a.getBusinessObject)(n.connection),i=n.source,u=(0,a.getBusinessObject)(n.target);(0,a.is)(r,"dmn:Association")||((0,o.forEach)(u.extensionElements.values,(function(e,n){if((0,a.is)(e,"biodi:Edge")&&i.id===e.source)return t=n,!1})),void 0!==t&&(n.oldDI=u.extensionElements.values[t],u.extensionElements.values.splice(t,1)))})),this.reverted(["connection.delete"],(function(e){var t=e.context,n=t.connection,o=(0,a.getBusinessObject)(t.target),r=t.oldDI;r&&!(0,a.is)(n,"dmn:Association")&&o.extensionElements.values.push(r)})),this.executed(["element.updateProperties"],(function(e){i.update()})),this.reverted(["element.updateProperties"],(function(e){i.update()})),this.reverted(["connection.reconnectEnd"],(function(e){s.updateSemanticParent(e.context.connection.businessObject,e.context.oldTarget.businessObject)}))}(0,r.default)(c,u.default),c.$inject=["eventBus","drdFactory","connectionDocking","drdRules","definitionPropertiesView"],c.prototype.updateParent=function(e,t){var n=e.parent;(0,a.is)(e,"dmn:DRGElement")||(0,a.is)(e,"dmn:Artifact")||(n=t);var o=e.businessObject,r=n&&n.businessObject;this.updateSemanticParent(o,r),this.updateExtensionElements(o)},c.prototype.updateBounds=function(e){var t,n,r=this._drdFactory,i=(0,a.getBusinessObject)(e).extensionElements;i&&((n=(t=i.values)[0])?t[0]=(0,o.assign)(n,{x:e.x,y:e.y,width:e.width,height:e.height}):t.push(r.createDiBounds({x:e.x,y:e.y,width:e.width,height:e.height})))},c.prototype.updateExtensionElements=function(e){var t=e.extensionElements;t&&!t.$parent&&(t.$parent=e)},c.prototype.updateSemanticParent=function(e,t){var n,o;e.$parent!==t&&(e.$instanceOf("dmn:DRGElement")?n="drgElements":e.$instanceOf("dmn:Artifact")?n="artifacts":e.$instanceOf("dmn:InformationRequirement")?n="informationRequirement":e.$instanceOf("dmn:AuthorityRequirement")?n="authorityRequirement":e.$instanceOf("dmn:KnowledgeRequirement")&&(n="knowledgeRequirement"),e.$parent&&(o=e.$parent.get(n),(0,i.remove)(o,e)),t?(o=t.get(n))&&(o.push(e),e.$parent=t):e.$parent=null)},c.prototype.updateConnectionWaypoints=function(e){var t,n=this._drdFactory,r=e.connection,i=r.source,u=r.target;(t=(0,a.is)(r,"dmn:Association")?r.businessObject.extensionElements:u.businessObject.extensionElements).values=(0,o.map)(t.values,(function(e){return(0,a.is)(e,"biodi:Edge")&&e.source===i.id&&(e.waypoints=[],(0,o.forEach)(r.waypoints,(function(t,r){var i=n.createDiWaypoint((0,o.pick)(t,["x","y"]));i.$parent=e,e.waypoints.push(i)}))),e}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o=n(0),r=u(n(6)),i=n(3),a=u(n(74));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){a.default.call(this),this._drdFactory=e}(0,r.default)(s,a.default),s.$inject=["drdFactory"],s.prototype.baseCreate=a.default.prototype.create,s.prototype.create=function(e,t){return this.createDrdElement(e,t)},s.prototype.createDrdElement=function(e,t){var n,r=this._drdFactory,i=(t=t||{}).businessObject;if(!i){if(!t.type)throw new Error("no shape type specified");i=r.create(t.type)}return"root"===e||"connection"===e||i.extensionElements||(i.extensionElements=r.createDi()),n=this._getDefaultSize(i),t=(0,o.assign)({businessObject:i,id:i.id},n,t),this.baseCreate(e,t)},s.prototype._getDefaultSize=function(e){return(0,i.is)(e,"dmn:Decision")?{width:180,height:80}:(0,i.is)(e,"dmn:InputData")?{width:125,height:45}:(0,i.is)(e,"dmn:KnowledgeSource")?{width:100,height:63}:(0,i.is)(e,"dmn:BusinessKnowledgeModel")?{width:135,height:46}:{width:100,height:80}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o=u(n(6)),r=u(n(301)),i=u(n(326)),a=u(n(327));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,o,i){this._canvas=e,this._drdRules=i,r.default.call(this,t,n,o)}(0,o.default)(s,r.default),s.$inject=["canvas","eventBus","elementFactory","commandStack","drdRules"],s.prototype.getHandlers=function(){var e=r.default.prototype.getHandlers.call(this);return e["element.updateProperties"]=i.default,e["id.updateClaim"]=a.default,e},s.prototype.updateProperties=function(e,t){this._commandStack.execute("element.updateProperties",{element:e,properties:t})},s.prototype.claimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t,claiming:!0})},s.prototype.unclaimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t})},s.prototype.connect=function(e,t,n,o){var r=this._drdRules,i=this._canvas.getRootElement();return n||(n=r.canConnect(e,t)||{type:"dmn:Association"}),this.createConnection(e,t,n,i,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=P;var r=n(0),i=n(75),a=S(n(302)),u=S(n(95)),s=S(n(303)),c=S(n(305)),l=S(n(308)),d=S(n(309)),f=S(n(310)),p=S(n(311)),h=S(n(313)),y=S(n(314)),v=S(n(315)),m=S(n(316)),g=S(n(317)),b=S(n(318)),_=S(n(319)),w=S(n(320)),x=S(n(321)),O=S(n(322)),E=S(n(323)),C=S(n(324)),j=S(n(325));function S(e){return e&&e.__esModule?e:{default:e}}function P(e,t,n){this._eventBus=e,this._elementFactory=t,this._commandStack=n;var o=this;e.on("diagram.init",(function(){o.registerHandlers(n)}))}P.$inject=["eventBus","elementFactory","commandStack"],P.prototype.getHandlers=function(){return{"shape.append":a.default,"shape.create":u.default,"shape.delete":s.default,"shape.move":c.default,"shape.resize":l.default,"shape.replace":d.default,"shape.toggleCollapse":f.default,spaceTool:p.default,"label.create":h.default,"connection.create":y.default,"connection.delete":v.default,"connection.move":m.default,"connection.layout":g.default,"connection.updateWaypoints":b.default,"connection.reconnectStart":_.default,"connection.reconnectEnd":_.default,"elements.move":w.default,"elements.delete":x.default,"elements.distribute":O.default,"elements.align":E.default,"element.updateAttachment":C.default,"elements.paste":j.default}},P.prototype.registerHandlers=function(e){(0,r.forEach)(this.getHandlers(),(function(t,n){e.registerHandler(n,t)}))},P.prototype.moveShape=function(e,t,n,r,i){"object"===(void 0===r?"undefined":o(r))&&(i=r,r=null);var a={shape:e,delta:t,newParent:n,newParentIndex:r,hints:i||{}};this._commandStack.execute("shape.move",a)},P.prototype.updateAttachment=function(e,t){var n={shape:e,newHost:t};this._commandStack.execute("element.updateAttachment",n)},P.prototype.moveElements=function(e,t,n,o){var r,i=(o=o||{}).attach,a=n;!0===i?(r=n,a=n.parent):!1===i&&(r=null);var u={shapes:e,delta:t,newParent:a,newHost:r,hints:o};this._commandStack.execute("elements.move",u)},P.prototype.moveConnection=function(e,t,n,r,i){"object"===(void 0===r?"undefined":o(r))&&(i=r,r=void 0);var a={connection:e,delta:t,newParent:n,newParentIndex:r,hints:i||{}};this._commandStack.execute("connection.move",a)},P.prototype.layoutConnection=function(e,t){var n={connection:e,hints:t||{}};this._commandStack.execute("connection.layout",n)},P.prototype.createConnection=function(e,t,n,r,i,a){"object"===(void 0===n?"undefined":o(n))&&(a=i,i=r,r=n,n=void 0);var u={source:e,target:t,parent:i,parentIndex:n,connection:r=this._create("connection",r),hints:a};return this._commandStack.execute("connection.create",u),u.connection},P.prototype.createShape=function(e,t,n,o,r){"number"!=typeof o&&(r=o,o=void 0);var i,a,u=(r=r||{}).attach;e=this._create("shape",e),u?(i=n.parent,a=n):i=n;var s={position:t,shape:e,parent:i,parentIndex:o,host:a,hints:r};return this._commandStack.execute("shape.create",s),s.shape},P.prototype.createLabel=function(e,t,n,o){n=this._create("label",n);var r={labelTarget:e,position:t,parent:o||e.parent,shape:n};return this._commandStack.execute("label.create",r),r.shape},P.prototype.appendShape=function(e,t,n,o,r){r=r||{};var i={source:e,position:n,target:o,shape:t=this._create("shape",t),connection:r.connection,connectionParent:r.connectionParent,attach:r.attach};return this._commandStack.execute("shape.append",i),i.shape},P.prototype.removeElements=function(e){var t={elements:e};this._commandStack.execute("elements.delete",t)},P.prototype.distributeElements=function(e,t,n){var o={groups:e,axis:t,dimension:n};this._commandStack.execute("elements.distribute",o)},P.prototype.removeShape=function(e,t){var n={shape:e,hints:t||{}};this._commandStack.execute("shape.delete",n)},P.prototype.removeConnection=function(e,t){var n={connection:e,hints:t||{}};this._commandStack.execute("connection.delete",n)},P.prototype.replaceShape=function(e,t,n){var o={oldShape:e,newData:t,hints:n||{}};return this._commandStack.execute("shape.replace",o),o.newShape},P.prototype.pasteElements=function(e,t,n){var o={tree:e,topParent:t,position:n};this._commandStack.execute("elements.paste",o)},P.prototype.alignElements=function(e,t){var n={elements:e,alignment:t};this._commandStack.execute("elements.align",n)},P.prototype.resizeShape=function(e,t,n){var o={shape:e,newBounds:t,minBounds:n};this._commandStack.execute("shape.resize",o)},P.prototype.createSpace=function(e,t,n,o){var r={movingShapes:e,resizingShapes:t,delta:n,direction:o};this._commandStack.execute("spaceTool",r)},P.prototype.updateWaypoints=function(e,t,n){var o={connection:e,newWaypoints:t,hints:n||{}};this._commandStack.execute("connection.updateWaypoints",o)},P.prototype.reconnectStart=function(e,t,n){var o={connection:e,newSource:t,dockingOrPoints:n};this._commandStack.execute("connection.reconnectStart",o)},P.prototype.reconnectEnd=function(e,t,n){var o={connection:e,newTarget:t,dockingOrPoints:n};this._commandStack.execute("connection.reconnectEnd",o)},P.prototype.connect=function(e,t,n,o){return this.createConnection(e,t,n||{},e.parent,o)},P.prototype._create=function(e,t){return t instanceof i.Base?t:this._elementFactory.create(e,t)},P.prototype.toggleCollapse=function(e,t){var n={shape:e,hints:t||{}};this._commandStack.execute("shape.toggleCollapse",n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(e){this._modeling=e}r.$inject=["modeling"],r.prototype.preExecute=function(e){var t=e.source;if(!t)throw new Error("source required");var n=e.target||t.parent,o=e.shape;o=e.shape=this._modeling.createShape(o,e.position,n,{attach:e.attach}),e.shape=o},r.prototype.postExecute=function(e){var t,n,r=e.connectionParent||e.shape.parent;t=e.source,n=e.shape,(0,o.some)(t.outgoing,(function(e){return e.target===n}))||this._modeling.connect(e.source,e.shape,e.connection,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(16),r=n(304);function i(e,t){this._canvas=e,this._modeling=t}i.$inject=["canvas","modeling"],i.prototype.preExecute=function(e){var t=this._modeling,n=e.shape;(0,r.saveClear)(n.incoming,(function(e){t.removeConnection(e,{nested:!0})})),(0,r.saveClear)(n.outgoing,(function(e){t.removeConnection(e,{nested:!0})})),(0,r.saveClear)(n.children,(function(e){e.waypoints?t.removeConnection(e,{nested:!0}):t.removeShape(e,{nested:!0})}))},i.prototype.execute=function(e){var t=this._canvas,n=e.shape,r=n.parent;return e.oldParent=r,e.oldParentIndex=(0,o.indexOf)(r.children,n),t.removeShape(n),n},i.prototype.revert=function(e){var t=this._canvas,n=e.shape,r=e.oldParent,i=e.oldParentIndex;return(0,o.add)(r.children,n,i),t.addShape(n,r),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveClear=function(e,t){if("function"!=typeof t)throw new Error("removeFn iterator must be a function");if(!e)return;var n;for(;n=e[0];)t(n);return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var o,r=n(0),i=n(96),a=(o=i)&&o.__esModule?o:{default:o},u=n(16),s=n(53);function c(e){this._modeling=e,this._helper=new a.default(e)}c.$inject=["modeling"],c.prototype.execute=function(e){var t=e.shape,n=e.delta,o=e.newParent||t.parent,i=e.newParentIndex,a=t.parent;return e.oldBounds=(0,r.pick)(t,["x","y","width","height"]),e.oldParent=a,e.oldParentIndex=(0,u.remove)(a.children,t),(0,u.add)(o.children,t,i),(0,r.assign)(t,{parent:o,x:t.x+n.x,y:t.y+n.y}),t},c.prototype.postExecute=function(e){var t=e.shape,n=e.delta,o=e.hints,i=this._modeling;!1!==o.layout&&((0,r.forEach)(t.incoming,(function(e){i.layoutConnection(e,{connectionEnd:(0,s.getMovedTargetAnchor)(e,t,n)})})),(0,r.forEach)(t.outgoing,(function(e){i.layoutConnection(e,{connectionStart:(0,s.getMovedSourceAnchor)(e,t,n)})}))),!1!==o.recurse&&this.moveChildren(e)},c.prototype.revert=function(e){var t=e.shape,n=e.oldParent,o=e.oldParentIndex,i=e.delta;return(0,u.add)(n.children,t,o),(0,r.assign)(t,{parent:n,x:t.x-i.x,y:t.y-i.y}),t},c.prototype.moveChildren=function(e){var t=e.delta,n=e.shape;this._helper.moveRecursive(n.children,t,null)},c.prototype.getNewParent=function(e){return e.newParent||e.shape.parent}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNewAttachPoint=function(e,t,n){var i=(0,r.center)(t),a=(0,r.center)(n),u=(0,r.delta)(e,i),s={x:u.x*(n.width/t.width),y:u.y*(n.height/t.height)};return(0,o.roundPoint)({x:a.x+s.x,y:a.y+s.y})},t.getNewAttachShapeDelta=function(e,t,n){var i=(0,r.center)(e),a=(0,r.center)(t),u=(0,r.center)(n),s=(0,r.delta)(e,i),c=(0,r.delta)(i,a),l={x:c.x*(n.width/t.width),y:c.y*(n.height/t.height)},d={x:u.x+l.x,y:u.y+l.y};return(0,o.roundPoint)({x:d.x+s.x-e.x,y:d.y+s.y-e.y})};var o=n(19),r=n(30)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(0),r=n(14);function i(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}i.prototype.add=function(e,t){return this.addAll([e],t)},i.prototype.addAll=function(e,t){var n=(0,r.getClosure)(e,!!t,this);return(0,o.assign)(this,n),this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(0),r=n(53);function i(e){this._modeling=e}i.$inject=["modeling"],i.prototype.execute=function(e){var t=e.shape,n=e.newBounds,r=e.minBounds;if(void 0===n.x||void 0===n.y||void 0===n.width||void 0===n.height)throw new Error("newBounds must have {x, y, width, height} properties");if(r&&(n.width<r.width||n.height<r.height))throw new Error("width and height cannot be less than minimum height and width");if(!r&&n.width<10||n.height<10)throw new Error("width and height cannot be less than 10px");return e.oldBounds={width:t.width,height:t.height,x:t.x,y:t.y},(0,o.assign)(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},i.prototype.postExecute=function(e){var t=e.shape,n=e.oldBounds,i=this._modeling;(0,o.forEach)(t.incoming,(function(e){i.layoutConnection(e,{connectionEnd:(0,r.getResizedTargetAnchor)(e,t,n)})})),(0,o.forEach)(t.outgoing,(function(e){i.layoutConnection(e,{connectionStart:(0,r.getResizedSourceAnchor)(e,t,n)})}))},i.prototype.revert=function(e){var t=e.shape,n=e.oldBounds;return(0,o.assign)(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(e,t){this._modeling=e,this._rules=t}r.$inject=["modeling","rules"],r.prototype.preExecute=function(e){var t,n=this,r=this._modeling,i=this._rules,a=e.oldShape,u=e.newData,s=e.hints;function c(e,t,n,o){return i.allowed(e,{source:t,target:n,connection:o})}var l,d={x:u.x,y:u.y};t=e.newShape=e.newShape||n.createShape(u,d,a.parent),a.host&&r.updateAttachment(t,a.host),!1!==s.moveChildren&&(l=a.children.slice(),r.moveElements(l,{x:0,y:0},t));var f=a.incoming.slice(),p=a.outgoing.slice();(0,o.forEach)(f,(function(e){var o=e.waypoints,r=o[o.length-1];c("connection.reconnectEnd",e.source,t,e)&&n.reconnectEnd(e,t,r)})),(0,o.forEach)(p,(function(e){var o=e.waypoints[0],r=e.target;c("connection.reconnectStart",t,r,e)&&n.reconnectStart(e,t,o)}))},r.prototype.postExecute=function(e){var t=this._modeling,n=e.oldShape,r=e.newShape;(0,o.forEach)(r.incoming,(function(e){t.layoutConnection(e,{endChanged:!0})})),(0,o.forEach)(r.outgoing,(function(e){t.layoutConnection(e,{startChanged:!0})})),t.removeShape(n)},r.prototype.execute=function(e){},r.prototype.revert=function(e){},r.prototype.createShape=function(e,t,n){return this._modeling.createShape(e,t,n)},r.prototype.reconnectStart=function(e,t,n){this._modeling.reconnectStart(e,t,n)},r.prototype.reconnectEnd=function(e,t,n){this._modeling.reconnectEnd(e,t,n)}},function(e,t,n){"use strict";function o(e){this._modeling=e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,o.$inject=["modeling"],o.prototype.execute=function(e){var t,n=e.shape,o=n.children;return e.oldChildrenVisibility=(t={},o.forEach((function(e){t[e.id]=e.hidden})),t),n.collapsed=!n.collapsed,function(e,t){e.forEach((function(e){e.hidden=t}))}(o,n.collapsed),[n].concat(o)},o.prototype.revert=function(e){var t,n=e.shape,o=e.oldChildrenVisibility,r=n.children;return t=o,r.forEach((function(e){e.hidden=t[e.id]})),n.collapsed=!n.collapsed,[n].concat(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(0),r=n(312);function i(e){this._modeling=e}i.$inject=["modeling"],i.prototype.preExecute=function(e){var t=this._modeling,n=e.resizingShapes,i=e.delta,a=e.direction;(0,o.forEach)(n,(function(e){var n=(0,r.resizeBounds)(e,a,i);t.resizeShape(e,n)}))},i.prototype.postExecute=function(e){var t=this._modeling,n=e.movingShapes,o=e.delta;t.moveElements(n,o,void 0,{autoResize:!1,attach:!1})},i.prototype.execute=function(e){},i.prototype.revert=function(e){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDirection=function(e,t){if("x"===e){if(t>0)return"e";if(t<0)return"w"}if("y"===e){if(t>0)return"s";if(t<0)return"n"}return null},t.resizeBounds=function(e,t,n){var o=n.x,r=n.y;switch(t){case"n":return{x:e.x,y:e.y+r,width:e.width,height:e.height-r};case"s":return{x:e.x,y:e.y,width:e.width,height:e.height+r};case"w":return{x:e.x+o,y:e.y,width:e.width-o,height:e.height};case"e":return{x:e.x,y:e.y,width:e.width+o,height:e.height};default:throw new Error("unrecognized direction: "+t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=i(n(6)),r=i(n(95));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){r.default.call(this,e)}(0,o.default)(a,r.default),a.$inject=["canvas"];var u=r.default.prototype.execute;a.prototype.execute=function(e){var t=e.shape;return function(e){["width","height"].forEach((function(t){void 0===e[t]&&(e[t]=0)}))}(t),t.labelTarget=e.labelTarget,u.call(this,e)};var s=r.default.prototype.revert;a.prototype.revert=function(e){return e.shape.labelTarget=null,s.call(this,e)}},function(e,t,n){"use strict";function o(e,t){this._canvas=e,this._layouter=t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,o.$inject=["canvas","layouter"],o.prototype.execute=function(e){var t=e.connection,n=e.source,o=e.target,r=e.parent,i=e.parentIndex,a=e.hints;if(!n||!o)throw new Error("source and target required");if(!r)throw new Error("parent required");return t.source=n,t.target=o,t.waypoints||(t.waypoints=this._layouter.layoutConnection(t,a)),this._canvas.addConnection(t,r,i),t},o.prototype.revert=function(e){var t=e.connection;this._canvas.removeConnection(t),t.source=null,t.target=null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(16);function r(e,t){this._canvas=e,this._modeling=t}r.$inject=["canvas","modeling"],r.prototype.execute=function(e){var t=e.connection,n=t.parent;return e.parent=n,e.parentIndex=(0,o.indexOf)(n.children,t),e.source=t.source,e.target=t.target,this._canvas.removeConnection(t),t.source=null,t.target=null,t},r.prototype.revert=function(e){var t=e.connection,n=e.parent,r=e.parentIndex;return t.source=e.source,t.target=e.target,(0,o.add)(n.children,t,r),this._canvas.addConnection(t,n),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(0),r=n(16);function i(){}i.prototype.execute=function(e){var t=e.connection,n=e.delta,i=e.newParent||t.parent,a=e.newParentIndex,u=t.parent;return e.oldParent=u,e.oldParentIndex=(0,r.remove)(u.children,t),(0,r.add)(i.children,t,a),t.parent=i,(0,o.forEach)(t.waypoints,(function(e){e.x+=n.x,e.y+=n.y,e.original&&(e.original.x+=n.x,e.original.y+=n.y)})),t},i.prototype.revert=function(e){var t=e.connection,n=t.parent,i=e.oldParent,a=e.oldParentIndex,u=e.delta;return(0,r.remove)(n.children,t),(0,r.add)(i.children,t,a),t.parent=i,(0,o.forEach)(t.waypoints,(function(e){e.x-=u.x,e.y-=u.y,e.original&&(e.original.x-=u.x,e.original.y-=u.y)})),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(e,t){this._layouter=e,this._canvas=t}r.$inject=["layouter","canvas"],r.prototype.execute=function(e){var t=e.connection,n=t.waypoints;return(0,o.assign)(e,{oldWaypoints:n}),t.waypoints=this._layouter.layoutConnection(t,e.hints),t},r.prototype.revert=function(e){var t=e.connection;return t.waypoints=e.oldWaypoints,t}},function(e,t,n){"use strict";function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,o.prototype.execute=function(e){var t=e.connection,n=e.newWaypoints;return e.oldWaypoints=t.waypoints,t.waypoints=n,t},o.prototype.revert=function(e){var t=e.connection,n=e.oldWaypoints;return t.waypoints=n,t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(){}r.$inject=[],r.prototype.execute=function(e){var t,n=e.newSource,r=e.newTarget,i=e.connection,a=e.dockingOrPoints,u=i.waypoints;if(!n&&!r)throw new Error("newSource or newTarget are required");if(n&&r)throw new Error("must specify either newSource or newTarget");return e.oldWaypoints=u,(0,o.isArray)(a)?t=a:(t=u.slice()).splice(n?0:-1,1,a),n&&(e.oldSource=i.source,i.source=n),r&&(e.oldTarget=i.target,i.target=r),i.waypoints=t,i},r.prototype.revert=function(e){var t=e.newSource,n=e.newTarget,o=e.connection;return t&&(o.source=e.oldSource),n&&(o.target=e.oldTarget),o.waypoints=e.oldWaypoints,o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o,r=n(96),i=(o=r)&&o.__esModule?o:{default:o};function a(e){this._helper=new i.default(e)}a.$inject=["modeling"],a.prototype.preExecute=function(e){e.closure=this._helper.getClosure(e.shapes)},a.prototype.postExecute=function(e){var t,n=e.hints;n&&n.primaryShape&&(t=n.primaryShape,n.oldParent=t.parent),this._helper.moveClosure(e.closure,e.delta,e.newParent,e.newHost,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(e,t){this._modeling=e,this._elementRegistry=t}r.$inject=["modeling","elementRegistry"],r.prototype.postExecute=function(e){var t=this._modeling,n=this._elementRegistry,r=e.elements;(0,o.forEach)(r,(function(e){n.get(e.id)&&(e.waypoints?t.removeConnection(e):t.removeShape(e))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(e){this._modeling=e}r.$inject=["modeling"];var i={x:"y",y:"x"};r.prototype.preExecute=function(e){var t=this._modeling,n=e.groups,r=e.axis,a=e.dimension;function u(e,t){e.range.min=Math.min(t[r],e.range.min),e.range.max=Math.max(t[r]+t[a],e.range.max)}function s(e){return e[r]+e[a]/2}function c(e){return e.length-1}function l(e){return e.max-e.min}var d,f,p=n[0],h=c(n),y=n[h],v=0;(0,o.forEach)(n,(function(e,d){var f,p,y;e.elements.length<2?d&&d!==n.length-1&&(u(e,e.elements[0]),v+=l(e.range)):(p=(f=(0,o.sortBy)(e.elements,r))[0],d===h&&(p=f[c(f)]),y=s(p),e.range=null,(0,o.forEach)(f,(function(n){!function(e,n){var o={y:0};o[r]=e-s(n),o[r]&&(o[i[r]]=0,t.moveElements([n],o,n.parent))}(y,n),null!==e.range?u(e,n):e.range={min:n[r],max:n[r]+n[a]}})),d&&d!==n.length-1&&(v+=l(e.range)))})),f=Math.abs(y.range.min-p.range.max),(d=Math.round((f-v)/(n.length-1)))<n.length-1||(0,o.forEach)(n,(function(e,u){var s,c={};e!==p&&e!==y&&(s=n[u-1],e.range.max=0,(0,o.forEach)(e.elements,(function(n,o){c[i[r]]=0,c[r]=s.range.max-n[r]+d,e.range.min!==n[r]&&(c[r]+=n[r]-e.range.min),c[r]&&t.moveElements([n],c,n.parent),e.range.max=Math.max(n[r]+n[a],o?e.range.max:0)})))}))},r.prototype.postExecute=function(e){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(e,t){this._modeling=e,this._canvas=t}r.$inject=["modeling","canvas"],r.prototype.preExecute=function(e){var t=this._modeling,n=e.elements,r=e.alignment;(0,o.forEach)(n,(function(e){var n={x:0,y:0};r.left?n.x=r.left-e.x:r.right?n.x=r.right-e.width-e.x:r.center?n.x=r.center-Math.round(e.width/2)-e.x:r.top?n.y=r.top-e.y:r.bottom?n.y=r.bottom-e.height-e.y:r.middle&&(n.y=r.middle-Math.round(e.height/2)-e.y),t.moveElements([e],n,e.parent)}))},r.prototype.postExecute=function(e){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(16);function r(e){this._modeling=e}function i(e,t){return(0,o.remove)(e&&e.attachers,t)}function a(e,t,n){if(e){var r=e.attachers;r||(e.attachers=r=[]),(0,o.add)(r,t,n)}}r.$inject=["modeling"],r.prototype.execute=function(e){var t=e.shape,n=e.newHost,o=t.host;return e.oldHost=o,e.attacherIdx=i(o,t),a(n,t),t.host=n,t},r.prototype.revert=function(e){var t=e.shape,n=e.newHost,o=e.oldHost,r=e.attacherIdx;return t.host=o,i(n,t),a(o,t,r),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(0);function r(e,t){(0,o.forEach)(t,(function(t){e[t]&&delete e[t]}))}function i(e,t,n,o,r,i){this._eventBus=e,this._canvas=t,this._selection=n,this._elementFactory=o,this._modeling=r,this._rules=i}i.$inject=["eventBus","canvas","selection","elementFactory","modeling","rules"],i.prototype.preExecute=function(e){var t=this._eventBus,n=this,i=e.tree,a=e.topParent,u=e.position;i.createdElements={},i.labels=[],(0,o.forEach)(i,(function(e,s){var c=parseInt(s,10);isNaN(c)||(c||(e=(0,o.map)(e,(function(e){return e.parent=a,e}))),e=(0,o.sortBy)(e,"priority"),(0,o.forEach)(e,(function(e){var s,l=e.id,d=e.parent,f={},p=(0,o.assign)({},e);if(c&&(p.parent=n._getCreatedElement(d,i)),d)if(t.fire("element.paste",{createdElements:i.createdElements,descriptor:p}),d=p.parent,p.waypoints)(p=n._createConnection(p,d,u,i))&&(i.createdElements[l]={element:p,descriptor:e});else{if(p.parent!==a&&(f.root=!1),p.host&&(f.attach=!0,d=n._getCreatedElement(p.host,i)),p.labelTarget)return i.labels.push(p);s={x:Math.round(u.x+p.delta.x+p.width/2),y:Math.round(u.y+p.delta.y+p.height/2)},r(p,["id","parent","delta","host","priority"]),(p=n._createShape(p,d,s,f))&&(i.createdElements[l]={element:p,descriptor:e})}})))}))},i.prototype.postExecute=function(e){var t=this._modeling,n=this._selection,r=this,i=e.tree,a=i.labels,u=[];(0,o.forEach)(a,(function(e){var n,a,u,s=r._getCreatedElement(e.labelTarget,i);s&&(n=s.labels)&&n.length&&(a={x:s.x,y:s.y},s.waypoints&&(a=s.waypoints[0]),(0,o.forEach)(n,(function(n){u={x:Math.round(a.x-n.x+e.delta.x),y:Math.round(a.y-n.y+e.delta.y)},t.moveShape(n,u,s.parent)})))})),(0,o.forEach)(i[0],(function(e){var t=e.id,n=i.createdElements[t];n&&u.push(n.element)})),n.select(u)},i.prototype._createConnection=function(e,t,n,i){var a,u,s=this._modeling,c=this._rules;return e.waypoints=(0,o.map)(e.waypoints,(function(t,o){return{x:Math.round(n.x+e.delta[o].x),y:Math.round(n.y+e.delta[o].y)}})),a=this._getCreatedElement(e.source,i),u=this._getCreatedElement(e.target,i),a&&u&&c.allowed("element.paste",{source:a,target:u})?(r(e,["id","parent","delta","source","target","width","height","priority"]),s.createConnection(a,u,e,t)):null},i.prototype._createShape=function(e,t,n,o,r){var i=this._modeling,a=this._elementFactory;if(!this._rules.allowed("element.paste",{element:e,position:n,parent:t}))return null;var u=a.createShape(e);return i.createShape(u,n,t,o,r),u},i.prototype._getCreatedElement=function(e,t){return t.createdElements[e]&&t.createdElements[e].element}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(0),r="id";function i(e,t){this._elementRegistry=e,this._moddle=t}function a(e,t){return r in e&&e.id!==t.id}function u(e,t){(0,o.forEach)(t,(function(t,n){e.set(n,t)}))}i.$inject=["elementRegistry","moddle"],i.prototype.execute=function(e){var t=e.element,n=[t];if(!t)throw new Error("element required");var r=this._elementRegistry,i=this._moddle.ids,s=t.businessObject,c=e.properties,l=e.oldProperties||function(e,t){return(0,o.reduce)(t,(function(t,n){return t[n]=e.get(n),t}),{})}(s,(0,o.keys)(c));return a(c,s)&&(i.unclaim(s.id),r.updateId(t,c.id),i.claim(c.id,s)),"name"in c&&t.label&&n.push(t.label),u(s,c),e.oldProperties=l,e.changed=n,n},i.prototype.revert=function(e){var t=e.element,n=e.properties,o=e.oldProperties,r=t.businessObject,i=this._elementRegistry,s=this._moddle.ids;return u(r,o),a(n,r)&&(s.unclaim(n.id),i.updateId(t,o.id),s.claim(o.id,r)),e.changed}},function(e,t,n){"use strict";function o(e){this._moddle=e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,o.$inject=["moddle"],o.prototype.execute=function(e){var t=this._moddle.ids,n=e.id,o=e.element;e.claiming?t.claim(n,o):t.unclaim(n)},o.prototype.revert=function(e){var t=this._moddle.ids,n=e.id,o=e.element;e.claiming?t.unclaim(n):t.claim(n,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var o=a(n(6)),r=a(n(329)),i=n(19);function a(e){return e&&e.__esModule?e:{default:e}}function u(){}function s(e,t){return e?e.original||e:(0,i.getMid)(t)}(0,o.default)(u,r.default),u.prototype.layoutConnection=function(e,t){t=t||{};var n,o=e.source,r=e.target,i=e.waypoints,a=t.connectionStart,u=t.connectionEnd;return n=(i=i||[]).slice(1,i.length-1),a||(a=s(i&&i[0],o)),u||(u=s(i&&i[i.length-1],r)),[a].concat(n,[u])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(19);function r(){}r.prototype.layoutConnection=function(e,t){return[(t=t||{}).connectionStart||(0,o.getMid)(e.source),t.connectionEnd||(0,o.getMid)(e.target)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(0),r=n(19);function i(e){return(0,o.assign)({original:e.point.original||e.point},e.actual)}function a(e,t){this._elementRegistry=e,this._graphicsFactory=t}a.$inject=["elementRegistry","graphicsFactory"],a.prototype.getCroppedWaypoints=function(e,t,n){t=t||e.source,n=n||e.target;var o=this.getDockingPoint(e,t,!0),r=this.getDockingPoint(e,n),a=e.waypoints.slice(o.idx+1,r.idx);return a.unshift(i(o)),a.push(i(r)),a},a.prototype.getDockingPoint=function(e,t,n){var o,r,i=e.waypoints;return{point:r=i[o=n?0:i.length-1],actual:this._getIntersection(t,e,n)||r,idx:o}},a.prototype._getIntersection=function(e,t,n){var o=this._getShapePath(e),i=this._getConnectionPath(t);return(0,r.getElementLineIntersection)(o,i,n)},a.prototype._getConnectionPath=function(e){return this._graphicsFactory.getConnectionPath(e)},a.prototype._getShapePath=function(e){return this._graphicsFactory.getShapePath(e)},a.prototype._getGfx=function(e){return this._elementRegistry.getGraphics(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(35)),r=s(n(332)),i=s(n(89)),a=s(n(88)),u=s(n(334));function s(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default,i.default,a.default],__init__:["paletteProvider"],paletteProvider:["type",u.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(333),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["palette"],palette:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(0),r=n(2);function i(e,t){this._eventBus=e,this._canvas=t,this._providers=[];var n=this;e.on("tool-manager.update",(function(e){var t=e.tool;n.updateToolHighlight(t)})),e.on("i18n.changed",(function(){n._update()})),e.on("diagram.init",(function(){n._diagramInitialized=!0,n._providers.length&&(n._init(),n._update())}))}i.$inject=["eventBus","canvas"],i.prototype.registerProvider=function(e){this._providers.push(e),this._diagramInitialized&&(this._container||this._init(),this._update())},i.prototype.getEntries=function(){var e={};return(0,o.forEach)(this._providers,(function(t){var n=t.getPaletteEntries();(0,o.forEach)(n,(function(t,n){e[n]=t}))})),e},i.prototype._init=function(){var e=this._canvas,t=this._eventBus,n=e.getContainer(),o=this._container=(0,r.domify)(i.HTML_MARKUP),a=this;n.appendChild(o),r.delegate.bind(o,".djs-palette-toggle, .entry","click",(function(e){var t=e.delegateTarget;if((0,r.matches)(t,".djs-palette-toggle"))return a.toggle();a.trigger("click",e)})),r.event.bind(o,"mousedown",(function(e){e.stopPropagation()})),r.delegate.bind(o,".entry","dragstart",(function(e){a.trigger("dragstart",e)})),t.on("canvas.resized",this._layoutChanged,this),t.fire("palette.create",{container:o})},i.prototype._toggleState=function(e){e=e||{};var t,n=this._getParentContainer(),o=this._container,i=this._eventBus,a=(0,r.classes)(o);t="twoColumn"in e?e.twoColumn:this._needsCollapse(n.clientHeight,this._entries||{}),a.toggle("two-column",t),"open"in e&&a.toggle("open",e.open),i.fire("palette.changed",{twoColumn:t,open:this.isOpen()})},i.prototype._update=function(){var e=(0,r.query)(".djs-palette-entries",this._container),t=this._entries=this.getEntries();(0,r.clear)(e),(0,o.forEach)(t,(function(t,n){var i=t.group||"default",a=(0,r.query)("[data-group="+i+"]",e);a||(a=(0,r.domify)('<div class="group" data-group="'+i+'"></div>'),e.appendChild(a));var u,s,c,l=t.html||(t.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),d=(0,r.domify)(l);a.appendChild(d),t.separator||((0,r.attr)(d,"data-action",n),t.title&&(0,r.attr)(d,"title",t.title),t.className&&(u=d,s=t.className,c=(0,r.classes)(u),((0,o.isArray)(s)?s:s.split(/\s+/g)).forEach((function(e){c.add(e)}))),t.imageUrl&&d.appendChild((0,r.domify)('<img src="'+t.imageUrl+'">')))})),this.open()},i.prototype.trigger=function(e,t,n){var i,a,u,s=this._entries,c=t.delegateTarget||t.target;if(!c)return t.preventDefault();(i=s[(0,r.attr)(c,"data-action")])&&(a=i.action,u=t.originalEvent||t,(0,o.isFunction)(a)?"click"===e&&a(u,n):a[e]&&a[e](u,n),t.preventDefault())},i.prototype._layoutChanged=function(){this._toggleState({})},i.prototype._needsCollapse=function(e,t){return e<46*Object.keys(t).length+50},i.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},i.prototype.open=function(){this._toggleState({open:!0})},i.prototype.toggle=function(e){this.isOpen()?this.close():this.open()},i.prototype.isActiveTool=function(e){return e&&this._activeTool===e},i.prototype.updateToolHighlight=function(e){var t,n;this._toolsContainer||(t=(0,r.query)(".djs-palette-entries",this._container),this._toolsContainer=(0,r.query)("[data-group=tools]",t)),n=this._toolsContainer,(0,o.forEach)(n.children,(function(t){var n=t.getAttribute("data-action");if(n){var o=(0,r.classes)(t);n=n.replace("-tool",""),o.contains("entry")&&n===e?o.add("highlighted-entry"):o.remove("highlighted-entry")}}))},i.prototype.isOpen=function(){return(0,r.classes)(this._container).has("open")},i.prototype._getParentContainer=function(){return this._canvas.getContainer()},i.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(e,t,n,o,r){this._palette=e,this._create=t,this._elementFactory=n,this._lassoTool=o,this._translate=r,e.registerProvider(this)}r.$inject=["palette","create","elementFactory","lassoTool","translate"],r.prototype.getPaletteEntries=function(e){var t={},n=this._create,r=this._elementFactory,i=this._lassoTool,a=this._translate;function u(e,t,i,a,u){function s(t){var i=r.createShape((0,o.assign)({type:e},u));n.start(t,i)}return{group:t,className:i,title:a,action:{dragstart:s,click:s}}}return(0,o.assign)(t,{"lasso-tool":{group:"tools",className:"dmn-icon-lasso-tool",title:a("Activate the lasso tool"),action:{click:function(e){i.activateSelection(e)}}},"tool-separator":{group:"tools",separator:!0},"create.decision":u("dmn:Decision","drd","dmn-icon-decision"),"create.input-data":u("dmn:InputData","drd","dmn-icon-input-data"),"create.knowledge-source":u("dmn:KnowledgeSource","drd","dmn-icon-knowledge-source"),"create.business-knowledge-model":u("dmn:BusinessKnowledgeModel","drd","dmn-icon-business-knowledge")}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(336)),r=i(n(79));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__init__:["definitionPropertiesEdit","definitionPropertiesPaletteAdapter"],definitionPropertiesEdit:["type",o.default],definitionPropertiesPaletteAdapter:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(0),r=n(2);function i(e,t,n){this._eventBus=e,this._modeling=t,this._canvas=n,e.on("definitionIdView.create",(function(e){var t=e.html,n=(0,r.query)(".dmn-definitions-name",t),o=(0,r.query)(".dmn-definitions-id",t);this._setup(n,"name"),this._setup(o,"id")}),this)}i.$inject=["eventBus","modeling","canvas"],i.prototype.update=function(e,t){var n={};n[e]=t,this._modeling.updateProperties(this._canvas.getRootElement(),n)},i.prototype._setup=function(e,t){var n=this;e.setAttribute("contenteditable",!0),e.addEventListener("input",(0,o.debounce)((function(e){var o=e.target.value||e.target.textContent;n.update(t,o.trim())}),300)),e.addEventListener("keydown",(function(t){13===t.keyCode&&(e.blur(),window.getSelection().removeAllRanges())}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=T(n(338)),i=T(n(389)),a=T(n(405)),u=T(n(21)),s=T(n(105)),c=T(n(413)),l=T(n(415)),d=T(n(419)),f=T(n(26)),p=T(n(422)),h=T(n(444)),y=T(n(448)),v=T(n(451)),m=T(n(453)),g=T(n(107)),b=T(n(456)),_=T(n(55)),w=T(n(33)),x=T(n(461)),O=T(n(482)),E=T(n(40)),C=T(n(34)),j=T(n(487)),S=T(n(491)),P=T(n(495)),k=T(n(499)),M=T(n(39));function T(e){return e&&e.__esModule?e:{default:e}}var N=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function A(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}var D=function(e){function t(){return R(this,t),V(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),N(t,[{key:"getModules",value:function(){return[].concat(A(r.default._getModules()),A(t._getModules()))}}],[{key:"_getModules",value:function(){return[i.default,a.default,M.default,u.default,s.default,c.default,l.default,d.default,f.default,p.default,h.default,y.default,v.default,w.default,p.default,m.default,g.default,b.default,_.default,x.default,O.default,E.default,C.default,j.default,S.default,P.default,k.default]}}]),t}(r.default);t.default=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=m(n(339)),i=n(350),a=n(0),u=n(2),s=m(n(353)),c=m(n(362)),l=m(n(365)),d=m(n(369)),f=m(n(372)),p=m(n(104)),h=m(n(379)),y=m(n(382)),v=m(n(385));function m(e){return e&&e.__esModule?e:{default:e}}var g=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function b(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}var x=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_(this,t);var n=t._createContainer(),o=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,a.assign)(e,{renderer:{container:n}})));return o._container=n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),g(t,[{key:"open",value:function(e,t){var n;try{return this._decision&&this.clear(),this._decision=e,(0,i.importDecision)(this,e,t)}catch(e){n=e}return t(n)}},{key:"_init",value:function(e){var t=e.modules,n=e.additionalModules,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["modules","additionalModules"]),r=t||this.getModules(),i=n||[],a=[{decisionTable:["value",this]}];return{modules:[v.default].concat(b(r),b(i),a),config:o}}},{key:"on",value:function(e,t,n,o){return this.get("eventBus").on(e,t,n,o)}},{key:"off",value:function(e,t){this.get("eventBus").off(e,t)}},{key:"_emit",value:function(e,t){return this.get("eventBus").fire(e,t)}},{key:"attachTo",value:function(e){if(!e)throw new Error("parentNode required");this.detach();var t=this._container;e.appendChild(t),this._emit("attach",{})}},{key:"detach",value:function(){var e=this._container;e.parentNode&&(this._emit("detach",{}),(0,u.remove)(e))}},{key:"destroy",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.detach()}},{key:"getModules",value:function(){return t._getModules()}}],[{key:"_getModules",value:function(){return[s.default,c.default,l.default,d.default,f.default,p.default,h.default,y.default]}},{key:"_createContainer",value:function(){return(0,u.domify)('<div class="dmn-decision-table-container"></div>')}}]),t}(r.default);t.default=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(340),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(48),i=n(341),a=(o=i)&&o.__esModule?o:{default:o};var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,e);var n=t.injector;if(!n){var o=this._init(t),r=o.modules,i=o.config;n=d(i,r)}this.get=n.get,this.invoke=n.invoke,this.get("eventBus").fire("table.init"),this.get("eventBus").fire("diagram.init")}return u(e,[{key:"_init",value:function(e){return{modules:e.modules,config:function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["modules"])}}},{key:"destroy",value:function(){var e=this.get("eventBus");e.fire("table.destroy"),e.fire("diagram.destroy")}},{key:"clear",value:function(){var e=this.get("eventBus");e.fire("table.clear"),e.fire("diagram.clear")}}]),e}();function l(e){var t=[],n=[];function o(e){return t.indexOf(e)>=0}e.forEach((function e(r){o(r)||((r.__depends__||[]).forEach(e),o(r)||(!function(e){t.push(e)}(r),(r.__init__||[]).forEach((function(e){n.push(e)}))))}));var i=new r.Injector(t);return n.forEach((function(e){try{i["string"==typeof e?"get":"invoke"](e)}catch(e){throw console.error("Failed to instantiate component"),console.error(e.stack),e}})),i}function d(e,t){return l([{config:["value",e]},a.default].concat(t||[]))}t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(97)),r=s(n(342)),i=s(n(343)),a=s(n(98)),u=s(n(349));function s(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[a.default],__init__:["elementFactory","sheet"],elementFactory:["type",o.default],elementRegistry:["type",r.default],eventBus:["type",i.default],sheet:["type",u.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._eventBus=t,this._elements={},t.on("table.clear",this.clear.bind(this))}return o(e,[{key:"add",value:function(e,t){var n=e.id;this._elements[n]=e}},{key:"remove",value:function(e){var t=e.id||e;delete this._elements[t]}},{key:"get",value:function(e){return this._elements[e]}},{key:"getAll",value:function(){return i(this._elements)}},{key:"forEach",value:function(e){i(this._elements).forEach((function(t){return e(t)}))}},{key:"filter",value:function(e){return i(this._elements).filter((function(t){return e(t)}))}},{key:"clear",value:function(){this._elements={}}},{key:"updateId",value:function(e,t){this._validateId(t),"string"==typeof e&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t}),this.remove(e),e.id=t,this.add(e)}},{key:"_validateId",value:function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")}}]),e}();function i(e){return Object.keys(e).map((function(t){return e[t]}))}t.default=r,r.$inject=["eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=a;var r=n(0),i=Array.prototype.slice;function a(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function u(){}a.prototype.on=function(e,t,n,o){if(e=(0,r.isArray)(e)?e:[e],(0,r.isFunction)(t)&&(o=n,n=t,t=1e3),!(0,r.isNumber)(t))throw new Error("priority must be a number");var i=n;o&&((i=(0,r.bind)(n,o)).__fn=n.__fn||n);var a=this,u={priority:t,callback:i};e.forEach((function(e){a._addListener(e,u)}))},a.prototype.once=function(e,t,n,o){var i=this;if((0,r.isFunction)(t)&&(o=n,n=t,t=1e3),!(0,r.isNumber)(t))throw new Error("priority must be a number");function a(){return i.off(e,a),n.apply(o,arguments)}a.__fn=n,this.on(e,t,a)},a.prototype.off=function(e,t){var n,o,r,i=this._getListeners(e);if(t)for(r=i.length-1;n=i[r];r--)(o=n.callback)!==t&&o.__fn!==t||i.splice(r,1);else i.length=0},a.prototype.createEvent=function(e){var t=new u;return t.init(e),t},a.prototype.fire=function(e,t){var n,r,a,s;if(s=i.call(arguments),"object"===(void 0===e?"undefined":o(e))&&(e=(n=e).type),!e)throw new Error("no event type specified");if(r=this._listeners[e]){n=t instanceof u?t:this.createEvent(t),s[0]=n;var c=n.type;e!==c&&(n.type=e);try{a=this._invokeListeners(n,s,r)}finally{e!==c&&(n.type=c)}return void 0===a&&n.defaultPrevented&&(a=!1),a}},a.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},a.prototype._destroy=function(){this._listeners={}},a.prototype._invokeListeners=function(e,t,n){var o,r,i;for(o=0;(r=n[o])&&!e.cancelBubble;o++)i=this._invokeListener(e,t,r);return i},a.prototype._invokeListener=function(e,t,n){var o;try{void 0!==(o=function(e,t){return e.apply(null,t)}(n.callback,t))&&(e.returnValue=o,e.stopPropagation()),!1===o&&e.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener"),console.error(e.stack),e}return o},a.prototype._addListener=function(e,t){var n,o,r=this._getListeners(e);for(o=0;n=r[o];o++)if(n.priority<t.priority)return void r.splice(o,0,t);r.push(t)},a.prototype._getListeners=function(e){var t=this._listeners[e];return t||(this._listeners[e]=t=[]),t},u.prototype.stopPropagation=function(){this.cancelBubble=!0},u.prototype.preventDefault=function(){this.defaultPrevented=!0},u.prototype.init=function(e){(0,r.assign)(this,e||{})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._listeners={},t.on("elements.changed",(function(e){var t=e.elements;n.elementsChanged(t)})),t.on("root.remove",(function(e){var o=e.root.id;n._listeners[o]&&t.once("root.add",(function(e){var t=e.root.id;n.updateId(o,t)}))})),t.on("element.updateId",(function(e){var t=e.element,o=e.newId;n.updateId(t.id,o)}))}return o(e,[{key:"elementsChanged",value:function(e){for(var t={},n=e.length,o=0;o<n;o++){var r=e[o].id;if(t[r])return;t[r]=!0;var i=this._listeners[r]&&this._listeners[r].length;if(i)for(var a=0;a<i;a++)this._listeners[r][a]&&this._listeners[r][a]()}}},{key:"onElementsChanged",value:function(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e][this._listeners[e].length]=t}},{key:"offElementsChanged",value:function(e,t){if(this._listeners[e])if(t){var n=this._listeners[e].indexOf(t);-1!==n&&this._listeners[e].splice(n,1)}else this._listeners[e].length=0}},{key:"updateId",value:function(e,t){this._listeners[e]&&(this._listeners[t]=this._listeners[e],delete this._listeners[e])}}]),e}();t.default=r,r.$inject=["eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._listeners={}}return r(e,[{key:"getComponent",value:function(e,t){var n=this._listeners[e];if(n){for(var o=void 0,r=0;r<n.length&&!(o=n[r].callback(t));r++);return o}}},{key:"getComponents",value:function(e,t){var n=this._listeners[e],o=[];if(!n)return o;for(var r=0;r<n.length;r++){var i=n[r].callback(t);i&&o.push(i)}return o.length,o}},{key:"onGetComponent",value:function(e,t,n){if((0,o.isFunction)(t)&&(n=t,t=1e3),!(0,o.isNumber)(t))throw new Error("priority must be a number");var r=this._getListeners(e),i=void 0,a=void 0,u={priority:t,callback:n};for(a=0;i=r[a];a++)if(i.priority<t)return void r.splice(a,0,u);r.push(u)}},{key:"offGetComponent",value:function(e,t){var n=this._getListeners(e),o=void 0,r=void 0;if(t)for(r=n.length-1;o=n[r];r--)o.callback===t&&n.splice(r,1);else n.length=0}},{key:"_getListeners",value:function(e){var t=this._listeners[e];return t||(this._listeners[e]=t=[]),t}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=n(348),a=(o=i)&&o.__esModule?o:{default:o};var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var s=function(){function e(t,n,o,i,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var s=o.container;this._container=s,i.on("root.added",(function(){(0,r.render)((0,r.createComponentVNode)(2,a.default,{injector:u}),s)})),i.on("root.remove",(function(){(0,r.render)(null,s)}))}return u(e,[{key:"getContainer",value:function(){return this._container}}]),e}();t.default=s,s.$inject=["changeSupport","components","config.renderer","eventBus","injector"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=!("undefined"==typeof window||!window.document),i=Array.isArray;function a(e){var t=void 0===e?"undefined":o(e);return"string"===t||"number"===t}function u(e){return p(e)||f(e)}function s(e){return f(e)||!1===e||function(e){return!0===e}(e)||p(e)}function c(e){return"function"==typeof e}function l(e){return"string"==typeof e}function d(e){return"number"==typeof e}function f(e){return null===e}function p(e){return void 0===e}function h(e,t){var n={};if(e)for(var o in e)n[o]=e[o];if(t)for(var r in t)n[r]=t[r];return n}function y(e,t,n,o,r,i,a,u){return{childFlags:e,children:t,className:n,dom:null,flags:o,key:void 0===r?null:r,parentVNode:null,props:void 0===i?null:i,ref:void 0===a?null:a,type:u}}function v(e,t,n,o,r,i,a,u){var s=void 0===r?1:r,c=y(s,o,n,e,a,i,u,t);return 0===s&&x(c,c.children),c}function m(e,t,n,o,r){(2&e)>0&&(e=t.prototype&&c(t.prototype.render)?4:8);var i=t.defaultProps;if(!u(i))for(var a in n||(n={}),i)p(n[a])&&(n[a]=i[a]);if((8&e)>0){var s=t.defaultHooks;if(!u(s))if(r)for(var l in s)p(r[l])&&(r[l]=s[l]);else r=s}var d=y(1,null,null,e,o,n,r,t),f=O.createVNode;return c(f)&&f(d),d}function g(e,t){return y(1,u(e)?"":e,null,16,t,null,null,null)}function b(e){var t,n=e.flags;if(14&n){var o,r=e.props;if(!f(r))for(var i in o={},r)o[i]=r[i];t=m(n,e.type,o,e.key,e.ref)}else if(481&n){var a=e.children;t=v(n,e.type,e.className,a,e.childFlags,e.props,e.key,e.ref)}else 16&n?t=g(e.children,e.key):1024&n&&(t=e);return t}function _(){return g("",null)}function w(e,t,n,o){for(var r=e.length;n<r;n++){var u=e[n];if(!s(u)){var c=o+"$"+n;if(i(u))w(u,t,0,c);else{if(a(u))u=g(u,c);else{var d=u.key,p=l(d)&&"$"===d[0];f(u.dom)&&!p||(u=b(u)),f(d)||p?u.key=c:u.key=o+d}t.push(u)}}}}function x(e,t){var n,o=1;if(s(t))n=t;else if(l(t))o=2,n=g(t);else if(d(t))o=2,n=g(t+"");else if(i(t)){var r=t.length;if(0===r)n=null,o=1;else{(Object.isFrozen(t)||!0===t.$)&&(t=t.slice()),o=8;for(var u=0;u<r;u++){var c=t[u];if(s(c)||i(c)){n=n||t.slice(0,u),w(t,n,u,"");break}if(a(c))(n=n||t.slice(0,u)).push(g(c,"$"+u));else{var p=c.key,h=f(c.dom),y=f(p),v=!y&&"$"===p[0];!h||y||v?(n=n||t.slice(0,u),h&&!v||(c=b(c)),(y||v)&&(c.key="$"+u),n.push(c)):n&&n.push(c)}}(n=n||t).$=!0}}else n=t,f(t.dom)||(n=b(t)),o=2;return e.children=n,e.childFlags=o,e}var O={afterMount:null,afterRender:null,afterUpdate:null,beforeRender:null,beforeUnmount:null,createVNode:null,roots:[]};var E="http://www.w3.org/1999/xlink",C="http://www.w3.org/XML/1998/namespace",j={"xlink:actuate":E,"xlink:arcrole":E,"xlink:href":E,"xlink:role":E,"xlink:show":E,"xlink:title":E,"xlink:type":E,"xml:base":C,"xml:lang":C,"xml:space":C},S={},P=[];function k(e,t){e.appendChild(t)}function M(e,t,n){u(n)?k(e,t):e.insertBefore(t,n)}function T(e,t,n){e.replaceChild(t,n)}function N(e){for(var t;void 0!==(t=e.shift());)t()}var A={},R={};function V(e,t,n){var o=A[e],r=n.$EV;t?(o||(R[e]=function(e){var t=function(t){var n=t.type,o="click"===n||"dblclick"===n;if(o&&0!==t.button)return t.preventDefault(),t.stopPropagation(),!1;t.stopPropagation=I;var r={dom:document};Object.defineProperty(t,"currentTarget",{configurable:!0,get:function(){return r.dom}}),function(e,t,n,o,r){var i=t;for(;!f(i);){if(n&&i.disabled)return;var a=i.$EV;if(a){var u=a[o];if(u&&(r.dom=i,u.event?u.event(u.data,e):u(e),e.cancelBubble))return}i=i.parentNode}}(t,t.target,o,e,r)};return document.addEventListener(D(e),t),t}(e),A[e]=0),r||(r=n.$EV={}),r[e]||A[e]++,r[e]=t):r&&r[e]&&(A[e]--,1===o&&(document.removeEventListener(D(e),R[e]),R[e]=null),r[e]=t)}function D(e){return e.substr(2).toLowerCase()}function I(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function B(e,t){var n=document.createElement("i");return n.innerHTML=t,n.innerHTML===e.innerHTML}function L(e,t,n){if(e[t]){var o=e[t];o.event?o.event(o.data,n):o(n)}else{var r=t.toLowerCase();e[r]&&e[r](n)}}function $(e,t){var n=function(n){n.stopPropagation();var o=this.$V;if(o){var r=o.props||S,i=o.dom;if(l(e))L(r,e,n);else for(var a=0;a<e.length;a++)L(r,e[a],n);if(c(t)){var u=this.$V,s=u.props||S;t(s,i,!1,u)}}};return Object.defineProperty(n,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),n}function F(e){return"checkbox"===e||"radio"===e}var U=$("onInput",W),z=$(["onClick","onChange"],W);function q(e){e.stopPropagation()}function W(e,t){var n=e.type,o=e.value,r=e.checked,i=e.multiple,a=e.defaultValue,s=!u(o);n&&n!==t.type&&t.setAttribute("type",n),u(i)||i===t.multiple||(t.multiple=i),u(a)||s||(t.defaultValue=a+""),F(n)?(s&&(t.value=o),u(r)||(t.checked=r)):s&&t.value!==o?(t.defaultValue=o,t.value=o):u(r)||(t.checked=r)}function G(e,t){if("optgroup"===e.type){var n=e.children,o=e.childFlags;if(12&o)for(var r=0,i=n.length;r<i;r++)H(n[r],t);else 2===o&&H(n,t)}else H(e,t)}function H(e,t){var n=e.props||S,o=e.dom;o.value=n.value,i(t)&&-1!==t.indexOf(n.value)||n.value===t?o.selected=!0:u(t)&&u(n.selected)||(o.selected=n.selected||!1)}q.wrapped=!0;var K=$("onChange",X);function X(e,t,n,o){var r=Boolean(e.multiple);u(e.multiple)||r===t.multiple||(t.multiple=r);var i=o.childFlags;if(0==(1&i)){var a=o.children,s=e.value;if(n&&u(s)&&(s=e.defaultValue),12&i)for(var c=0,l=a.length;c<l;c++)G(a[c],s);else 2===i&&G(a,s)}}var Y=$("onInput",Z),J=$("onChange");function Z(e,t,n){var o=e.value,r=t.value;if(u(o)){if(n){var i=e.defaultValue;u(i)||i===r||(t.defaultValue=i,t.value=i)}}else r!==o&&(t.defaultValue=o,t.value=o)}function Q(e,t,n,o,r,i){64&e?W(o,n):256&e?X(o,n,r,t):128&e&&Z(o,n,r),i&&(n.$V=t)}function ee(e,t,n){64&e?function(e,t){F(t.type)?(e.onchange=z,e.onclick=q):e.oninput=U}(t,n):256&e?function(e){e.onchange=K}(t):128&e&&function(e,t){e.oninput=Y,t.onChange&&(e.onchange=J)}(t,n)}function te(e){return e.type&&F(e.type)?!u(e.checked):!u(e.value)}function ne(e,t){oe(e),f(t)||(!function(e,t){e.removeChild(t)}(t,e.dom),e.dom=null)}function oe(e){var t,n=e.flags;if(481&n){var r=e.ref,i=e.props;c(r)&&r(null);var a=e.children,s=e.childFlags;if(12&s?re(a):2===s&&oe(a),!f(i))for(var l in i)switch(l){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":V(l,null,e.dom)}}else if(14&n){var d=e.children,p=e.ref;4&n?(c(O.beforeUnmount)&&O.beforeUnmount(e),c(d.componentWillUnmount)&&d.componentWillUnmount(),c(p)&&p(null),d.$UN=!0,oe(d.$LI)):(!u(p)&&c(p.onComponentWillUnmount)&&p.onComponentWillUnmount(e.dom,e.props||S),oe(d))}else if(1024&n){var h=e.children;f(h)||"object"!==(void 0===(t=h)?"undefined":o(t))||ne(h,e.type)}}function re(e){for(var t=0,n=e.length;t<n;t++)oe(e[t])}function ie(e,t){re(t),e.textContent=""}function ae(e,t){switch(e){case"animationIterationCount":case"borderImageOutset":case"borderImageSlice":case"borderImageWidth":case"boxFlex":case"boxFlexGroup":case"boxOrdinalGroup":case"columnCount":case"fillOpacity":case"flex":case"flexGrow":case"flexNegative":case"flexOrder":case"flexPositive":case"flexShrink":case"floodOpacity":case"fontWeight":case"gridColumn":case"gridRow":case"lineClamp":case"lineHeight":case"opacity":case"order":case"orphans":case"stopOpacity":case"strokeDasharray":case"strokeDashoffset":case"strokeMiterlimit":case"strokeOpacity":case"strokeWidth":case"tabSize":case"widows":case"zIndex":case"zoom":return t;default:return t+"px"}}function ue(e,t,n,o,r,i,a){switch(e){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":V(e,n,o);break;case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":return;case"allowfullscreen":case"autoFocus":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":o[e="autoFocus"===e?e.toLowerCase():e]=!!n;break;case"defaultChecked":case"value":case"volume":if(i&&"value"===e)return;var s=u(n)?"":n;o[e]!==s&&(o[e]=s);break;case"dangerouslySetInnerHTML":var p=t&&t.__html||"",h=n&&n.__html||"";p!==h&&(u(h)||B(o,h)||(f(a)||(12&a.childFlags?re(a.children):2===a.childFlags&&oe(a.children),a.children=null,a.childFlags=1),o.innerHTML=h));break;default:"o"===e[0]&&"n"===e[1]?function(e,t,n,o){var r=e.toLowerCase();if(c(n)||u(n)){var i=o[r];i&&i.wrapped||(o[r]=n)}else{var a=n.event;a&&c(a)&&(o[r]=function(e,t){return function(n){e(t.data,n)}}(a,n))}}(e,0,n,o):u(n)?o.removeAttribute(e):"style"===e?function(e,t,n){var o,r,i=n.style;if(l(t))i.cssText=t;else if(u(e)||l(e))for(o in t)r=t[o],i[o]=d(r)?ae(o,r):r;else{for(o in t)(r=t[o])!==e[o]&&(i[o]=d(r)?ae(o,r):r);for(o in e)u(t[o])&&(i[o]="")}}(t,n,o):r&&j[e]?o.setAttributeNS(j[e],e,n):o.setAttribute(e,n)}}function se(e,t,n,o,r){var i=!1,a=(448&t)>0;for(var u in a&&(i=te(n))&&ee(t,o,n),n)ue(u,null,n[u],o,r,i,null);a&&Q(t,e,o,n,!0,i)}function ce(e,t,n,o){var r=new t(n,o);if(e.children=r,r.$V=e,r.$BS=!1,r.context=o,r.props===S&&(r.props=n),r.$UN=!1,c(r.componentWillMount)){if(r.$BR=!0,r.componentWillMount(),r.$PSS){var i=r.state,a=r.$PS;if(f(i))r.state=a;else for(var s in a)i[s]=a[s];r.$PSS=!1,r.$PS=null}r.$BR=!1}c(O.beforeRender)&&O.beforeRender(r);var l,d=le(r.render(n,r.state,o),e);return c(r.getChildContext)&&(l=r.getChildContext()),u(l)?r.$CX=o:r.$CX=h(o,l),c(O.afterRender)&&O.afterRender(r),r.$LI=d,r}function le(e,t){return s(e)?e=_():a(e)?e=g(e,null):(e.dom&&(e=b(e)),14&e.flags&&(e.parentVNode=t)),e}function de(e,t,n,o,r){var i=e.flags;return 481&i?pe(e,t,n,o,r):14&i?function(e,t,n,o,r,i){var a,u=e.type,s=e.props||S,c=e.ref;if(i){var l=ce(e,u,s,o);e.dom=a=de(l.$LI,null,n,l.$CX,r),ye(e,c,l,n),l.$UPD=!1}else{var d=le(u(s,o),e);e.children=d,e.dom=a=de(d,null,n,o,r),ve(s,c,a,n)}f(t)||k(t,a);return a}(e,t,n,o,r,(4&i)>0):512&i||16&i?fe(e,t):1024&i?(de(e.children,e.type,n,o,!1),e.dom=fe(_(),t)):void 0}function fe(e,t){var n=e.dom=document.createTextNode(e.children);return f(t)||k(t,n),n}function pe(e,t,n,o,r){var i=e.flags,a=e.children,s=e.props,l=e.className,d=e.ref,p=e.childFlags;r=r||(32&i)>0;var h=function(e,t){return!0===t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}(e.type,r);if(e.dom=h,u(l)||""===l||(r?h.setAttribute("class",l):h.className=l),f(t)||k(t,h),0==(1&p)){var y=!0===r&&"foreignObject"!==e.type;2===p?de(a,h,n,o,y):12&p&&he(a,h,n,o,y)}return f(s)||se(e,i,s,h,r),c(d)&&me(h,d,n),h}function he(e,t,n,o,r){for(var i=0,a=e.length;i<a;i++){var u=e[i];f(u.dom)||(e[i]=u=b(u)),de(u,t,n,o,r)}}function ye(e,t,n,o){c(t)&&t(n);var r=c(n.componentDidMount),i=O.afterMount,a=c(i);(r||a)&&o.push(function(e,t,n,o,r){return function(){e.$UPD=!0,t&&n(o),r&&e.componentDidMount(),e.$UPD=!1}}(n,a,i,e,r))}function ve(e,t,n,o){u(t)||(c(t.onComponentWillMount)&&t.onComponentWillMount(e),c(t.onComponentDidMount)&&o.push(function(e,t,n){return function(){return e.onComponentDidMount(t,n)}}(t,n,e)))}function me(e,t,n){n.push((function(){return t(e)}))}function ge(e,t,n,o,r){var i=e.children,a=e.props,s=e.className,l=e.flags,d=e.ref;if(r=r||(32&l)>0,1!==t.nodeType||t.tagName.toLowerCase()!==e.type){var p=pe(e,null,n,o,r);e.dom=p,T(t.parentNode,p,t)}else{e.dom=t;var h=t.firstChild,y=e.childFlags;if(0==(1&y)){for(var v=null;h;)v=h.nextSibling,8===h.nodeType&&("!"===h.data?t.replaceChild(document.createTextNode(""),h):t.removeChild(h)),h=v;if(h=t.firstChild,2===y)f(h)?de(i,t,n,o,r):(v=h.nextSibling,be(i,h,n,o,r),h=v);else if(12&y)for(var m=0,g=i.length;m<g;m++){var b=i[m];f(h)?de(b,t,n,o,r):(v=h.nextSibling,be(b,h,n,o,r),h=v)}for(;h;)v=h.nextSibling,t.removeChild(h),h=v}else f(t.firstChild)||function(e,t){return Boolean(t&&t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html&&B(e,t.dangerouslySetInnerHTML.__html))}(t,a)||(t.textContent="",448&l&&(t.defaultValue=""));f(a)||se(e,l,a,t,r),u(s)?""!==t.className&&t.removeAttribute("class"):r?t.setAttribute("class",s):t.className=s,c(d)&&me(t,d,n)}}function be(e,t,n,o,r){var i=e.flags;14&i?function(e,t,n,o,r,i){var a=e.type,u=e.ref,s=e.props||S;if(i){var c=ce(e,a,s,o),l=c.$LI;be(l,t,n,c.$CX,r),e.dom=l.dom,ye(e,u,c,n),c.$UPD=!1}else{var d=le(a(s,o),e);be(d,t,n,o,r),e.children=d,e.dom=d.dom,ve(s,u,t,n)}}(e,t,n,o,r,(4&i)>0):481&i?ge(e,t,n,o,r):16&i?function(e,t){if(3!==t.nodeType){var n=fe(e,null);e.dom=n,T(t.parentNode,n,t)}else{var o=e.children;t.nodeValue!==o&&(t.nodeValue=o),e.dom=t}}(e,t):512&i?e.dom=t:function(e){throw e||(e="a runtime error occured! Use Inferno in development environment to find the error."),new Error("Inferno Error: "+e)}()}function _e(e,t,n){var o=t.firstChild;if(!f(o))for(s(e)||be(e,o,P,S,!1),o=t.firstChild;o=o.nextSibling;)t.removeChild(o);P.length>0&&N(P),t.$V||O.roots.push(t),t.$V=e,c(n)&&n()}function we(e,t,n,o,r,i){oe(e),T(n,de(t,null,o,r,i),e.dom)}function xe(e,t,n,o,r,i){if(e!==t){var a=0|t.flags;e.flags!==a||2048&a?we(e,t,n,o,r,i):481&a?function(e,t,n,o,r,i){var a=t.type;if(e.type!==a)we(e,t,n,o,r,i);else{var s,l=e.dom,d=t.flags,f=e.props,p=t.props,h=!1,y=!1;if(t.dom=l,i=i||(32&d)>0,f!==p){var v=f||S;if((s=p||S)!==S)for(var m in(h=(448&d)>0)&&(y=te(s)),s){var g=v[m],b=s[m];g!==b&&ue(m,g,b,l,i,y,e)}if(v!==S)for(var _ in v)s.hasOwnProperty(_)||u(v[_])||ue(_,v[_],null,l,i,y,e)}var w=e.children,x=t.children,O=t.ref,E=e.className,C=t.className;w!==x&&Oe(e.childFlags,t.childFlags,w,x,l,o,r,i&&"foreignObject"!==a),h&&Q(d,t,l,s,!1,y),E!==C&&(u(C)?l.removeAttribute("class"):i?l.setAttribute("class",C):l.className=C),c(O)&&e.ref!==O&&me(l,O,o)}}(e,t,n,o,r,i):14&a?function(e,t,n,o,r,i,a){var s=t.type,l=e.key,d=t.key;if(e.type!==s||l!==d)we(e,t,n,o,r,i);else{var f=t.props||S;if(a){var p=e.children;p.$UPD=!0,Ee(p,p.state,t,f,n,o,r,i,!1,!1),p.$V=t,p.$UPD=!1}else{var h=!0,y=e.props,v=t.ref,m=!u(v),g=e.children;if(t.dom=e.dom,t.children=g,m&&c(v.onComponentShouldUpdate)&&(h=v.onComponentShouldUpdate(y,f)),!1!==h){m&&c(v.onComponentWillUpdate)&&v.onComponentWillUpdate(y,f);var b=s(f,r);"$NO_OP"!==b&&(b=le(b,t),xe(g,b,n,o,r,i),t.children=b,t.dom=b.dom,m&&c(v.onComponentDidUpdate)&&v.onComponentDidUpdate(y,f))}else 14&g.flags&&(g.parentVNode=t)}}}(e,t,n,o,r,i,(4&a)>0):16&a?function(e,t,n){var o,r=t.children;f(n.firstChild)?(n.textContent=r,o=n.firstChild):(o=e.dom,r!==e.children&&(o.nodeValue=r));t.dom=o}(e,t,n):512&a?t.dom=e.dom:function(e,t,n,o){var r=e.type,i=t.type,a=t.children;if(Oe(e.childFlags,t.childFlags,e.children,a,r,n,o,!1),t.dom=e.dom,r!==i&&!s(a)){var u=a.dom;r.removeChild(u),i.appendChild(u)}}(e,t,o,r)}}function Oe(e,t,n,o,r,i,a,u){switch(e){case 2:switch(t){case 2:xe(n,o,r,i,a,u);break;case 1:ne(n,r);break;default:ne(n,r),he(o,r,i,a,u)}break;case 1:switch(t){case 2:de(o,r,i,a,u);break;case 1:break;default:he(o,r,i,a,u)}break;default:if(12&t){var s=n.length,c=o.length;0===s?c>0&&he(o,r,i,a,u):0===c?ie(r,n):8===t&&8===e?function(e,t,n,o,r,i,a,u){var s,c,l,d,f=a-1,p=u-1,h=0,y=0,v=e[h],m=t[y];e:{for(;v.key===m.key;){if(m.dom&&(t[y]=m=b(m)),xe(v,m,n,o,r,i),h++,y++,h>f||y>p)break e;v=e[h],m=t[y]}for(v=e[f],m=t[p];v.key===m.key;){if(m.dom&&(t[p]=m=b(m)),xe(v,m,n,o,r,i),f--,p--,h>f||y>p)break e;v=e[f],m=t[p]}}if(h>f){if(y<=p)for(l=(d=p+1)<u?t[d].dom:null;y<=p;)(m=t[y]).dom&&(t[y]=m=b(m)),y++,M(n,de(m,null,o,r,i),l)}else if(y>p)for(;h<=f;)ne(e[h++],n);else{var g=f-h+1,_=p-y+1,w=[];for(s=0;s<_;s++)w.push(0);var x=g===a,O=!1,E=0,C=0;if(u<4||(g|_)<32)for(s=h;s<=f;s++)if(v=e[s],C<_){for(c=y;c<=p;c++)if(m=t[c],v.key===m.key){if(w[c-y]=s+1,x)for(x=!1;s>h;)ne(e[h++],n);E>c?O=!0:E=c,m.dom&&(t[c]=m=b(m)),xe(v,m,n,o,r,i),C++;break}!x&&c>p&&ne(v,n)}else x||ne(v,n);else{var j={};for(s=y;s<=p;s++)j[t[s].key]=s;for(s=h;s<=f;s++)if(v=e[s],C<_)if(void 0!==(c=j[v.key])){if(x)for(x=!1;s>h;)ne(e[h++],n);m=t[c],w[c-y]=s+1,E>c?O=!0:E=c,m.dom&&(t[c]=m=b(m)),xe(v,m,n,o,r,i),C++}else x||ne(v,n);else x||ne(v,n)}if(x)ie(n,e),he(t,n,o,r,i);else if(O){var S=function(e){var t,n,o,r,i,a=e.slice(),u=[0],s=e.length;for(t=0;t<s;t++){var c=e[t];if(0!==c){if(n=u[u.length-1],e[n]<c){a[t]=n,u.push(t);continue}for(o=0,r=u.length-1;o<r;)e[u[i=(o+r)/2|0]]<c?o=i+1:r=i;c<e[u[o]]&&(o>0&&(a[t]=u[o-1]),u[o]=t)}}o=u.length,r=u[o-1];for(;o-- >0;)u[o]=r,r=a[r];return u}(w);for(c=S.length-1,s=_-1;s>=0;s--)0===w[s]?((m=t[E=s+y]).dom&&(t[E]=m=b(m)),d=E+1,M(n,de(m,null,o,r,i),d<u?t[d].dom:null)):c<0||s!==S[c]?(m=t[E=s+y],d=E+1,M(n,m.dom,d<u?t[d].dom:null)):c--}else if(C!==_)for(s=_-1;s>=0;s--)0===w[s]&&((m=t[E=s+y]).dom&&(t[E]=m=b(m)),d=E+1,M(n,de(m,null,o,r,i),d<u?t[d].dom:null))}}(n,o,r,i,a,u,s,c):function(e,t,n,o,r,i,a,u){for(var s,c=a>u?u:a,l=0;l<c;l++)(s=t[l]).dom&&(s=t[l]=b(s)),xe(e[l],s,n,o,r,i);if(a<u)for(l=c;l<u;l++)(s=t[l]).dom&&(s=t[l]=b(s)),de(s,n,o,r,i);else if(a>u)for(l=c;l<a;l++)ne(e[l],n)}(n,o,r,i,a,u,s,c)}else 1===t?ie(r,n):(ie(r,n),de(o,r,i,a,u))}}function Ee(e,t,n,o,r,i,a,s,l,d){var f,p=e.state,y=e.props;if(n.children=e,!e.$UN){if(y!==o||o===S){if(!d&&c(e.componentWillReceiveProps)){if(e.$BR=!0,e.componentWillReceiveProps(o,a),e.$UN)return;e.$BR=!1}e.$PSS&&(t=h(t,e.$PS),e.$PSS=!1,e.$PS=null)}var v=c(e.shouldComponentUpdate);if(l||!v||v&&e.shouldComponentUpdate(o,t,a)){c(e.componentWillUpdate)&&(e.$BS=!0,e.componentWillUpdate(o,t,a),e.$BS=!1),e.props=o,e.state=t,e.context=a,c(O.beforeRender)&&O.beforeRender(e),f=e.render(o,t,a),c(O.afterRender)&&O.afterRender(e);var m,g="$NO_OP"!==f;if(c(e.getChildContext)&&(m=e.getChildContext()),m=u(m)?a:h(a,m),e.$CX=m,g)xe(e.$LI,e.$LI=le(f,n),r,i,m,s),c(e.componentDidUpdate)&&e.componentDidUpdate(y,p),c(O.afterUpdate)&&O.afterUpdate(n)}else e.props=o,e.state=t,e.context=a;n.dom=e.$LI.dom}}var Ce=O.roots;r&&document.body;function je(e,t,n){if("$NO_OP"!==e){var o,r,i=Ce.length;for(r=0;r<i;r++)if(Ce[r]===t){o=t.$V;break}return p(o)?s(e)||(e.dom&&(e=b(e)),f(t.firstChild)?(de(e,t,P,S,!1),t.$V=e,Ce.push(t)):_e(e,t),o=e):u(e)?(ne(o,t),Ce.splice(r,1)):(e.dom&&(e=b(e)),xe(o,e,t,P,S,!1),o=t.$V=e),P.length>0&&N(P),c(n)&&n(),o&&14&o.flags?o.children:void 0}}var Se="undefined"==typeof Promise?null:Promise.resolve(),Pe="undefined"==typeof requestAnimationFrame?setTimeout:requestAnimationFrame.bind(window);function ke(e,t,n){c(t)&&(t=t(e.state,e.props,e.context));var o,r=e.$PS;if(u(r))e.$PS=t;else for(var i in t)r[i]=t[i];if(e.$PSS||e.$BR)e.$PSS=!0,e.$BR&&c(n)&&P.push(n.bind(e));else if(e.$UPD){var a=e.$QU;f(a)&&(a=e.$QU=[],o=function(e,t){return function(){e.$QU=null,e.$UPD=!0,Me(e,!1,(function(){for(var n=0,o=t.length;n<o;n++)t[n].call(e)})),e.$UPD=!1}}(e,a),Se?Se.then(o):Pe(o)),c(n)&&a.push(n)}else e.$PSS=!0,e.$UPD=!0,Me(e,!1,n),e.$UPD=!1}function Me(e,t,n){if(!e.$UN){if(t||!e.$BR){e.$PSS=!1;var o=e.$PS,r=h(e.state,o),i=e.props,a=e.context;e.$PS=null;var u=e.$V,s=e.$LI;if(Ee(e,r,u,i,s.dom&&s.dom.parentNode,P,a,(32&u.flags)>0,t,!0),e.$UN)return;if(0==(1024&e.$LI.flags))for(var l=e.$LI.dom;!f(u=u.parentVNode);)(14&u.flags)>0&&(u.dom=l);P.length>0&&N(P)}else e.state=e.$PS,e.$PS=null;c(n)&&n.call(e)}}var Te=function(e,t){this.state=null,this.$BR=!1,this.$BS=!0,this.$PSS=!1,this.$PS=null,this.$LI=null,this.$V=null,this.$UN=!1,this.$CX=null,this.$UPD=!0,this.$QU=null,this.props=e||S,this.context=t||S};Te.prototype.forceUpdate=function(e){this.$UN||Me(this,!0,e)},Te.prototype.setState=function(e,t){this.$UN||this.$BS||ke(this,e,t)},Te.prototype.render=function(e,t,n){},Te.defaultProps=null;var Ne=Object.freeze({});t.Component=Te,t.EMPTY_OBJ=S,t.NO_OP="$NO_OP",t.createComponentVNode=m,t.createPortal=function(e,t){return v(1024,t,null,e,0,null,s(e)?null:e.key,null)},t.createRenderer=function(e){return function(t,n){e||(e=t),je(n,e)}},t.createTextVNode=g,t.createVNode=v,t.directClone=b,t.getFlagsForElementVnode=function(e){return"svg"===e?32:"input"===e?64:"select"===e?256:"textarea"===e?128:1},t.getNumberStyleValue=ae,t.hydrate=_e,t.linkEvent=function(e,t){return c(t)?{data:e,event:t}:null},t.normalizeProps=function(e){var t=e.props;if(t){var n=e.flags;481&n&&(void 0!==t.children&&u(e.children)&&x(e,t.children),void 0!==t.className&&(e.className=t.className||null,t.className=void 0)),void 0!==t.key&&(e.key=t.key,t.key=void 0),void 0!==t.ref&&(e.ref=8&n?h(e.ref,t.ref):t.ref,t.ref=void 0)}return e},t.options=O,t.render=je,t.version="5.0.6",t.JSX=Ne},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n._injector=e.injector;return n._sheet=r.get("sheet"),n._changeSupport=r.get("changeSupport"),n._components=r.get("components"),n.onElementsChanged=n.onElementsChanged.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"onElementsChanged",value:function(){this.forceUpdate()}},{key:"getChildContext",value:function(){return{changeSupport:this._changeSupport,components:this._components,injector:this._injector}}},{key:"componentWillMount",value:function(){var e=this._sheet.getRoot().id;this._changeSupport.onElementsChanged(e,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var e=this._sheet.getRoot().id;this._changeSupport.offElementsChanged(e,this.onElementsChanged)}},{key:"render",value:function(){var e=this._sheet.getRoot(),t=e.rows,n=e.cols,o=this._components.getComponents("table.before"),i=this._components.getComponents("table.after"),a=this._components.getComponent("table.head"),u=this._components.getComponent("table.body"),s=this._components.getComponent("table.foot");return(0,r.createVNode)(1,"div","tjs-container",[o&&o.map((function(e,t){return(0,r.createComponentVNode)(2,e,null,t)})),(0,r.createVNode)(1,"table","tjs-table",[a&&(0,r.createComponentVNode)(2,a,{rows:t,cols:n}),u&&(0,r.createComponentVNode)(2,u,{rows:t,cols:n}),s&&(0,r.createComponentVNode)(2,s,{rows:t,cols:n})],0),i&&i.map((function(e,t){return(0,r.createComponentVNode)(2,e,null,t)}))],0)}}]),t}(r.Component);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._elementRegistry=t,this._eventBus=n,this._root=null,n.on("table.clear",(function(){o.setRoot(null)}))}return o(e,[{key:"setRoot",value:function(e){if(this._root){var t=this._root;this._eventBus.fire("root.remove",{root:t}),this._root=null,this._eventBus.fire("root.removed",{root:t})}e&&this._eventBus.fire("root.add",{root:e}),this._root=e,e&&this._eventBus.fire("root.added",{root:e})}},{key:"getRoot",value:function(){return this._root||this.setRoot({id:"__implicitroot",rows:[],cols:[]}),this._root}},{key:"addRow",value:function(e,t){var n=this,o=this.getRoot();if(o.cols.length!=e.cells.length)throw new Error("number of cells is not equal to number of cols");return void 0===t&&(t=o.rows.length),i(t,o.rows,e),e.root=o,this._elementRegistry.add(e),e.cells.forEach((function(r,a){n._elementRegistry.add(r),r.row=e,r.col=o.cols[a],i(t,o.cols[a].cells,r)})),this._eventBus.fire("row.add",{row:e}),e}},{key:"removeRow",value:function(e){var t=this,n=this.getRoot();"string"==typeof e&&(e=this._elementRegistry.get(e));var o=n.rows.indexOf(e);-1!==o&&(a(o,n.rows),e.root=void 0,this._elementRegistry.remove(e),e.cells.forEach((function(e,r){t._elementRegistry.remove(e),e.col=void 0,a(o,n.cols[r].cells)})),this._eventBus.fire("row.remove",{row:e}))}},{key:"addCol",value:function(e,t){var n=this,o=this.getRoot();if(this._elementRegistry.add(e),o.rows.length!=e.cells.length)throw new Error("number of cells is not equal to number of rows");return void 0===t&&(t=o.cols.length),i(t,o.cols,e),e.root=o,e.cells.forEach((function(r,a){n._elementRegistry.add(r),r.col=e,r.row=o.rows[a],i(t,o.rows[a].cells,r)})),this._eventBus.fire("col.add",{col:e}),e}},{key:"removeCol",value:function(e){var t=this,n=this.getRoot();"string"==typeof e&&(e=this._elementRegistry.get(e));var o=n.cols.indexOf(e);-1!==o&&(a(o,n.cols),e.root=void 0,this._elementRegistry.remove(e),e.cells.forEach((function(e,r){t._elementRegistry.remove(e),e.row=void 0,a(o,n.rows[r].cells)})),this._eventBus.fire("col.remove",{col:e}))}},{key:"resized",value:function(){this._eventBus.fire("sheet.resized")}}]),e}();function i(e,t,n){return t.splice(e,0,n)}function a(e,t){return t.splice(e,1)}t.default=r,r.$inject=["elementRegistry","eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.importDecision=function(e,t,n){var o=e.get("tableImporter"),r=e.get("eventBus"),a=e.get("sheet"),u=e.get("modeling",!1),s=void 0,c=[];r.fire("import.render.start",{decision:t});try{!function(e){var t={create:function(e,t,n,r){return o.create(e,t,n,r)},table:function(e){return o.add(e)},element:function(e,t,n){return o.add(e,t,n)},error:function(e,t){c.push({message:e,context:t})}};new i.default(t,{canAddMissingEntries:u}).handleDecision(e)}(t)}catch(e){s=e}r.fire("import.render.complete",{error:s,warnings:c}),r.fire("elements.changed",{elements:[a.getRoot()]}),n(s,c)};var o,r=n(351),i=(o=r)&&o.__esModule?o:{default:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){function n(t,n,o){if(t.gfx)throw new Error("already rendered "+(0,r.elementToString)(t));return e.element(t,n,o)}function i(e,t,r){(0,o.forEach)(e,(function(e){n(e,t,r)}))}function a(e,t,r){(0,o.forEach)(e,(function(e){n(e,t,r)}))}return{handleDecision:function(t){t.id||(t.id="decision");var u=t.decisionTable;if(!u)throw new Error("no table for "+(0,r.elementToString)(t));if(!u.output)throw new Error("missing output for "+(0,r.elementToString)(u));var s,c,l,d,f=(d=u,e.table(d));u.input&&i(u.input,f,u),i(u.output,f,u),s=u.rule,c=f,l=u,(0,o.forEach)(s,(function(e){n(e,c,l),a(e.inputEntry,e),a(e.outputEntry,e)}))}}};var o=n(0),r=n(352)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementToString=function(e){if(!e)return"<null>";var t=e.id?' id="'+e.id+'"':"";return"<"+e.$type+t+" />"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(354),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["annotationsProvider"],annotationsProvider:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=i(n(99)),r=i(n(355));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){e.onGetComponent("cell",(function(e){var t=e.cellType;return"after-label-cells"===t?o.default:"after-rule-cells"===t?r.default:void 0}))}a.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.row.businessObject,n=t.id,i=t.description;return(0,o.createComponentVNode)(2,r.Cell,{className:"annotation",elementId:n+"__annotation",children:i||"-"})};var o=n(1),r=n(7)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(100),u=(o=a)&&o.__esModule?o:{default:o};var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.state={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"render",value:function(){var e=this.props.children,t=this.getRenderProps("cell");return(0,i.normalizeProps)((0,i.createVNode)(1,"td",null,e,0,s({},t)))}}]),t}(u.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){for(var e={elements:[],index:{}},t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach((function(t){var n=void 0===t?"undefined":r(t);"string"===n&&t.length>0?e=u(e,t):"object"===n&&null!==t&&Object.keys(t).forEach((function(n){t[n]&&(e=u(e,n))}))})),s(e," ")};var r="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t){var n,o,r,u=e.elements,s=e.index;return s[t]?e:{elements:[].concat(a(u),[t]),index:i({},s,(n={},o=t,r=!0,o in n?Object.defineProperty(n,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[o]=r,n))}}function s(e,t){return e.elements.join(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Object.keys(t).forEach((function(n){if("$inject"!==n&&"__init"!==n){var o=t[n];"constructor"===n&&o.call(e,e.props,e.context);var r=e[n];if(void 0!==r){if("function"!=typeof r)throw new Error("failed to mixin <"+n+">: cannot combine with non-fn component value");e[n]=(0,i.default)(e,r,o)}else e[n]=o.bind(e)}})),"$inject"in t&&(0,a.injectType)(t,e);"__init"in t&&t.__init.call(e,e.props,e.context)};var o,r=n(102),i=(o=r)&&o.__esModule?o:{default:o},a=n(101)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(54),r={getSelectionClasses:function(){var e=this.state,t=e.selected,n=e.selectedSecondary,r=e.focussed;return(0,o.classNames)({selected:t,"selected-secondary":n,focussed:r})},selectionChanged:function(e){this.setState(e)},componentWillUpdate:function(e){e.elementId!==this.props.elementId&&this.updateSelectionSubscription(!1)},componentDidUpdate:function(e){e.elementId!==this.props.elementId&&this.updateSelectionSubscription(!0)},componentDidMount:function(){this.updateSelectionSubscription(!0)},componentWillUnmount:function(){this.updateSelectionSubscription(!1)},updateSelectionSubscription:function(e){var t=this.props.elementId;t&&t&&this.eventBus[e?"on":"off"]("selection."+t+".changed",this.selectionChanged)}};t.default=r,r.$inject=["eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}var s=function(e){function t(){return a(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getChildContext",value:function(){return{injector:this.props.injector}}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(100),u=(o=a)&&o.__esModule?o:{default:o};var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.state={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"render",value:function(){var e=this.props.children,t=this.getRenderProps("cell","header-cell");return(0,i.normalizeProps)((0,i.createVNode)(1,"th",null,e,0,s({},t)))}}]),t}(u.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(363)),r=i(n(98));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(364),i=(o=r)&&o.__esModule?o:{default:o};t.default={tableImporter:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(3),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t){return(0,o.assign)({id:e.id,type:e.$type,businessObject:e},t)}var s=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._elementFactory=t,this._eventBus=n,this._sheet=o}return i(e,[{key:"add",value:function(e){var t=this,n=void 0;if((0,r.is)(e,"dmn:DecisionTable"))n=this._elementFactory.createRoot(u(e)),this._sheet.setRoot(n);else if((0,r.is)(e,"dmn:InputClause"))n=this._elementFactory.createCol(u(e)),this._sheet.addCol(n);else if((0,r.is)(e,"dmn:OutputClause"))n=this._elementFactory.createCol(u(e)),this._sheet.addCol(n);else if((0,r.is)(e,"dmn:DecisionRule")){e.inputEntry||(e.inputEntry=[]),e.outputEntry||(e.outputEntry=[]);var i=[].concat(a(e.inputEntry),a(e.outputEntry)).map((function(e){return t._elementFactory.createCell(u(e))}));n=this._elementFactory.createRow((0,o.assign)(u(e),{cells:i})),this._sheet.addRow(n)}return this._eventBus.fire("dmnElement.added",{element:n}),n}}]),e}();t.default=s,s.$inject=["elementFactory","eventBus","sheet"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(366),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["decisionTableHeadProvider"],decisionTableHeadProvider:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o,r=n(367),i=(o=r)&&o.__esModule?o:{default:o};function a(e){e.onGetComponent("table.head",(function(){return i.default}))}a.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(3),a=n(7),u=n(38),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(e,n){c(this,t);var o=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.onElementsChanged=function(){o.forceUpdate()},(0,a.mixin)(o,u.ComponentWithSlots),o._sheet=n.injector.get("sheet"),o._changeSupport=n.changeSupport,o}return d(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this._sheet.getRoot();this._changeSupport.onElementsChanged(e.id,this.onElementsChanged)}},{key:"componentWillUnmout",value:function(){var e=this._sheet.getRoot();this._changeSupport.offElementsChanged(e.id,this.onElementsChanged)}},{key:"render",value:function(e){var t=this,n=this._sheet.getRoot();if(!(0,i.is)(n,"dmn:DMNElement"))return null;var o=(0,i.getBusinessObject)(n),a=o.input,u=o.output;return(0,r.createVNode)(1,"thead",null,[(0,r.createVNode)(1,"tr",null,[this.slotFills({type:"cell",context:{cellType:"before-label-cells"}}),this.slotFill({type:"cell",context:{cellType:"input-label"}},h),this.slotFill({type:"cell",context:{cellType:"output-label"}},v),this.slotFills({type:"cell",context:{cellType:"after-label-cells"}})],0),(0,r.createVNode)(1,"tr",null,[a&&a.map((function(e){return t.slotFill({type:"cell",context:{cellType:"input-header",input:e},key:e.id},p)})),u.map((function(e){return t.slotFill({type:"cell",context:{cellType:"output-header",output:e},key:e.id},y)}))],0),(0,r.createVNode)(1,"tr",null,[a&&a.map((function(e,n){var o=e.inputExpression;return t.slotFill({type:"cell",context:{cellType:"input-header-type-ref",element:o},className:"input-cell",key:e.id},m)})),u.map((function(e){return t.slotFill({type:"cell",context:{cellType:"output-header-type-ref",element:e},className:"output-cell",key:e.id},m)}))],0)],4)}}]),t}(r.Component);function p(e){var t=e.input,n=e.className,o=t.label,i=t.inputExpression,a=(n||"")+" input-cell";return(0,r.createVNode)(1,"th",a,o?(0,r.createVNode)(1,"span","input-label",o,0,{title:"Input Label"}):(0,r.createVNode)(1,"span","input-expression",i.text||"-",0,{title:"Input Expression"}),0,{"data-col-id":t.id},t.id)}t.default=f;var h=function(e){function t(e,n){c(this,t);var o=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o._sheet=n.injector.get("sheet"),o}return d(t,e),s(t,[{key:"render",value:function(){var e=this._sheet.getRoot().businessObject,t=e.input;if(!t||!t.length)return null;var n=e.input.length;return(0,r.createVNode)(1,"th","input-cell inputs-label header",(0,r.createTextVNode)("Input"),2,{colspan:n})}}]),t}(r.Component);function y(e){var t=e.output,n=e.className,o=t.label,i=t.name,a=(n||"")+" output-cell";return(0,r.createVNode)(1,"th",a,o?(0,r.createVNode)(1,"span","output-label",o,0,{title:"Output Label"}):(0,r.createVNode)(1,"span","output-name",i||"-",0,{title:"Output Name"}),0,null,t.id)}var v=function(e){function t(e,n){c(this,t);var o=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o._sheet=n.injector.get("sheet"),o}return d(t,e),s(t,[{key:"render",value:function(){var e=this._sheet.getRoot().businessObject.output.length;return(0,r.createVNode)(1,"th","output-cell outputs-label header",(0,r.createTextVNode)("Output"),2,{colspan:e})}}]),t}(r.Component);function m(e){var t=e.className,n=e.element,o=t+" type-ref";return(0,r.createVNode)(1,"th",o,n.typeRef,0,{title:"Data Type"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function i(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}var a={slotFill:function(e,t){var n=e.type,a=e.context,u=i(e,["type","context"]),s=this.components.getComponent(n,a)||t;return s?(0,o.normalizeProps)((0,o.createComponentVNode)(2,s,r({},a,u))):null},slotFills:function(e){var t=e.type,n=e.context,a=i(e,["type","context"]);return this.components.getComponents(t,n).map((function(e){return(0,o.normalizeProps)((0,o.createComponentVNode)(2,e,r({},n,a)))}))}};t.default=a,a.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(370),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["decisionTableProperties"],decisionTableProperties:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(371),i=(o=r)&&o.__esModule?o:{default:o};var a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("table.before",(function(){return i.default}))};t.default=a,a.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(3),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}var c=function(e){function t(){return u(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillMount",value:function(){var e=this.context.injector;this._sheet=e.get("sheet")}},{key:"render",value:function(){var e=this._sheet.getRoot();if(!(0,i.is)(e,"dmn:DMNElement"))return null;var t=e.businessObject.$parent,n=t.id,o=t.name;return(0,r.createVNode)(1,"header","decision-table-properties",[(0,r.createVNode)(1,"h3","decision-table-name",o,0,{title:"Decision Name"}),(0,r.createVNode)(1,"h5","decision-table-id",n,0,{title:"Decision Id"})],4)}}]),t}(r.Component);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(373),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["decisionRuleIndices"],decisionRuleIndices:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(374),i=(o=r)&&o.__esModule?o:{default:o};var a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("cell",(function(e){if("before-rule-cells"===e.cellType)return i.default}))};t.default=a,a.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}var s=function(e){function t(){return a(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.row,n=e.rowIndex,o=this.context.components.getComponents("cell-inner",{cellType:"rule-index",row:t,rowIndex:n});return(0,r.createVNode)(1,"td","rule-index",[o&&o.map((function(e){return(0,r.createComponentVNode)(2,e,{row:t,rowIndex:n})})),n+1],0,{"data-row-id":t.id})}}]),t}(r.Component);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(376)),r=a(n(377)),i=a(n(378));function a(e){return e&&e.__esModule?e:{default:e}}var u=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("table.body",(function(){return o.default})),t.onGetComponent("row",(function(e){if("rule"===e.rowType)return r.default})),t.onGetComponent("cell",(function(e){if("rule"===e.cellType)return i.default}))};t.default=u,u.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}var s=function(e){function t(){return a(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(e){var t=e.rows,n=e.cols,o=this.context.components;return(0,r.createVNode)(1,"tbody",null,t.map((function(e,t){var i=o.getComponent("row",{rowType:"rule"});return i&&(0,r.createComponentVNode)(2,i,{row:e,rowIndex:t,cols:n},e.id)})),0)}}]),t}(r.Component);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(7),a=n(38),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return(0,i.mixin)(r,a.ComponentWithSlots),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.row,o=t.rowIndex,i=t.cols,a=n.cells;return(0,r.createVNode)(1,"tr",null,[this.slotFills({type:"cell",context:{cellType:"before-rule-cells",row:n,rowIndex:o}}),a.map((function(t,r){return e.slotFill({type:"cell",context:{cellType:"rule",cell:t,rowIndex:o,colIndex:r},key:t.id,row:n,col:i[r]})})),this.slotFills({type:"cell",context:{cellType:"after-rule-cells",row:n,rowIndex:o}})],0)}}]),t}(r.Component);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(7),a=n(3),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}var l=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.cell,n=e.row,o=e.col;return(0,a.is)(t,"dmn:UnaryTests")?(0,r.createComponentVNode)(2,i.Cell,{className:"input-cell",elementId:t.id,"data-row-id":n.id,"data-col-id":o.id,children:t.businessObject.text}):(0,r.createComponentVNode)(2,i.Cell,{className:"output-cell",elementId:t.id,"data-row-id":n.id,"data-col-id":o.id,children:t.businessObject.text})}}]),t}(r.Component);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(380),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["hitPolicyProvider"],hitPolicyProvider:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o,r=n(381),i=(o=r)&&o.__esModule?o:{default:o};function a(e){e.onGetComponent("cell",(function(e){if("before-label-cells"===e.cellType)return i.default}))}a.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}var s=function(e){function t(){return a(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this.context.injector;this._sheet=e.get("sheet")}},{key:"render",value:function(){var e=this._sheet.getRoot().businessObject,t=e.hitPolicy,n=t.charAt(0),o=function(e){switch(e){case"SUM":return"+";case"MIN":return"<";case"MAX":return">";case"COUNT":return"#";default:return""}}(e.aggregation);return(0,r.createVNode)(1,"th","hit-policy header",[n,o],0,{rowspan:"3",title:"Hit Policy = "+t})}}]),t}(r.Component);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(383),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["viewDrd"],viewDrd:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(384),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var u=function(){function e(t,n,o,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._injector=o,this._sheet=r,t.onGetComponent("table.before",(function(){if(a.canViewDrd())return i.default})),n.on("showDrd",(function(){var e=o.get("_parent",!1),t=s(r.getRoot());if(t){var n=e.getView(t);e.open(n)}}))}return a(e,[{key:"canViewDrd",value:function(){var e=this._injector.get("_parent",!1);if(!e)return!1;var t=s(this._sheet.getRoot());return!!e.getView(t)}}]),e}();function s(e){var t=e.businessObject;if(t)return t.$parent.$parent}t.default=u,u.$inject=["components","eventBus","injector","sheet"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.onClick=function(){r._eventBus.fire("showDrd")};var i=n.injector;return r._eventBus=i.get("eventBus"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this;return(0,r.createVNode)(1,"div","view-drd",(0,r.createVNode)(1,"button","view-drd-button",(0,r.createTextVNode)("View DRD"),2,{onClick:this.onClick}),2,null,null,(function(t){return e.node=t}))}}]),t}(r.Component);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(386),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["poweredBy"],poweredBy:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(387)),r=i(n(388));function i(e){return e&&e.__esModule?e:{default:e}}var a=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("table.before",(function(){return o.default})),t.onGetComponent("table.before",(function(){return r.default}))};t.default=a,a.$inject=["components","eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.onClick=function(){r._eventBus.fire("poweredBy.show")};var i=n.injector;return r._eventBus=i.get("eventBus"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this;return(0,r.createVNode)(1,"div","powered-by-logo",(0,r.createVNode)(1,"img","logo",null,1,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC"}),2,{onClick:this.onClick,title:"Powered by bpmn.io"},null,(function(t){return e.node=t}))}}]),t}(r.Component);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={show:!1},n.onClick=n.onClick.bind(n),n.onShow=n.onShow.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"onClick",value:function(){this.setState({show:!1})}},{key:"onShow",value:function(){this.setState({show:!0})}},{key:"componentWillMount",value:function(){(this._eventBus=this.context.injector.get("eventBus")).on("poweredBy.show",this.onShow)}},{key:"componentWillUnmount",value:function(){this._eventBus.off("poweredBy.show",this.onShow)}},{key:"render",value:function(){return this.state.show&&(0,r.createVNode)(1,"div","powered-by-overlay",(0,r.createVNode)(1,"div","powered-by-overlay-content",[(0,r.createVNode)(1,"div",null,(0,r.createVNode)(1,"img","logo",null,1,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC"}),2),(0,r.createVNode)(1,"div",null,[(0,r.createTextVNode)("Web-based tooling for BPMN, DMN and CMMN diagrams powered by "),(0,r.createVNode)(1,"a",null,(0,r.createTextVNode)("bpmn.io"),2,{href:"http://bpmn.io",target:"_blank"}),(0,r.createTextVNode)(".")],4)],4,{onClick:function(e){return e.stopPropagation()}}),2,{onClick:this.onClick})}}]),t}(r.Component);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(390)),r=i(n(26));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[r.default],__init__:["addRule"],addRule:["type",o.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(391),i=(o=r)&&o.__esModule?o:{default:o};var a=function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("table.foot",(function(){return i.default})),o.on("addRule",(function(){n.trigger("addRule")}))};t.default=a,a.$inject=["components","editorActions","eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(7),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.handleClick=function(e){e.stopPropagation(),r.addRule()},(0,i.inject)(r),r.addRule=r.addRule.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillMount",value:function(){this._eventBus=this.context.injector.get("eventBus")}},{key:"addRule",value:function(){this._eventBus.fire("addRule")}},{key:"render",value:function(){var e=this.props.cols,t=[(0,r.createVNode)(1,"td","add-rule-add",(0,r.createVNode)(1,"span","dmn-icon-plus action-icon",null,1,{title:"Add Rule"}),2)],n=this.sheet.getRoot().businessObject;n.input&&n.input.length||t.push((0,r.createVNode)(1,"td","input-cell",(0,r.createTextVNode)("-"),2));for(var o=0;o<e.length+1;o++){var i="add-rule",a=e[o]&&e[o].businessObject;a&&(a.$instanceOf("dmn:InputClause")&&(i+=" input-cell"),a.$instanceOf("dmn:OutputClause")&&(i+=" output-cell")),t.push((0,r.createVNode)(1,"td",i,(0,r.createTextVNode)("-"),2))}return(0,r.createVNode)(1,"tfoot","actionable add-rule",(0,r.createVNode)(1,"tr",null,t,0),2,{onClick:this.handleClick})}}]),t}(r.Component);t.default=u,u.$inject=["sheet"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=function(){function e(t,n,o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._elementRegistry=t,this._eventBus=n,this._renderer=o,this._selection=void 0,n.on("diagram.clear",(function(){r._selection=void 0}))}return r(e,[{key:"select",value:function(e){(0,o.isString)(e)&&(e=this._elementRegistry.get(e));var t=this._selection;t!==e&&(this._selection=e,this._eventBus.fire("selection.changed",{oldSelection:t,selection:e}))}},{key:"deselect",value:function(){var e=this._selection;this._selection=void 0,this._eventBus.fire("selection.changed",{oldSelection:e,selection:this._selection})}},{key:"get",value:function(){return this._selection}},{key:"hasSelection",value:function(){return!!this._selection}}]),e}();t.default=i,i.$inject=["elementRegistry","eventBus","renderer"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._elementRegistry=t,this._renderer=o,this._selection=r,n.on(["cell.click","cell.contextmenu"],(function(e){var n=e.id,o=t.get(n);o&&r.select(o)})),n.on("row.remove",(function(e){var t=e.row,n=r.get();n&&t===n.row&&r.deselect()})),n.on("col.remove",(function(e){var t=e.col,n=r.get();n&&t===n.col&&r.deselect()}))};t.default=o,o.$inject=["elementRegistry","eventBus","renderer","selection"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=["click","dblclick","contextmenu","mousedown","mouseup","mouseenter","mouseleave","mouseout","mouseover","mousemove","focusin","focusout","drag","dragstart","dragend","dragover","dragenter","dragleave","drop"],a=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._handleEvent=function(e){var t,n=e.target,i=e.type,a=(t=n,(0,o.closest)(t,"[data-element-id]",!0));if(a){var u=a.getAttribute("data-element-id");if(u){var s=r._eventBus.createEvent({id:u,event:e,node:a,target:a});r._eventBus.fire("cell."+i,s),s.defaultPrevented&&e.preventDefault(),s.cancelBubble&&e.stopPropagation()}}},this._eventBus=n,this._container=t.container,n.on("table.init",(function(){r._addEventListeners(i)})),n.on("table.destroy",(function(){r._removeEventListeners(i)}))}return r(e,[{key:"_addEventListeners",value:function(e){var t=this,n=this._container;e.forEach((function(e){n.addEventListener(e,t._handleEvent)}))}},{key:"_removeEventListeners",value:function(e){var t=this,n=this._container;e.forEach((function(e){n.removeEventListener(e,t._handleEvent)}))}}]),e}();t.default=a,a.$inject=["config.renderer","eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(32),r={above:!0,below:!0,right:!0,left:!0};function i(e,t,n,i,a){var u=e.container,s=null;function c(e,n){t.fire("selection."+e+".changed",n),t.fire("cellSelection.changed",{elementId:e,selection:n})}function l(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s!==e&&c(s,{selected:!1,focussed:!1}),s=e,e&&c(e,{selected:!0,focussed:t}),e?i.select(e):i.deselect()}t.on("cell.click",500,(function(e){var t=e.target;if(!(0,o.isUnselectableNode)(t)){var n=(0,o.findSelectableAncestor)(t);l(n&&(0,o.getElementId)(n),!e.defaultPrevented),e.stopPropagation()}})),t.on("cell.focusin",500,(function(e){var t=(0,o.getElementId)(e.target),n=!e.defaultPrevented;return e.stopPropagation(),l(t,n)})),t.on("cell.focusout",500,(function(e){c((0,o.getElementId)(e.target),{focussed:!1})})),t.on("cellSelection.changed",(function(e){var t=e.elementId,n=e.selection,r=(0,o.getNodeById)(t,u);n.focussed&&r&&(0,o.ensureFocus)(r)})),t.on("selection.changed",(function(e){var t=e.selection,n=e.oldSelection,o=t&&t.id,r=n&&n.id;o&&o!==s?l(t.id):r&&r===s&&l()})),this.isCellSelected=function(){return!!s},this.getCellSelection=function(){return s},this.selectCell=function(e){if(s){if(!(e in r))throw new Error("direction must be any of { above, below, left, right }");var t=(0,o.getNodeById)(s,u),n=(0,o.getElementCoords)(t);if(!n)return!1;var i=function(e,t){var n=e.row,o=e.col;if("above"===t||"below"===t){var r=parseInt(n,10);return isNaN(r)?e:{col:o,row:"above"===t?r-1:r+1}}if("left"===t||"right"===t){var i=parseInt(o,10);return isNaN(i)?e:{row:n,col:"left"===t?i-1:i+1}}throw new Error("invalid direction <"+t+">")}(n,e),a=(0,o.getNodeByCoords)(i,u);if(!a)return!1;var c=(0,o.getElementId)(a);return c&&l(c,{focussed:!0,selected:!0}),!0}},t.on("contextMenu.close",(function(){if(s)return l(s)}))}i.$inject=["config.renderer","eventBus","sheet","selection","elementRegistry"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(0),a=n(12),u=n(3),s=n(94),c=(o=s)&&o.__esModule?o:{default:o};var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o._sheet=n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"init",value:function(){var e=this;this.addRule("col.move",2e3,(function(t){var n=t.col,o=t.index,r=e._sheet.getRoot().businessObject.input;return(0,u.isInput)(n)?o<r.length:o>=r.length})),this.addRule("col.remove",2e3,(function(t){var n=t.col,o=e._sheet.getRoot().cols;return!(0,u.isOutput)(n)||o.filter((function(e){return(0,u.isOutput)(e)})).length>1})),this.addRule("paste",2e3,(function(t){var n=t.data,o=t.target;if(!n||!o)return!1;var r=n.root;return o instanceof a.Row?e.canPasteRows(r):o instanceof a.Col&&e.canPasteCols(r,o)}))}},{key:"canPasteRows",value:function(e){var t=this._sheet.getRoot().cols;return(0,i.every)(e,(function(e){return"row"===e.type&&(e.cells.length===t.length&&(0,i.every)(e.cells,(function(e,n){return(0,u.isInput)(t[n])?"dmn:UnaryTests"===e.businessObject.$type:"dmn:LiteralExpression"===e.businessObject.$type})))}))}},{key:"canPasteCols",value:function(e,t){var n=this._sheet.getRoot().rows;return(0,i.every)(e,(function(e){return"col"===e.type&&(e.cells.length===n.length&&((0,u.isInput)(t)?"dmn:InputClause"===e.businessObject.$type:"dmn:OutputClause"===e.businessObject.$type))}))}}]),t}(c.default);t.default=d,d.$inject=["eventBus","sheet"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(398),i=(o=r)&&o.__esModule?o:{default:o};t.default={__depends__:[i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(399),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["rules"],rules:["type",i.default]}},function(e,t,n){"use strict";function o(e){this._commandStack=e.get("commandStack",!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,o.$inject=["injector"],o.prototype.allowed=function(e,t){var n=!0,o=this._commandStack;return o&&(n=o.canExecute(e,t)),void 0===n||n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=u(n(401)),i=u(n(402)),a=n(106);function u(e){return e&&e.__esModule?e:{default:e}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var l=function(){function e(t,n,o,a,u,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._clipboard=t,this._commandStack=n,this._eventBus=o,this._modeling=a,this._sheet=u,this._rules=s,n.registerHandler("cut",r.default),n.registerHandler("paste",i.default)}return c(e,[{key:"copy",value:function(e){(0,o.isArray)(e)||(e=[e]);var t={elements:(0,a.createDescriptor)(e)};this._eventBus.fire("copyCutPaste.copy",{data:t}),this._clipboard.set(t)}},{key:"cut",value:function(e){(0,o.isArray)(e)||(e=[e]);var t={elements:(0,a.createDescriptor)(e),keepIds:!0},n={elements:e,data:t};this._eventBus.fire("copyCutPaste.cut",{data:t}),this._commandStack.execute("cut",n)}},{key:"pasteBefore",value:function(e){return this._paste(e,{before:!0})}},{key:"pasteAfter",value:function(e){return this._paste(e,{after:!0})}},{key:"_paste",value:function(e,t){var n=this._clipboard.get();if(n)return!!this._rules.allowed("paste",{data:n.elements,target:e})&&(this._commandStack.execute("paste",s({element:e},t)),!0)}},{key:"pasteAt",value:function(e){}}]),e}();t.default=l,l.$inject=["clipboard","commandStack","eventBus","modeling","sheet","rules"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._clipboard=t,this._modeling=n,this._sheet=o}return r(e,[{key:"execute",value:function(e){var t=e.data;return e.oldData=this._clipboard.get(),this._clipboard.set(t),this._sheet.getRoot()}},{key:"postExecute",value:function(e){var t=this;e.elements.forEach((function(e){e instanceof o.Row?t._modeling.removeRow(e):e instanceof o.Col&&t._modeling.removeCol(e)}))}},{key:"revert",value:function(e){var t=e.oldData;return this._clipboard.set(t),this._sheet.getRoot()}}]),e}();t.default=i,i.$inject=["clipboard","modeling","sheet"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),r=n(106),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(){function e(t,n,o,r,i,a,u,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._clipboard=t,this._dmnFactory=n,this._elementFactory=o,this._elementRegistry=r,this._eventBus=i,this._model=a,this._modeling=u,this._sheet=s}return i(e,[{key:"postExecute",value:function(e){var t=this,n=e.element,i=e.after,a=this._clipboard.get();if(!a)throw new Error("missing clipboard data");var u=this._sheet.getRoot(),s=(0,r.reviveDescriptor)(a.elements,{_dmnFactory:this._dmnFactory,_keepIds:a.keepIds,_model:this._model}).root;if(n instanceof o.Row){var c=u.rows.indexOf(n);if(-1===c)return;s.forEach((function(e){i&&c++,t._modeling.addRow(e,c)}))}else if(n instanceof o.Col){var l=u.cols.indexOf(n);if(-1===l)return;s.forEach((function(e){i&&l++,t._modeling.addCol(e,l)}))}return e.oldElements=this._clipboard.get(),this._sheet.getRoot()}},{key:"revert",value:function(e){}}]),e}();t.default=a,a.$inject=["clipboard","dmnFactory","elementFactory","elementRegistry","eventBus","moddle","modeling","sheet"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3);var r=function e(t,n,r,i,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var s={addRule:function(){return r.addRow({type:"dmn:DecisionRule"})},addRuleAbove:function(e){var t=e&&e.rule;if(t||i.hasSelection()){t=t||i.get().row;var n=u.getRoot().rows.indexOf(t);if(-1!==n)return r.addRow({type:"dmn:DecisionRule"},n)}},addRuleBelow:function(e){var t=e&&e.rule;if(t||i.hasSelection()){t=t||i.get().row;var n=u.getRoot().rows.indexOf(t);if(-1!==n)return r.addRow({type:"dmn:DecisionRule"},n+1)}},removeRule:function(e){var t=e&&e.rule;(t||i.hasSelection())&&(t=t||i.get().row,r.removeRow(t))},addInput:function(){var e=u.getRoot().businessObject.input;return r.addCol({type:"dmn:InputClause"},e?e.length:0)},addInputLeft:function(e){var t=e&&e.input;if(t||i.hasSelection()){t=t||i.get().col;var n=u.getRoot().cols.indexOf(t);if(-1!==n)return r.addCol({type:"dmn:InputClause"},n)}},addInputRight:function(e){var t=e&&e.input;if(t||i.hasSelection()){t=t||i.get().col;var n=u.getRoot().cols.indexOf(t);if(-1!==n)return r.addCol({type:"dmn:InputClause"},n+1)}},removeInput:function(e){var t=e&&e.input;(t||i.hasSelection())&&(t=t||i.get().col,r.removeCol(t))},addOutput:function(){var e=u.getRoot().businessObject,t=e.input,n=e.output;return r.addCol({type:"dmn:OutputClause"},t.length+n.length)},addOutputLeft:function(e){var t=e&&e.output;if(t||i.hasSelection()){t=t||i.get().col;var n=u.getRoot().cols.indexOf(t);if(-1!==n)return r.addCol({type:"dmn:OutputClause"},n)}},addOutputRight:function(e){var t=e&&e.output;if(t||i.hasSelection()){t=t||i.get().col;var n=u.getRoot().cols.indexOf(t);if(-1!==n)return r.addCol({type:"dmn:OutputClause"},n+1)}},removeOutput:function(e){var t=e&&e.output;(t||i.hasSelection())&&(t=t||i.get().col,r.removeCol(t))},addClause:function(){if(i.hasSelection()){var e=i.get().col;return(0,o.is)(e,"dmn:InputClause")?s.addInput({input:e}):(0,o.is)(e,"dmn:OutputClause")?s.addOutput({output:e}):void 0}},addClauseLeft:function(){if(i.hasSelection()){var e=i.get().col;return(0,o.is)(e,"dmn:InputClause")?s.addInputLeft({input:e}):(0,o.is)(e,"dmn:OutputClause")?s.addOutputLeft({output:e}):void 0}},addClauseRight:function(){if(i.hasSelection()){var e=i.get().col;return(0,o.is)(e,"dmn:InputClause")?s.addInputRight({input:e}):(0,o.is)(e,"dmn:OutputClause")?s.addOutputRight({output:e}):void 0}},removeClause:function(){if(i.hasSelection()){var e=i.get().col;return(0,o.is)(e,"dmn:InputClause")?s.removeInput({input:e}):(0,o.is)(e,"dmn:OutputClause")?s.removeOutput({output:e}):void 0}},selectCellAbove:function(){return a.selectCell("above")},selectCellBelow:function(){return a.selectCell("below")},copy:function(e){var n=e.element;t.copy(n)},cut:function(e){var n=e.element;t.cut(n)},pasteBefore:function(e){var n=e.element;return t.pasteBefore(n)},pasteAfter:function(e){var n=e.element;return t.pasteAfter(n)}};n.register(s)};t.default=r,r.$inject=["copyCutPaste","editorActions","modeling","selection","cellSelection","sheet"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=function(){function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._actions={undo:function(){t.undo()},redo:function(){t.redo()},select:function(e){var t=e.cell;r.select(t)},deselect:function(){r.deselect()},addRow:function(e){var t=e.attrs,n=e.index;o.addRow(t,n)},removeRow:function(e){var t=e.row;o.removeRow(t)},moveRow:function(e){var t=e.row,n=e.index;o.moveRow(t,n)},addCol:function(e){var t=e.attrs,n=e.index;o.addCol(t,n)},removeCol:function(e){var t=e.col;o.removeCol(t)},moveCol:function(e){var t=e.col,n=e.index;o.moveCol(t,n)}}}return r(e,[{key:"trigger",value:function(e,t){if(!this._actions[e])throw a(e,"is not a registered action");return this._actions[e](t)}},{key:"register",value:function(e,t){var n=this;if("string"==typeof e)return this._registerAction(e,t);(0,o.forEach)(e,(function(e,t){n._registerAction(t,e)}),this)}},{key:"_registerAction",value:function(e,t){if(this.isRegistered(e))throw a(e,"is already registered");this._actions[e]=t}},{key:"unregister",value:function(e){if(!this.isRegistered(e))throw a(e,"is not a registered action");this._actions[e]=void 0}},{key:"isRegistered",value:function(e){return!!this._actions[e]}}]),e}();function a(e,t){return new Error(e+" "+t)}t.default=i,i.$inject=["commandStack","eventBus","modeling","selection"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(406)),r=i(n(20));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[r.default],__init__:["annotationsProvider"],annotationsProvider:["type",o.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=i(n(99)),r=i(n(407));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){e.onGetComponent("cell",(function(e){var t=e.cellType;return"after-label-cells"===t?o.default:"after-rule-cells"===t?r.default:void 0}))}a.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(27),u=(o=a)&&o.__esModule?o:{default:o},s=n(7);var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(e,n){l(this,t);var o=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.onElementsChanged=function(){o.forceUpdate()},o.setAnnotationValue=function(e){var t=o.props.row;o.modeling.editAnnotation(t.businessObject,e)},(0,s.inject)(o),o}return f(t,e),c(t,[{key:"componentWillMount",value:function(){var e=this.props.row;this.changeSupport.onElementsChanged(e.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var e=this.props.row;this.changeSupport.offElementsChanged(e.id,this.onElementsChanged)}},{key:"render",value:function(){var e=this.props,t=e.row,n=e.rowIndex,o=t.businessObject,r=o.description,a=o.id;return(0,i.createComponentVNode)(2,s.Cell,{className:"annotation",onChange:this.setAnnotationValue,coords:n+":annotation",value:r,elementId:a+"__annotation","data-row-id":t.id,children:(0,i.createComponentVNode)(2,h,{ctrlForNewline:!0,className:"annotation-editor",onChange:this.setAnnotationValue,value:r})})}}]),t}(i.Component);t.default=p,p.$inject=["changeSupport","modeling"];var h=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),c(t,[{key:"render",value:function(){return(0,i.createVNode)(1,"div",this.getClassName(),this.getEditor(),0)}}]),t}(u.default)},function(e,t,n){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var o=/["'&<>]/;e.exports=function(e){var t,n=""+e,r=o.exec(n);if(!r)return n;var i="",a=0,u=0;for(a=r.index;a<n.length;a++){switch(n.charCodeAt(a)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}u!==a&&(i+=n.substring(u,a)),u=a+1,i+=t}return u!==a?i+n.substring(u,a):i}},function(e,t,n){"use strict";function o(e,t){return{start:e,end:void 0===t?e:t}}e.exports=function(e,t,n){var r=e.start,i=r,a=n.length-t.length,u=(n.length,t.length,t.substring(r));return n.lastIndexOf(u)===n.length-u.length&&(t=t.substring(0,t.length-u.length),n=n.substring(0,n.length-u.length)),(a=function(e,t){var n,o,r,i,a,u=0,s=0;t.length>e.length?(o=t,i=e):(o=e,i=t);for(;u<o.length;)r=o.charAt(u),a=i.charAt(s),r!==a?(n||(n={l_start:u,s_start:s}),u++):(n&&!n.complete&&(n.l_end=u,n.s_end=s,n.complete=!0),s++,u++);n&&!n.complete&&(n.complete=!0,n.s_end=i.length,n.l_end=o.length);if(!n)return;return t.length>e.length?{newStart:n.l_start,newEnd:n.l_end,type:"add"}:{newStart:n.s_start,newEnd:n.s_end,type:t.length<e.length?"remove":"replace"}}(t,n))&&(i="remove"===a.type?a.newStart:a.newEnd),o(i)},e.exports.range=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(e){return function(t){if(!1!==e){var n=(0,o.isNumber)(e)?e:300;return(0,o.debounce)(t,n)}return t}}r.$inject=["config.debounceInput"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(412),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var u=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._eventBus=n,t.onGetComponent("table.before",(function(){return i.default}))}return a(e,[{key:"open",value:function(e,t){this._eventBus.fire("contextMenu.open",{position:e,context:t})}},{key:"close",value:function(){this._eventBus.fire("contextMenu.close")}}]),e}();t.default=u,u.$inject=["components","eventBus","renderer"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(0),a=n(7),u=n(2),s=n(41),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(e,n){l(this,t);var o=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return h.call(o),o.state={isOpen:!1,position:{x:0,y:0}},(0,a.inject)(o),o}return f(t,e),c(t,[{key:"componentDidMount",value:function(){this.eventBus.on("contextMenu.open",this.open),this.eventBus.on("contextMenu.close",this.close)}},{key:"componentWillUnmount",value:function(){this.eventBus.off("contextMenu.open",this.open),this.eventBus.off("contextMenu.close",this.close)}},{key:"render",value:function(){var e=this.state,t=e.isOpen,n=e.context,o=e.position;if(!t)return null;var i=this.components.getComponents("context-menu",n);return i.length?(0,r.createComponentVNode)(2,y,{className:"context-menu no-deselect",context:n,position:o,offset:n.offset||{x:0,y:0},autoFocus:!1!==n.autoFocus,autoClose:!1!==n.autoClose,components:i,onClose:this.triggerClose}):null}}]),t}(r.Component),h=function(){var e=this;this.open=function(t){var n=t.position,o=t.context;e.close(),e.setState({isOpen:!0,position:n||{x:0,y:0},context:o||{}})},this.close=function(){e.state.isOpen&&e.setState({context:void 0,isOpen:!1,position:{x:0,y:0}})},this.triggerClose=function(){e.eventBus.fire("contextMenu.close")}};t.default=p,p.$inject=["eventBus","components"];var y=function(e){function t(e,n){l(this,t);var o=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.onGlobalClick=function(e){o.checkClose(e.target)},o.onGlobalKey=function(e){var t=e.which;13!==t&&27!==t||(e.stopPropagation(),e.preventDefault(),o.close())},o.onFocusChanged=function(e){o.checkClose(e.target)},o.setNode=function(e){o.node=e;var t,n,r=o.props.autoFocus;e&&(r&&(t=e,(n=(0,u.query)("\n  input[type=text],\n  input[type=number],\n  input[type=button],\n  input[type=submit],\n  [contenteditable],\n  [tabindex],\n  a[href],\n  textarea,\n  button\n",t))&&(n.focus(),n.selectionStart&&"text"===n.type?n.selectionStart=1e5:"contentEditable"in n&&(0,s.setRange)(n,{start:1e5,end:1e5}))),o.updatePosition())},(0,a.inject)(o),o}return f(t,e),c(t,[{key:"close",value:function(){var e=this.props.onClose;(0,i.isFunction)(e)&&e()}},{key:"checkClose",value:function(e){if(this.props.autoClose){var t=this.node;t&&t!==e&&(t.contains(e)||this.close())}}},{key:"componentDidMount",value:function(){document.addEventListener("focusin",this.onFocusChanged),document.addEventListener("keydown",this.onGlobalKey),document.addEventListener("click",this.onGlobalClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("keydown",this.onGlobalKey),document.removeEventListener("click",this.onGlobalClick)}},{key:"updatePosition",value:function(){var e=this.props,t=e.position,n=e.offset,o=this.node.getBoundingClientRect();t.width||(t.width=0),t.height||(t.height=0);var r=this.renderer.getContainer(),a=r.getBoundingClientRect();a.width>a.height?(this.node.classList.add("horizontal"),this.node.classList.remove("vertical")):(this.node.classList.add("vertical"),this.node.classList.remove("horizontal"));var u=r.scrollLeft,s=r.scrollTop,c={};if(t.x+t.width/2>a.width/2){var l=t.x-a.left-o.width+n.x+u;l=v(l,0+u,a.width-o.width+u),c.left=l+"px"}else{var d=window.scrollX-a.left+t.x+t.width-n.x+u;d=v(d,0+u,a.width-o.width+u),c.left=d+"px"}var f=void 0;t.y+t.height/2>a.height/2?(f=v(f=t.y-a.top-o.height+n.y+s,0+s,a.height-o.height+s),c.top=f+"px"):(f=v(f=window.scrollY-a.top+t.y-n.y+s,0+s,a.height-o.height+s),c.top=f+"px"),c.overflowY="auto",c.maxHeight=a.height-f+s+"px",(0,i.assign)(this.node.style,c)}},{key:"render",value:function(){var e=this.props,t=e.context,n=e.components,o=e.className;return(0,r.createVNode)(1,"div",o,n.map((function(e,n){return(0,r.createComponentVNode)(2,e,{context:t},n)})),0,{onContextMenu:function(e){return e.preventDefault()}},null,this.setNode)}}]),t}(r.Component);function v(e,t,n){return Math.max(t,Math.min(n,e))}y.$inject=["renderer"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(52)),r=a(n(39)),i=a(n(414));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,r.default],__init__:["copyCutPasteKeyBindings"],copyCutPasteKeyBindings:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(41),r=n(2),i=n(32),a=n(109),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var s=function(){function e(t,n,o,i,u,s,c){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._clearClipboard=function(){l._clipboard.clear()},this._registerBindings=function(){[function(e,t){if((0,a.isCmd)(t)&&67===e){var n=l._getSelectedCell();if(!n)return;return(0,a.isShift)(t)?l._editorActions.trigger("copy",{element:n.col}):l._editorActions.trigger("copy",{element:n.row}),!0}},function(e,t){if((0,a.isCmd)(t)&&88===e){var n=l._getSelectedCell();if(!n)return;return(0,a.isShift)(t)?l._editorActions.trigger("cut",{element:n.col}):l._editorActions.trigger("cut",{element:n.row}),!0}},function(e,t){var n=void 0;if((0,a.isCmd)(t)&&86===e){var o=l._getSelectedCell();if(!o)return;(0,a.isShift)(t)?(n=l._editorActions.trigger("pasteAfter",{element:o.col}))&&l._cellSelection.selectCell("right"):(n=l._editorActions.trigger("pasteAfter",{element:o.row}))&&l._cellSelection.selectCell("below")}return void 0!==n}].forEach((function(e){l._keyboard.addListener(e)}))},this._clipboard=o,this._cellSelection=i,this._elementRegistry=u,this._editorActions=s,this._keyboard=t.get("keyboard",!1),this._renderer=c,this._keyboard&&(n.on("keyboard.init",this._registerBindings),n.on("keyboard.bind",(function(){r.event.bind(document,"copy",l._clearClipboard,!0),r.event.bind(document,"cut",l._clearClipboard,!0)})),n.on("keyboard.unbind",(function(){r.event.unbind(document,"copy",l._clearClipboard,!0),r.event.unbind(document,"cut",l._clearClipboard,!0)})))}return u(e,[{key:"_getSelectedCell",value:function(){var e=this._cellSelection.getCellSelection();if(e){var t=this._elementRegistry.get(e);if(t){var n=this._renderer.getContainer(),r=(0,i.getNodeById)(e,n),a=(0,i.getFocusableNode)(r);if(document.activeElement===a){var u=(0,o.getRange)(r);if(!u||u.start===u.end)return t}}}}}]),e}();t.default=s,s.$inject=["injector","eventBus","clipboard","cellSelection","elementRegistry","editorActions","renderer"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(416)),r=i(n(26));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[r.default],__init__:["createInputsProvider"],createInputsProvider:["type",o.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(417)),r=i(n(418));function i(e){return e&&e.__esModule?e:{default:e}}var a=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("cell",500,(function(e){var t=e.cellType,i=n.getRoot().businessObject;if(!i.input||!i.input.length)return"before-label-cells"===t?o.default:"before-rule-cells"===t?r.default:void 0}))};t.default=a,a.$inject=["components","sheet"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(7),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onClick=function(e){r.editorActions.trigger("addInput")},(0,i.inject)(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){return(0,r.createVNode)(1,"th","input-cell create-inputs header actionable",[(0,r.createTextVNode)("Input "),(0,r.createVNode)(1,"span","add-input dmn-icon-plus action-icon",null,1,{title:"Add Input"})],4,{onClick:this.onClick,rowspan:"3",title:"Add Input"})}}]),t}(r.Component);t.default=u,u.$inject=["editorActions"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(7),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onClick=function(e){r.editorActions.trigger("addInput")},(0,i.inject)(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){return(0,r.createVNode)(1,"td","input-cell create-inputs",(0,r.createTextVNode)("-"),2,{onClick:this.onClick,title:"Add Input"})}}]),t}(r.Component);t.default=u,u.$inject=["editorActions"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(420)),r=s(n(26)),i=s(n(21)),a=s(n(56)),u=s(n(421));function s(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[r.default,i.default,a.default],__init__:["decisionTableContextMenu","contextMenuCloseBehavior"],decisionTableContextMenu:["type",o.default],contextMenuCloseBehavior:["type",u.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(3),i=n(12),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var u=function(){function e(t,n,r,i,a,u,c,l,d){var f=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._contextMenu=n,this._clipboard=r,this._editorActions=i,this._elementRegistry=u,this._eventBus=a,this._modeling=c,this._sheet=l,this._rules=d,this._getEntries=this._getEntries.bind(this),t.onGetComponent("context-menu",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.contextMenuType&&"context-menu"===e.contextMenuType){var n=f._getEntries(e),r=f._elementRegistry.get(e.id),i=s(r)&&t.getComponents("context-menu-cell-additional",e);if(i&&i.length){var a=(0,o.createVNode)(1,"div","context-menu-group context-menu-group-cell",[(0,o.createVNode)(1,"h4","context-menu-group-title",(0,o.createTextVNode)("Cell"),2),i],0);return function(){return(0,o.createVNode)(1,"div","context-menu-flex",(n||[]).concat([a]),0)}}return function(){return(0,o.createVNode)(1,"div","context-menu-flex",n||[],0)}}})),a.on("cell.contextmenu",(function(e){var t=e.event,o=e.id;e.node;t.preventDefault(),n.open({x:t.pageX,y:t.pageY},{contextMenuType:"context-menu",id:o})}))}return a(e,[{key:"_getEntries",value:function(e){var t=this,n=function(e){t._editorActions.trigger("addRuleAbove",{rule:e}),t._contextMenu.close()},i=function(e){t._editorActions.trigger("addRuleBelow",{rule:e}),t._contextMenu.close()},a=function(e){t._editorActions.trigger("removeRule",{rule:e}),t._contextMenu.close()},u=function(e){t._editorActions.trigger("addInputLeft",{input:e}),t._contextMenu.close()},s=function(e){t._editorActions.trigger("addInputRight",{input:e}),t._contextMenu.close()},c=function(e){t._editorActions.trigger("removeInput",{input:e}),t._contextMenu.close()},l=function(e){t._editorActions.trigger("addOutputLeft",{output:e}),t._contextMenu.close()},d=function(e){t._editorActions.trigger("addOutputRight",{output:e}),t._contextMenu.close()},f=function(e){t._editorActions.trigger("removeOutput",{output:e}),t._contextMenu.close()},p=function(e){t._editorActions.trigger("copy",{element:e}),t._contextMenu.close()},h=function(e){t._editorActions.trigger("cut",{element:e}),t._contextMenu.close()},y=function(e){t._editorActions.trigger("pasteBefore",{element:e}),t._contextMenu.close()},v=function(e){t._editorActions.trigger("pasteAfter",{element:e}),t._contextMenu.close()},m=e&&e.id;if(!m)return null;var g=this._elementRegistry.get(m);if(!g)return null;var b=this._clipboard.get()||{},_=[];if((0,r.is)(g.row,"dmn:DecisionRule")){var w=this._rules.allowed("paste",{data:b.elements,target:g.row});_.push((0,o.createVNode)(1,"div","context-menu-group context-menu-group-rule",[(0,o.createVNode)(1,"h4","context-menu-group-title",(0,o.createTextVNode)("Rule"),2),(0,o.createVNode)(1,"div","context-menu-group-entry context-menu-entry-add-rule-above",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-up"),(0,o.createTextVNode)("Add Above")],4,{onClick:function(){return n(g.row)}}),(0,o.createVNode)(1,"div","context-menu-group-entry context-menu-entry-add-rule-below",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-down"),(0,o.createTextVNode)("Add Below")],4,{onClick:function(){return i(g.row)}}),(0,o.createVNode)(1,"div","context-menu-group-entry context-menu-entry-remove-rule",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-clear"),(0,o.createTextVNode)("Remove")],4,{onClick:function(){return a(g.row)}}),(0,o.createVNode)(1,"div","context-menu-group-entry context-menu-entry-copy-rule",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-copy"),(0,o.createTextVNode)("Copy")],4,{onClick:function(){return p(g.row)}}),(0,o.createVNode)(1,"div","context-menu-group-entry context-menu-entry-cut-rule",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-cut"),(0,o.createTextVNode)("Cut")],4,{onClick:function(){return h(g.row)}}),(0,o.createVNode)(1,"div","context-menu-group-entry "+(w?"":"disabled")+" context-menu-entry-paste-rule-above",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-paste"),(0,o.createTextVNode)("Paste Above")],4,{onClick:function(){return y(g.row)}}),(0,o.createVNode)(1,"div","context-menu-group-entry "+(w?"":"disabled")+" context-menu-entry-paste-rule-below",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-paste"),(0,o.createTextVNode)("Paste Below")],4,{onClick:function(){return v(g.row)}})],4))}if((0,r.is)(g,"dmn:InputClause")||(0,r.is)(g.col,"dmn:InputClause")){var x=(0,r.is)(g,"dmn:InputClause")?g:g.col,O=this._rules.allowed("col.remove",{col:g.col||g}),E=this._rules.allowed("paste",{data:b.elements,target:g.col||g});_.push((0,o.createVNode)(1,"div","context-menu-group context-menu-group-input",[(0,o.createVNode)(1,"h4","context-menu-group-title",(0,o.createTextVNode)("Input"),2),(0,o.createVNode)(1,"div","context-menu-group-entry context-menu-entry-add-input-left",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-left"),(0,o.createTextVNode)("Add Left")],4,{onClick:function(){return u(x)}}),(0,o.createVNode)(1,"div","context-menu-group-entry context-menu-entry-add-input-right",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-right"),(0,o.createTextVNode)("Add Right")],4,{onClick:function(){return s(x)}}),(0,o.createVNode)(1,"div","context-menu-group-entry "+(O?"":"disabled")+" context-menu-entry-remove-input",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-clear"),(0,o.createTextVNode)("Remove")],4,{onClick:function(){return c(x)}}),(0,o.createVNode)(1,"div","context-menu-group-entry context-menu-entry-copy-input",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-copy"),(0,o.createTextVNode)("Copy")],4,{onClick:function(){return p(x)}}),(0,o.createVNode)(1,"div","context-menu-group-entry "+(O?"":"disabled")+" context-menu-entry-cut-input",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-cut"),(0,o.createTextVNode)("Cut")],4,{onClick:function(){return h(x)}}),(0,o.createVNode)(1,"div","context-menu-group-entry "+(E?"":"disabled")+" context-menu-entry-paste-input-left",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-paste"),(0,o.createTextVNode)("Paste Left")],4,{onClick:function(){return y(x)}}),(0,o.createVNode)(1,"div","context-menu-group-entry "+(E?"":"disabled")+" context-menu-entry-paste-input-right",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-paste"),(0,o.createTextVNode)("Paste Right")],4,{onClick:function(){return v(x)}})],4))}else if((0,r.is)(g,"dmn:OutputClause")||(0,r.is)(g.col,"dmn:OutputClause")){var C=(0,r.is)(g,"dmn:OutputClause")?g:g.col,j=this._rules.allowed("col.remove",{col:g.col||g}),S=this._rules.allowed("paste",{data:b.elements,target:g.col||g});_.push((0,o.createVNode)(1,"div","context-menu-group context-menu-group-output",[(0,o.createVNode)(1,"h4","context-menu-group-title",(0,o.createTextVNode)("Output"),2),(0,o.createVNode)(1,"div","context-menu-group-entry context-menu-entry-add-output-left",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-left"),(0,o.createTextVNode)("Add Left")],4,{onClick:function(){return l(C)}}),(0,o.createVNode)(1,"div","context-menu-group-entry context-menu-entry-add-output-right",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-right"),(0,o.createTextVNode)("Add Right")],4,{onClick:function(){return d(C)}}),(0,o.createVNode)(1,"div","context-menu-group-entry "+(j?"":"disabled")+" context-menu-entry-remove-output",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-clear"),(0,o.createTextVNode)("Remove")],4,{onClick:function(){return f(C)}}),(0,o.createVNode)(1,"div","context-menu-group-entry context-menu-entry-copy-output",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-copy"),(0,o.createTextVNode)("Copy")],4,{onClick:function(){return p(C)}}),(0,o.createVNode)(1,"div","context-menu-group-entry "+(j?"":"disabled")+" context-menu-entry-cut-output",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-cut"),(0,o.createTextVNode)("Cut")],4,{onClick:function(){return h(C)}}),(0,o.createVNode)(1,"div","context-menu-group-entry "+(S?"":"disabled")+" context-menu-entry-paste-output-left",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-paste"),(0,o.createTextVNode)("Paste Left")],4,{onClick:function(){return y(C)}}),(0,o.createVNode)(1,"div","context-menu-group-entry "+(S?"":"disabled")+" context-menu-entry-paste-output-right",[(0,o.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-paste"),(0,o.createTextVNode)("Paste Right")],4,{onClick:function(){return v(C)}})],4))}return _}}]),e}();function s(e){return e instanceof i.Cell}t.default=u,u.$inject=["components","contextMenu","clipboard","editorActions","eventBus","elementRegistry","modeling","sheet","rules"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=["row.add","row.remove","col.add","col.remove"],r=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.on("commandStack.executed",(function(e){var n=e.command;-1!==o.indexOf(n)&&t.close()})),n.on("commandStack.reverted",(function(){t.close()}))};t.default=r,r.$inject=["contextMenu","eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(21)),r=l(n(20)),i=l(n(423)),a=l(n(427)),u=l(n(431)),s=l(n(435)),c=l(n(440));function l(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[c.default,s.default,o.default,r.default,u.default],__init__:["inputEditingProvider","outputEditingProvider"],inputEditingProvider:["type",a.default],outputEditingProvider:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(n(424)),i=a(n(425));function a(e){return e&&e.__esModule?e:{default:e}}var u=function e(t,n,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("cell",(function(e){if("output-header"===e.cellType)return r.default})),t.onGetComponent("context-menu",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("output-edit"===e.contextMenuType)return i.default})),a.on("output.edit",(function(e){var t=e.event,r=e.output,i=t.target,a=(0,o.closest)(i,"th",!0).getBoundingClientRect(),s=a.left,c=a.top,l=a.width,d=a.height,f=u.getContainer();n.open({x:s+f.parentNode.scrollLeft,y:c+f.parentNode.scrollTop,width:l,height:d},{contextMenuType:"output-edit",output:r,offset:{x:4,y:4}})}))};t.default=u,u.$inject=["components","contextMenu","eventBus","renderer"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(7),a=n(38),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onClick=function(e){var t=r.props.output;r._eventBus.fire("output.edit",{event:e,output:t})},r.onContextmenu=function(e){var t=r.props.output.id;r._eventBus.fire("cell.contextmenu",{event:e,id:t})},r.onElementsChanged=function(){r.forceUpdate()},(0,i.mixin)(r,a.ComponentWithSlots),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this.context.injector;this._changeSupport=this.context.changeSupport,this._eventBus=e.get("eventBus"),this._elementRegistry=e.get("elementRegistry");var t=this.props.output;this._changeSupport.onElementsChanged(t.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var e=this.props.output;this._changeSupport.offElementsChanged(e.id,this.onElementsChanged)}},{key:"render",value:function(){var e=this.props.output,t=e.get("label"),n=e.get("name");return(0,r.createVNode)(1,"th","output-cell output-editor",[this.slotFills({type:"cell-inner",context:{cellType:"output-cell",col:this._elementRegistry.get(e.id)},col:e}),t?(0,r.createVNode)(1,"span","output-label",t,0,{title:"Output Label"}):(0,r.createVNode)(1,"span","output-name",n||"-",0,{title:"Output Expression"})],0,{"data-col-id":e.id,onClick:this.onClick,onContextmenu:this.onContextmenu})}}]),t}(r.Component);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(426),u=(o=a)&&o.__esModule?o:{default:o},s=n(7);var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.persistChanges=function(){var e=o.props.context.output,t=o.state.unsaved;t&&(o.modeling.updateProperties(e,t),o.setState({unsaved:!1}))},o.handleChange=function(e){o.setState({unsaved:c({},o.state.unsaved,e)},o.persistChanges)},o.state={},(0,s.inject)(o),o.persistChanges=o.debounceInput(o.persistChanges),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"getValue",value:function(e){var t=this.props.context.output,n=this.state.unsaved;return n&&n[e]||t.get(e)}},{key:"render",value:function(){return(0,i.createVNode)(1,"div","context-menu-container output-edit",(0,i.createComponentVNode)(2,u.default,{name:this.getValue("name"),label:this.getValue("label"),onChange:this.handleChange}),2)}}]),t}(i.Component);t.default=d,d.$inject=["debounceInput","modeling"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(28),u=(o=a)&&o.__esModule?o:{default:o};var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.setName=function(e){e=e||void 0,o.handleChange({name:e})},o.setLabel=function(e){e=e||void 0,o.handleChange({label:e})},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"handleChange",value:function(e){var t=this.props.onChange;"function"==typeof t&&t(e)}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.label;return(0,i.createVNode)(1,"div","dms-container ref-output-editor",[(0,i.createVNode)(1,"p","dms-fill-row",[(0,i.createVNode)(1,"label","dms-label",(0,i.createTextVNode)("Output Name"),2),(0,i.createComponentVNode)(2,u.default,{className:"ref-output-name",value:t||"",onInput:this.setName})],4),(0,i.createVNode)(1,"p","dms-fill-row",[(0,i.createVNode)(1,"label","dms-label",(0,i.createTextVNode)("Output Label"),2),(0,i.createComponentVNode)(2,u.default,{className:"ref-output-label",value:n||"",onInput:this.setLabel})],4)],4)}}]),t}(i.Component);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(n(428)),i=a(n(429));function a(e){return e&&e.__esModule?e:{default:e}}var u=function e(t,n,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("cell",(function(e){if("input-header"===e.cellType)return r.default})),t.onGetComponent("context-menu",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("input-edit"===e.contextMenuType)return i.default})),a.on("input.edit",(function(e){var t=e.event,r=e.input,i=t.target,a=(0,o.closest)(i,"th",!0).getBoundingClientRect(),s=a.left,c=a.top,l=a.width,d=a.height,f=u.getContainer();n.open({x:s+f.parentNode.scrollLeft,y:c+f.parentNode.scrollTop,width:l,height:d},{contextMenuType:"input-edit",input:r,offset:{x:4,y:4}})}))};t.default=u,u.$inject=["components","contextMenu","eventBus","renderer"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(7),a=n(38),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onClick=function(e){var t=r.props.input;r._eventBus.fire("input.edit",{event:e,input:t})},r.onContextmenu=function(e){var t=r.props.input.id;r._eventBus.fire("cell.contextmenu",{event:e,id:t})},r.onElementsChanged=function(){r.forceUpdate()},(0,i.mixin)(r,a.ComponentWithSlots),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this.context.injector;this._changeSupport=this.context.changeSupport,this._sheet=e.get("sheet"),this._eventBus=e.get("eventBus"),this._elementRegistry=e.get("elementRegistry");var t=this._sheet.getRoot(),n=this.props.input;this._changeSupport.onElementsChanged(t.id,this.onElementsChanged),this._changeSupport.onElementsChanged(n.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var e=this._sheet.getRoot(),t=this.props.input;this._changeSupport.offElementsChanged(e.id,this.onElementsChanged),this._changeSupport.offElementsChanged(t.id,this.onElementsChanged)}},{key:"render",value:function(){var e=this.props.input,t=e.inputExpression,n=e.get("label"),o=e.get("inputVariable"),i=t.get("expressionLanguage")||"FEEL",a=!n&&"FEEL"!=i;return(0,r.createVNode)(1,"th","input-cell input-editor",[this.slotFills({type:"cell-inner",context:{cellType:"input-cell",col:this._elementRegistry.get(e.id)},col:e}),n?(0,r.createVNode)(1,"span","input-label",n,0,{title:"Input Label"}):(0,r.createVNode)(1,"span","input-expression",t.text||"-",0,{title:"Input Expression"}),o&&(0,r.createVNode)(1,"span","dms-badge dmn-variable-name input-variable",o,0,{title:"Input Variable"}),a&&(0,r.createVNode)(1,"span","dms-badge dmn-expression-language input-expression-language",[(0,r.createVNode)(1,"span","dms-badge-icon dmn-icon-file-code"),(0,r.createVNode)(1,"span","dms-badge-label",i,0)],4,{title:"Input Expression Language = "+i})],0,{"data-col-id":e.id,onClick:this.onClick,onContextmenu:this.onContextmenu})}}]),t}(r.Component);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(430),u=(o=a)&&o.__esModule?o:{default:o},s=n(7);var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.persistChanges=function(){var e=o.props.context.input,t=o.state.unsaved;if(t){var n=t.inputVariable,r=t.label,i=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["inputVariable","label"]),a={};"inputVariable"in t&&(a.inputVariable=n),"label"in t&&(a.label=r),function(e){return Object.keys(e).length}(i)&&(a.inputExpression=i),o.modeling.updateProperties(e,a),o.setState({unsaved:!1})}},o.handleChange=function(e){o.setState({unsaved:c({},o.state.unsaved,e)},o.persistChanges)},o.state={},(0,s.inject)(o),o.persistChanges=o.debounceInput(o.persistChanges),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"getValue",value:function(e){var t=this.props.context.input,n=this.state.unsaved,o=t;return"expressionLanguage"!==e&&"text"!==e||(o=o.inputExpression),n&&n[e]||o.get(e)}},{key:"render",value:function(){return(0,i.createVNode)(1,"div","context-menu-container input-edit",(0,i.createComponentVNode)(2,u.default,{expressionLanguage:this.getValue("expressionLanguage"),inputVariable:this.getValue("inputVariable"),label:this.getValue("label"),text:this.getValue("text"),onChange:this.handleChange}),2)}}]),t}(i.Component);t.default=d,d.$inject=["debounceInput","modeling"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(0),a=c(n(108)),u=c(n(28)),s=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.setExpressionLanguage=function(e){r.handleChange({expressionLanguage:e})},r.makeScript=function(e){e.preventDefault(),e.stopPropagation(),r.setExpressionLanguage("FEEL")},r.handleValue=function(e){var t=r.props.expressionLanguage,n={text:e};f(e)&&!t&&(n.expressionLanguage="FEEL"),f(e)||"FEEL"!==t||(n.expressionLanguage=void 0),r.handleChange(n)},r.handleLanguageChange=function(e){r.setExpressionLanguage(e)},r.handleLabelChange=function(e){var t=e||void 0;r.handleChange({label:t})},r.handleInputVariableChange=function(e){var t=e||void 0;r.handleChange({inputVariable:t})},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"handleChange",value:function(e){var t=this.props.onChange;"function"==typeof t&&t(e)}},{key:"render",value:function(){var e=this.props,t=e.expressionLanguage,n=e.inputVariable,o=e.label,c=e.text,l=t||f(c),d=[!f(c)&&"","FEEL","JUEL","JavaScript","Groovy","Python"].filter(i.isString).map((function(e){return{label:e,value:e}}));return(0,r.createVNode)(1,"div","dms-container ref-input-editor",[(0,r.createVNode)(1,"h4","dms-heading",(0,r.createTextVNode)("Input Expression"),2),(0,r.createComponentVNode)(2,a.default,{placeholder:"enter expression",ctrlForNewline:!0,className:["ref-text","dms-input",l?"dms-script-input script-editor":"","dms-fit-row"].join(" "),onInput:this.handleValue,value:c||""}),!l&&(0,r.createVNode)(1,"p","dms-hint",[(0,r.createTextVNode)("Enter simple "),(0,r.createVNode)(1,"code",null,(0,r.createTextVNode)("FEEL"),2),(0,r.createTextVNode)(" expression or "),(0,r.createVNode)(1,"a","ref-make-script",(0,r.createTextVNode)("change to script"),2,{href:"#",onClick:this.makeScript}),(0,r.createTextVNode)(".")],4),l&&(0,r.createVNode)(1,"p","dms-hint",(0,r.createTextVNode)("Enter script."),2),l&&(0,r.createVNode)(1,"p",null,[(0,r.createVNode)(1,"label","dms-label",(0,r.createTextVNode)("Expression Language"),2),(0,r.createComponentVNode)(2,s.default,{className:"ref-language",value:t||"",onChange:this.handleLanguageChange,options:d})],4),(0,r.createVNode)(1,"hr","dms-hrule"),(0,r.createVNode)(1,"p","dms-fill-row",[(0,r.createVNode)(1,"label","dms-label",(0,r.createTextVNode)("Input Label"),2),(0,r.createComponentVNode)(2,u.default,{className:"ref-input-label",value:o||"",onInput:this.handleLabelChange})],4),(0,r.createVNode)(1,"p","dms-fill-row",[(0,r.createVNode)(1,"label","dms-label",(0,r.createTextVNode)("Input Variable"),2),(0,r.createComponentVNode)(2,u.default,{className:"ref-input-variable",value:n||"",onInput:this.handleInputVariableChange,placeholder:"cellInput"})],4)],0)}}]),t}(r.Component);function f(e){return e&&e.split(/\n/).length>1}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(21)),r=i(n(432));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default],__init__:["typeRefEditingProvider"],typeRefEditingProvider:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(n(433)),i=a(n(434));function a(e){return e&&e.__esModule?e:{default:e}}var u=function e(t,n,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("cell",(function(e){var t=e.cellType;if("input-header-type-ref"===t||"output-header-type-ref"===t)return r.default})),t.onGetComponent("context-menu",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.contextMenuType&&"type-ref-edit"===e.contextMenuType)return i.default})),a.on("typeRef.edit",(function(e){var t=e.event,r=e.element,i=t.target,a=(0,o.closest)(i,"th",!0).getBoundingClientRect(),s=a.left,c=a.top,l=a.width,d=a.height,f=u.getContainer();n.open({x:s+f.parentNode.scrollLeft,y:c+f.parentNode.scrollTop,width:l,height:d},{contextMenuType:"type-ref-edit",element:r,offset:{x:4,y:4}})}))};t.default=u,u.$inject=["components","contextMenu","eventBus","renderer"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(3),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=function(e){var t=n.getTypeRefTarget();n._eventBus.fire("typeRef.edit",{event:e,element:t})},n.onContextmenu=function(e){var t=n.props.element,o=t;(0,i.is)(t,"dmn:LiteralExpression")&&(o=t.$parent),n._eventBus.fire("cell.contextmenu",{event:e,node:e.node,id:o.id})},n.onElementsChanged=function(){n.forceUpdate()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillMount",value:function(){var e=this.context.injector;this._changeSupport=this.context.changeSupport,this._sheet=e.get("sheet"),this._eventBus=e.get("eventBus");var t=this.getTypeRefTarget();this._changeSupport.onElementsChanged(t.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var e=this.getTypeRefTarget();this._changeSupport.offElementsChanged(e.id,this.onElementsChanged)}},{key:"getTypeRefTarget",value:function(){var e=this.props.element;return(0,i.is)(e,"dmn:InputClause")?e.inputExpression:e}},{key:"render",value:function(){var e=this.props,t=e.element,n=(e.className||"")+" type-ref",o=(0,i.is)(t,"dmn:LiteralExpression")?t.$parent.id:t.id;return(0,r.createVNode)(1,"th",n,t.typeRef,0,{title:"Data Type","data-col-id":o,onClick:this.onClick,onContextmenu:this.onContextmenu})}}]),t}(r.Component);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(3),u=n(13),s=(o=u)&&o.__esModule?o:{default:o};var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var l=["string","boolean","integer","long","double","date"],d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.onTypeChange=function(e){var t=o.props.context.element,n=(0,a.is)(t,"dmn:LiteralExpression")?t.$parent:t,r=void 0;(0,a.isInput)(n)?r={inputExpression:{typeRef:e}}:(0,a.isOutput)(n)&&(r={typeRef:e}),o._modeling.updateProperties(n,r)},o._modeling=n.injector.get("modeling"),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"render",value:function(){var e=this.props.context.element,t=((0,a.is)(e,"dmn:InputClause")?e.inputExpression:e).typeRef,n=l.map((function(e){return{label:e,value:e}}));return(0,i.createVNode)(1,"div","type-ref-edit context-menu-container",[(0,i.createVNode)(1,"label","dms-label",(0,i.createTextVNode)("Type:"),2),(0,i.createComponentVNode)(2,s.default,{className:"type-ref-edit-select",onChange:this.onTypeChange,options:n,value:t})],4)}}]),t}(i.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(436)),r=i(n(437));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__init__:["allowedValuesUpdateBehavior","allowedValuesEditingProvider"],allowedValuesUpdateBehavior:["type",o.default],allowedValuesEditingProvider:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(9),a=(o=i)&&o.__esModule?o:{default:o},u=n(3);var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.postExecuted("updateProperties",(function(e){var t=e.context,o=t.element,r=t.properties,i=(0,u.isInput)(o)?r.inputExpression:r;if(i&&i.typeRef&&"string"!==i.typeRef){var a=(0,u.is)(o,"dmn:LiteralExpression")?o.$parent:o;n.editAllowedValues(a,null)}})),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a.default);t.default=s,s.$inject=["eventBus","modeling"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(438),i=(o=r)&&o.__esModule?o:{default:o};var a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("context-menu",500,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.contextMenuType&&"type-ref-edit"===e.contextMenuType)return i.default}))};t.default=a,a.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(3),a=c(n(110)),u=c(n(42)),s=n(439);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));f.call(r),r._modeling=n.injector.get("modeling"),r._changeSupport=n.changeSupport;var i=r.getAllowedValuesTarget(),a=(0,s.parseString)(i.inputValues&&i.inputValues.text||i.outputValues&&i.outputValues.text||"");return r.state=a?{values:a.values.map((function(e){return{value:e,isCheckable:!1,isRemovable:!0,group:"Predefined Values"}})),inputValue:""}:{values:null,inputValue:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.getAllowedValuesTarget();this._changeSupport.onElementsChanged(e.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var e=this.getAllowedValuesTarget();this._changeSupport.offElementsChanged(e.id,this.onElementsChanged)}},{key:"getAllowedValuesTarget",value:function(){var e=this.props.context.element;return(0,i.is)(e,"dmn:LiteralExpression")?e.$parent:e}},{key:"render",value:function(){var e=this.props.context.element,t=this.state,n=t.inputValue,o=t.values;return"string"===e.typeRef?(0,r.createVNode)(1,"div","context-menu-container allowed-values-edit",[(0,r.createVNode)(1,"hr","dms-hrule"),!p(o)&&o.length>0&&(0,r.createComponentVNode)(2,a.default,{items:o,onChange:this.onListChange}),!p(o)&&!o.length&&(0,r.createVNode)(1,"div",null,[(0,r.createVNode)(1,"h4","dms-heading",(0,r.createTextVNode)("Predefined Values"),2),(0,r.createVNode)(1,"span","placeholder",(0,r.createTextVNode)("No values"),2)],4),!p(o)&&(0,r.createVNode)(1,"p","dms-hint",(0,r.createVNode)(1,"a","del-values",(0,r.createTextVNode)("Clear predefined values."),2,{href:"#",onClick:this.handleRemovePredifinedValuesClick}),2),(0,r.createVNode)(1,"h4","dms-heading",(0,r.createTextVNode)("Add Predefined Values"),2),(0,r.createComponentVNode)(2,u.default,{onInput:this.onInput,onKeyDown:this.onKeyDown,placeholder:'"value", "value", ...',type:"text",validate:function(e){if(!(0,s.parseString)(e))return"Strings must be in double quotes."},value:n})],0):null}}]),t}(r.Component),f=function(){var e=this;this.onElementsChanged=function(){e.forceUpdate()},this.setPredefinedValues=function(t){var n=e.getAllowedValuesTarget();e.setState({values:t}),e._modeling.editAllowedValues(n,t&&(0,s.getValuesArray)(t))},this.onListChange=function(t){e.setPredefinedValues(t)},this.onInput=function(t){t.isValid;var n=t.value;e.setState({inputValue:n})},this.onKeyDown=function(t){var n=t.isValid,o=t.event;if(13===o.keyCode&&(o.stopPropagation(),o.preventDefault(),n)){var r=e.state,i=r.inputValue,a=r.values,u=(0,s.parseString)(i);e.onListChange((a||[]).concat(u.values.map((function(e){return{value:e,isCheckable:!1,isRemovable:!0,group:"Predefined Values"}})))),e.setState({inputValue:""})}},this.handleRemovePredifinedValuesClick=function(t){t.stopPropagation(),e.removePredefinedValues()},this.removePredefinedValues=function(){e.setPredefinedValues(null)}};function p(e){return null===e}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseString=function(e){if(!e||function(e){return""===e}(e.trim()))return{values:[]};var t=e.split(","),n={values:[]},o="";if(t.forEach((function(e){/^"[^"]*"$/.test((o+=e).trim())?(n.values.push(o.trim()),o=""):o+=","})),!o)return n},t.getValuesArray=function(e){return e.map((function(e){return e.value}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(441)),r=i(n(26));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[r.default],__init__:["addInputOutputProvider"],addInputOutputProvider:["type",o.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=i(n(442)),r=i(n(443));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){e.onGetComponent("cell",(function(e){var t=e.cellType;return"input-label"===t?o.default:"output-label"===t?r.default:void 0})),n.on("addInput",(function(){t.trigger("addInput")})),n.on("addOutput",(function(){t.trigger("addOutput")}))}a.$inject=["components","editorActions","eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onElementsChanged=function(){r.forceUpdate()},r.handleClick=function(e){e.stopPropagation(),r.add()},r.add=function(){r._eventBus.fire("addInput")},r._sheet=n.injector.get("sheet"),r._eventBus=n.injector.get("eventBus"),r._changeSupport=n.changeSupport,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this.getRoot();this._changeSupport.onElementsChanged(e.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var e=this.getRoot();this._changeSupport.offElementsChanged(e.id,this.onElementsChanged)}},{key:"getRoot",value:function(){return this._sheet.getRoot()}},{key:"render",value:function(){var e=this.getRoot().businessObject.input;if(!e||!e.length)return null;var t=e.length;return(0,r.createVNode)(1,"th","input-cell inputs-label actionable add-input header",[(0,r.createTextVNode)("Input "),(0,r.createVNode)(1,"span","add-input dmn-icon-plus action-icon",null,1,{title:"Add Input"})],4,{onClick:this.handleClick,colspan:t})}}]),t}(r.Component);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onElementsChanged=function(){r.forceUpdate()},r.handleClick=function(e){e.stopPropagation(),r.add()},r.add=function(){r._eventBus.fire("addOutput")},r._sheet=n.injector.get("sheet"),r._eventBus=n.injector.get("eventBus"),r._changeSupport=n.changeSupport,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this.getRoot();this._changeSupport.onElementsChanged(e.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var e=this.getRoot();this._changeSupport.offElementsChanged(e.id,this.onElementsChanged)}},{key:"getRoot",value:function(){return this._sheet.getRoot()}},{key:"render",value:function(){var e=this.getRoot().businessObject.output.length;return(0,r.createVNode)(1,"th","output-cell outputs-label add-output actionable header",[(0,r.createTextVNode)("Output "),(0,r.createVNode)(1,"span","add-output dmn-icon-plus action-icon",null,1,{title:"Add Output"})],4,{onClick:this.handleClick,colspan:e})}}]),t}(r.Component);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(445)),r=a(n(447)),i=a(n(56));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,i.default],__init__:["dmnDragAndDrop"],dmnDragAndDrop:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(446),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["dragAndDrop"],dragAndDrop:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),r=n(2),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(){function e(t,n,i,a){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleDragOver=function(e){u(e);var t=e.target,n=(0,r.closest)(t,".dmn-decision-table-container td,\n   .dmn-decision-table-container th",!0),o=!!n,i=s._dragContext.hoverEl;i&&i!==n&&(s._emit("dragAndDrop.dragLeave",e),s._dragContext.targetEl=null,s._dragContext.hoverEl=null),n&&(n!==i&&(s._dragContext.hoverEl=n,!1!==(o=s._emit("dragAndDrop.dragEnter",e))&&(s._dragContext.targetEl=n)),o=s._emit("dragAndDrop.dragOver",e)),e.dataTransfer.dropEffect=!1!==o?"move":"none"},this.handleDrop=function(e){u(e);var t=s._emit("dragAndDrop.drop",e);if(t){var n=s._dragContext.draggedElement;if(n instanceof o.Row){var r=s._sheet.getRoot().rows.indexOf(t);s._modeling.moveRow(n,r)}else if(n instanceof o.Col){var i=s._sheet.getRoot().cols.indexOf(t);s._modeling.moveCol(n,i)}}s.handleDragEnd(e)},this.handleDragEnd=function(e){u(e),s._unbindListeners(),s._emit("dragAndDrop.dragEnd",e),s._dragContext=null},this._eventBus=t,this._renderer=n,this._modeling=i,this._sheet=a,this._dragContext=null,t.on("table.destroy",(function(){s._unbindListeners()}))}return i(e,[{key:"_bindListeners",value:function(){r.event.bind(document,"dragover",this.handleDragOver),r.event.bind(document,"drop",this.handleDrop),r.event.bind(document,"dragend",this.handleDragEnd)}},{key:"_unbindListeners",value:function(){r.event.unbind(document,"dragover",this.handleDragOver),r.event.unbind(document,"drop",this.handleDrop),r.event.unbind(document,"dragend",this.handleDragEnd)}},{key:"_emit",value:function(e,t){return this._eventBus.fire(e,{dragContext:this._dragContext,originalEvent:t})}},{key:"startDrag",value:function(e,t){u(t,!0),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData&&t.dataTransfer.setData("text","__DUMMY"),this._dragContext={draggedElement:e},this._bindListeners(),this._emit("dragAndDrop.dragStart",t)}}]),e}();function u(e,t){e.stopPropagation(),!0!==t&&e.preventDefault()}t.default=a,a.$inject=["eventBus","renderer","modeling","sheet"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(2),i=n(3),a=n(12),u=n(0),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var c=function(){function e(t,n,s,c,v,m,g){var b=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cleanup=function(){var e=b._renderer.getContainer();f(e),function(e){var t=(0,r.queryAll)(".dragged",e);(0,u.forEach)(t,(function(e){y(e)&&(0,r.classes)(e).remove("dragged")}))}(e),b._dragImage&&((0,r.remove)(b._dragImage),b._dragImage=null)},this._elementRegistry=n,this._dragAndDrop=c,this._renderer=v,this._rules=m,this._sheet=g,t.onGetComponent("cell-inner",(function(e){var t=e.cellType,n=e.col,r=e.row;if("rule-index"===t)return function(){return(0,o.createVNode)(1,"span","dmn-icon-drag vertical",(0,o.createTextVNode)(" "),2,{draggable:"true",onDragStart:function(e){return b.startDrag(r,e)},title:"Move rule"})};if("input-cell"===t||"output-cell"===t){var a="Move "+((0,i.isInput)(n)?"Input":"Output");return function(){return(0,o.createVNode)(1,"span","dmn-icon-drag horizontal",null,1,{draggable:"true",onDragStart:function(e){return b.startDrag(n,e)},title:a})}}})),s.on("dragAndDrop.dragEnter",(function(e){var t=e.dragContext,n=t.draggedElement,o=t.hoverEl;if(n instanceof a.Row)return!0;if(n instanceof a.Col){var r=function(e,t,n){var o=t.get(e.dataset.colId);if(!o)return-1;return n.getRoot().cols.indexOf(o)}(o,b._elementRegistry,b._sheet);return-1!==r&&b._rules.allowed("col.move",{col:n,index:r})}return!1})),s.on("dragAndDrop.dragLeave",(function(e){e.dragContext.targetEl&&f(b._renderer.getContainer())})),s.on("dragAndDrop.dragOver",(function(e){var t=e.dragContext,n=e.originalEvent,o=t.draggedElement,r=t.lastPosition,i=t.targetEl,u=b._renderer.getContainer();if(!i)return!1;var s=void 0;return o instanceof a.Row&&(s=h(n,i)),o instanceof a.Col&&(s=p(n,i)),r===s||(f(u),o instanceof a.Row&&l(i,u,"top"===s?"top":"bottom"),o instanceof a.Col&&d(i,u,"left"===s?"left":"right"),t.lastPosition=s),!0})),s.on("dragAndDrop.drop",(function(e){var t=e.dragContext,n=e.originalEvent,o=t.draggedElement,r=t.targetEl;if(!r)return!1;if(o instanceof a.Row){var u=h(n,r),s=r.dataset.rowId,c=b._elementRegistry.get(s);if(!c||c===o)return;var l=function(e,t,n,o){o.indexOf(e)>o.indexOf(t)&&(t=function(e,t){var n=t.indexOf(e);return t[Math.min(t.length-1,n+1)]}(t,o));return"top"===n?function(e,t){var n=t.indexOf(e);return t[Math.max(0,n-1)]}(t,o):t}(o,c,u,b._sheet.getRoot().rows);if(l===o)return;return l}if(o instanceof a.Col){var d=p(n,r),f=r.dataset.colId,y=b._elementRegistry.get(f);if(!y||y===o)return;var v=function(e,t,n,o){o.indexOf(e)>o.indexOf(t)&&(t=function(e,t){var n=t.indexOf(e);if((0,i.isInput)(e)){var o=t.filter((function(e){return(0,i.isInput)(e)})),r=o[o.length-1],a=t.indexOf(r);return t[Math.min(a,n+1)]}return t[Math.min(t.length-1,n+1)]}(t,o));return"left"===n?function(e,t){var n=t.indexOf(e);if((0,i.isOutput)(e)){var o=t.filter((function(e){return(0,i.isOutput)(e)}))[0],r=t.indexOf(o);return t[Math.max(r,n-1)]}return t[Math.max(0,n-1)]}(t,o):t}(o,y,d,b._sheet.getRoot().cols);if(v===o)return;return v}})),s.on("dragAndDrop.dragEnd",this._cleanup)}return s(e,[{key:"startDrag",value:function(e,t){var n=this._renderer.getContainer();this._dragImage=(0,r.domify)('<span style="\n          visibility: hidden;\n          position: fixed;\n          top: -10000px\n      "></span>'),document.body.appendChild(this._dragImage),t.dataTransfer.setDragImage&&t.dataTransfer.setDragImage(this._dragImage,0,0),e instanceof a.Row?function(e,t){var n=(0,r.queryAll)("[data-row-id="+e.id+"]",t);(0,u.forEach)(n,(function(e){y(e)&&(0,r.classes)(e).add("dragged")}))}(e,n):e instanceof a.Col&&function(e,t){var n=(0,r.queryAll)("[data-col-id="+e.id+"]",t);(0,u.forEach)(n,(function(e){y(e)&&(0,r.classes)(e).add("dragged")}))}(e,n),this._dragAndDrop.startDrag(e,t)}}]),e}();function l(e,t,n){var o=e.dataset.rowId;if(o){var i=(0,r.queryAll)("[data-row-id="+o+"]",t);(0,u.forEach)(i,(function(e){y(e)&&((0,r.classes)(e).add("dragover"),(0,r.classes)(e).add(n))}))}}function d(e,t,n){var o=e.dataset.colId;if(o){var i=(0,r.queryAll)("[data-col-id="+o+"]",t);(0,u.forEach)(i,(function(e){y(e)&&((0,r.classes)(e).add("dragover"),(0,r.classes)(e).add(n))}))}}function f(e){var t=(0,r.queryAll)(".dragover",e);(0,u.forEach)(t,(function(e){y(e)&&((0,r.classes)(e).remove("dragover"),(0,r.classes)(e).remove("top"),(0,r.classes)(e).remove("right"),(0,r.classes)(e).remove("bottom"),(0,r.classes)(e).remove("left"))}))}function p(e,t){var n=t.getBoundingClientRect();return e.clientX<n.left+n.width/2?"left":"right"}function h(e,t){var n=t.getBoundingClientRect();return e.clientY<n.top+n.height/2?"top":"bottom"}function y(e){return e&&(1===e.nodeType||11==e.nodeType)}t.default=c,c.$inject=["components","elementRegistry","eventBus","dragAndDrop","renderer","rules","sheet"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(55)),r=a(n(21)),i=a(n(449));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[r.default,o.default],__init__:["description"],description:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=n(0),a=n(32),u=n(450),s=(o=u)&&o.__esModule?o:{default:o};var c=function e(t,n,o,u,c,f){var p=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addDescription=function(e){p._modeling.updateProperties(e,{description:""});var t=p._renderer.getContainer(),n=l(t,(0,a.getNodeById)(e.id,t).getBoundingClientRect());p._contextMenu.open(n,{contextMenuType:"cell-description",id:e.id,autoFocus:!0,offset:{x:4,y:4}})},this.removeDescription=function(e){p._modeling.updateProperties(e,{description:null}),p._contextMenu.close()},this._contextMenu=n,this._modeling=c,this._renderer=f,u.on("cell.click",750,(function(e){if(!e.defaultPrevented){var t=e.target,r=e.id,i=o.get(r);if(i){d(i)||e.preventDefault();var a=l(f.getContainer(),t.getBoundingClientRect());n.open(a,{contextMenuType:"cell-description",autoFocus:!1,id:r,offset:{x:4,y:4}})}}})),t.onGetComponent("context-menu",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.contextMenuType&&"cell-description"===e.contextMenuType){var t=o.get(e.id),n=d(t);if((0,i.isString)(n))return s.default}})),t.onGetComponent("context-menu-cell-additional",500,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.contextMenuType&&"context-menu"===e.contextMenuType){var t=e.id;if(!t)return;var n=o.get(t);if(!n)return;var a=n.businessObject,u=a.description,s=(0,i.isString)(u),c=s?"remove-description":"add-description",l=s?function(){return p.removeDescription(n)}:function(){return p.addDescription(n)},d=s?"dmn-icon-clear":"dmn-icon-plus";return(0,r.createVNode)(1,"div","context-menu-group-entry "+c,[(0,r.createVNode)(1,"span","context-menu-group-entry-icon "+d),(0,i.isString)(u)?"Remove":"Add",(0,r.createTextVNode)(" Description")],0,{onClick:l})}}))};function l(e,t){var n=t.top,o=t.left,r=t.width,i=t.height;return{x:o+e.parentNode.scrollLeft-26,y:n+e.parentNode.scrollTop,width:r+52,height:i}}function d(e){return e&&e.businessObject&&e.businessObject.description}t.default=c,c.$inject=["components","contextMenu","elementRegistry","eventBus","modeling","renderer"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(0),u=n(2),s=n(27),c=(o=s)&&o.__esModule?o:{default:o};var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(e,n){d(this,t);var o=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o.onElementsChanged=function(){o.forceUpdate()},o.changeDescription=function(e){o._modeling.updateProperties(o._element,{description:e})},o._elementRegistry=n.injector.get("elementRegistry"),o._modeling=n.injector.get("modeling"),o._changeSupport=o.context.changeSupport;var r=o.props.context.id;return o._element=o._elementRegistry.get(r),o}return p(t,e),l(t,[{key:"componentWillMount",value:function(){this._element&&this._changeSupport.onElementsChanged(this._element.id,this.onElementsChanged)}},{key:"componentDidMount",value:function(){var e;this.props.context.autoFocus&&this.node&&(e=this.node,(0,u.query)(".content-editable",e)).focus()}},{key:"componentWillUnmount",value:function(){if(this._element){this._changeSupport.offElementsChanged(this._element.id,this.onElementsChanged);var e=this._element.businessObject.description;(0,a.isString)(e)&&!e.length&&this.changeDescription(null)}}},{key:"render",value:function(){var e=this;if(this._element){var t=this._element.businessObject.description;if((0,a.isString)(t))return(0,i.createVNode)(1,"div","context-menu-container description-editor",(0,i.createComponentVNode)(2,y,{className:"dms-input",onChange:this.changeDescription,value:t}),2,null,null,(function(t){return e.node=t}))}}}]),t}(i.Component);t.default=h;var y=function(e){function t(){return d(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),l(t,[{key:"render",value:function(){return(0,i.createVNode)(1,"div",this.getClassName(),this.getEditor(),0)}}]),t}(c.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(452),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["expressionLanguage"],expressionLanguage:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=n(13),a=(o=i)&&o.__esModule?o:{default:o},u=n(3);var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var c=[{label:"FEEL",value:"feel"},{label:"JUEL",value:"juel"},{label:"JavaScript",value:"javascript"},{label:"Groovy",value:"groovy"},{label:"Python",value:"python"},{label:"JRuby",value:"jruby"}],l=function(){function e(t,n,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._modeling=o,t.onGetComponent("context-menu-cell-additional",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.contextMenuType&&"context-menu"===e.contextMenuType){var t=e.id;if(!t)return;var o=n.get(t);if(!o)return;var s=o.businessObject.expressionLanguage||((0,u.isInput)(o.col)?"feel":"juel");return(0,r.createVNode)(1,"div","context-menu-group-entry context-menu-entry-set-expression-language",[(0,r.createVNode)(1,"div",null,[(0,r.createVNode)(1,"span","context-menu-group-entry-icon dmn-icon-file-code"),(0,r.createTextVNode)("Expression Language")],4),(0,r.createComponentVNode)(2,a.default,{className:"expression-language",onChange:function(e){return i.onChange(o,e)},options:c,value:s})],4)}}))}return s(e,[{key:"onChange",value:function(e,t){this._modeling.editExpressionLanguage(e.businessObject,t)}}]),e}();t.default=l,l.$inject=["components","elementRegistry","modeling"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(454)),r=i(n(20));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[r.default],__init__:["decisionTableProperties"],decisionTableProperties:["type",o.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(455),i=(o=r)&&o.__esModule?o:{default:o};var a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("table.before",(function(){return i.default}))};t.default=a,a.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(111),u=n(27),s=(o=u)&&o.__esModule?o:{default:o},c=n(7);var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(e,n){d(this,t);var o=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.onElementsChanged=function(){o.forceUpdate()},o.setDecisionTableName=function(e){o.modeling.editDecisionTableName(e)},o.setDecisionTableId=function(e){o.getBusinessObject().id!==e&&o.modeling.editDecisionTableId(e)},o.validateId=function(e){var t=o.getBusinessObject();return(0,a.validateId)(t,e)},(0,c.inject)(o),o}return p(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.context.injector;this.sheet=e.get("sheet"),this.modeling=e.get("modeling"),this.setupChangeListeners({bind:this.getBusinessObject().id})}},{key:"componentWillUnmount",value:function(){this.setupChangeListeners({unbind:this.getBusinessObject().id})}},{key:"setupChangeListeners",value:function(e){var t=e.bind,n=e.unbind;"string"==typeof n&&this.changeSupport.offElementsChanged(n,this.onElementsChanged),"string"==typeof t&&this.changeSupport.onElementsChanged(t,this.onElementsChanged)}},{key:"getBusinessObject",value:function(){return this.sheet.getRoot().businessObject.$parent}},{key:"render",value:function(){var e=this.getBusinessObject(),t=e.id,n=e.name;return(0,i.createVNode)(1,"header","decision-table-properties",[(0,i.createComponentVNode)(2,y,{className:"decision-table-name",value:n,ctrlForNewline:!0,onChange:this.setDecisionTableName,elementId:"__decisionProperties_name",coords:"0:__decisionProperties"}),(0,i.createComponentVNode)(2,v,{className:"decision-table-id",value:t,ctrlForNewline:!0,validate:this.validateId,onChange:this.setDecisionTableId,elementId:"__decisionProperties_id",coords:"1:__decisionProperties"})],4)}}]),t}(i.Component);t.default=h,h.$inject=["sheet","modeling","changeSupport"];var y=function(e){function t(e,n){d(this,t);var o=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return(0,c.mixin)(o,c.SelectionAware),o}return p(t,e),l(t,[{key:"render",value:function(){var e=(0,c.classNames)(this.getSelectionClasses(),this.getClassName());return(0,i.createVNode)(1,"h3",e,this.getEditor(),0,{"data-element-id":this.props.elementId,"data-coords":this.props.coords,title:"Decision Name"})}}]),t}(s.default),v=function(e){function t(e,n){d(this,t);var o=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return(0,c.mixin)(o,c.SelectionAware),o}return p(t,e),l(t,[{key:"render",value:function(){var e=(0,c.classNames)(this.getSelectionClasses(),this.getClassName());return(0,i.createVNode)(1,"h5",e,this.getEditor(),0,{title:"Decision Id","data-element-id":this.props.elementId,"data-coords":this.props.coords})}}]),t}(s.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(21)),r=i(n(457));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default],__init__:["hitPolicyProvider"],hitPolicyProvider:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var o=n(2),r=a(n(458)),i=a(n(459));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){e.onGetComponent("cell",(function(e){if("before-label-cells"===e.cellType)return r.default})),e.onGetComponent("context-menu",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.contextMenuType&&"hit-policy-edit"===e.contextMenuType)return i.default})),n.on("hitPolicy.edit",(function(e){var n=e.event,r=(0,o.closest)(n.target,"th",!0).getBoundingClientRect(),i=r.left,u=r.top,s=r.width,c=r.height,l=a.getContainer();t.open({x:i+l.parentNode.scrollLeft,y:u+l.parentNode.scrollTop,width:s,height:c},{contextMenuType:"hit-policy-edit",offset:{x:4,y:4}})}))}u.$inject=["components","contextMenu","eventBus","renderer"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(7),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onClick=function(e){r.eventBus.fire("hitPolicy.edit",{event:e})},r.onElementsChanged=function(){r.forceUpdate()},(0,i.inject)(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"getRoot",value:function(){return this.sheet.getRoot()}},{key:"componentWillMount",value:function(){this.changeSupport.onElementsChanged(this.getRoot().id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){this.changeSupport.offElementsChanged(this.getRoot().id,this.onElementsChanged)}},{key:"render",value:function(){var e=this.getRoot().businessObject,t=e.hitPolicy,n=t.charAt(0),o=function(e){switch(e){case"SUM":return"+";case"MIN":return"<";case"MAX":return">";case"COUNT":return"#";default:return""}}(e.aggregation);return(0,r.createVNode)(1,"th","hit-policy header",[n,o],0,{"data-hit-policy":"true",title:"Hit Policy = "+t,onClick:this.onClick,rowspan:"3"})}}]),t}(r.Component);t.default=u,u.$inject=["changeSupport","sheet","eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(13),u=(o=a)&&o.__esModule?o:{default:o};var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var c=["UNIQUE","FIRST","PRIORITY","ANY","COLLECT","RULE ORDER","OUTPUT ORDER"],l=["SUM","MIN","MAX","COUNT"],d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.onHitPolicyChange=o.onHitPolicyChange.bind(o),o.onAggregationChange=o.onAggregationChange.bind(o),o.onElementsChanged=o.onElementsChanged.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"onHitPolicyChange",value:function(e){this._modeling.editHitPolicy(e,void 0)}},{key:"onAggregationChange",value:function(e){var t=""===e?void 0:e;this._modeling.editHitPolicy("COLLECT",t)}},{key:"onElementsChanged",value:function(){this.forceUpdate()}},{key:"componentWillMount",value:function(){var e=this.context.injector,t=this._changeSupport=this.context.changeSupport;this._sheet=e.get("sheet"),this._modeling=e.get("modeling");var n=this._sheet.getRoot(),o=n.businessObject,r=o.hitPolicy,i=o.aggregation;t.onElementsChanged(n.id,this.onElementsChanged),this.state={hitPolicy:r,aggregation:i}}},{key:"componentWillUnmount",value:function(){var e=this._sheet.getRoot();this._changeSupport.onElementsChanged(e.id,this.onElementsChanged)}},{key:"render",value:function(){var e=this._sheet.getRoot().businessObject,t=e.hitPolicy,n=e.aggregation,o=c.map((function(e){return{label:e,value:e}})),r=l.map((function(e){return{label:"NONE"===e?"-":e,value:e}}));return(0,i.createVNode)(1,"div","context-menu-container hit-policy-edit",[(0,i.createVNode)(1,"p","hit-policy-edit-policy",[(0,i.createVNode)(1,"label","dms-label",(0,i.createTextVNode)("Hit Policy:"),2),(0,i.createComponentVNode)(2,u.default,{className:"hit-policy-edit-policy-select",onChange:this.onHitPolicyChange,options:o,value:t})],4),"COLLECT"===t&&(0,i.createVNode)(1,"p","hit-policy-edit-operator",[(0,i.createVNode)(1,"label","dms-label",(0,i.createTextVNode)("Aggregation:"),2),(0,i.createComponentVNode)(2,u.default,{className:"hit-policy-edit-operator-select",onChange:this.onAggregationChange,options:r,value:n})],4)],0)}}]),t}(i.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(32),i=n(109),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var u=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._init=function(){i._registerDefaultBindings(),i._fire("init")},this._destroy=function(){i._fire("destroy"),i.unbind(),i._listeners=null},this._keyHandler=function(e){var t,n,o=i._listeners,r=e.keyCode||e.charCode||-1;for(t=0;n=o[t];t++)if(n(r,e))return e.preventDefault(),void e.stopPropagation()},this.unbind=function(){var e=i._node;e&&(i._fire("unbind"),o.event.unbind(e,"keydown",i._keyHandler,!0)),i._node=null},this._config=t||{},this._editorActions=r,this._eventBus=n,this._listeners=[],n.on("table.destroy",this._destroy),n.on("table.init",this._init),n.on("attach",(function(){i._config.bindTo&&i.bind(t.bindTo)})),n.on("detach",this.unbind)}return a(e,[{key:"bind",value:function(e){this.unbind(),this._node=e,o.event.bind(e,"keydown",this._keyHandler,!0),this._fire("bind")}},{key:"getBinding",value:function(){return this._node}},{key:"_fire",value:function(e){this._eventBus.fire("keyboard."+e,{node:this._node,listeners:this._listeners})}},{key:"_registerDefaultBindings",value:function(){var e=this._listeners,t=this._editorActions;e.push((function(e,n){if((0,i.isCmd)(n)&&!(0,i.isShift)(n)&&90===e)return t.trigger("undo"),!0})),e.push((function(e,n){if((0,i.isCmd)(n)&&(89===e||90===e&&(0,i.isShift)(n)))return t.trigger("redo"),!0})),e.push((function(e,n){if(13===e&&!(0,i.isCmd)(n)&&(0,r.findSelectableAncestor)(n.target)){var o=(0,i.isShift)(n)?"selectCellAbove":"selectCellBelow";return t.trigger(o),!0}}))}},{key:"addListener",value:function(e){this._listeners.unshift(e)}},{key:"removeListener",value:function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))}}]),e}();t.default=u,u.$inject=["config.keyboard","eventBus","editorActions"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(462)),r=l(n(465)),i=l(n(466)),a=l(n(467)),u=l(n(112)),s=l(n(468)),c=l(n(479));function l(e){return e&&e.__esModule?e:{default:e}}t.default={__init__:["dmnUpdater","idChangeBehavior","modeling"],__depends__:[c.default,o.default],dmnUpdater:["type",r.default],dmnFactory:["type",i.default],elementFactory:["type",a.default],idChangeBehavior:["type",u.default],modeling:["type",s.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(463);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=o,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(464),i=(o=r)&&o.__esModule?o:{default:o};t.default={commandStack:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0);function r(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],(function(){this.clear(!1)}),this)}r.$inject=["eventBus","injector"],r.prototype.execute=function(e,t){if(!e)throw new Error("command required");var n={command:e,context:t};this._pushAction(n),this._internalExecute(n),this._popAction(n)},r.prototype.canExecute=function(e,t){var n={command:e,context:t},o=this._getHandler(e),r=this._fire(e,"canExecute",n);if(void 0===r){if(!o)return!1;o.canExecute&&(r=o.canExecute(t))}return r},r.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,!1!==e&&this._fire("changed")},r.prototype.undo=function(){var e,t=this._getUndoAction();if(t){for(this._pushAction(t);t&&(this._internalUndo(t),(e=this._getUndoAction())&&e.id===t.id);)t=e;this._popAction()}},r.prototype.redo=function(){var e,t=this._getRedoAction();if(t){for(this._pushAction(t);t&&(this._internalExecute(t,!0),(e=this._getRedoAction())&&e.id===t.id);)t=e;this._popAction()}},r.prototype.register=function(e,t){this._setHandler(e,t)},r.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");var n=this._injector.instantiate(t);this.register(e,n)},r.prototype.canUndo=function(){return!!this._getUndoAction()},r.prototype.canRedo=function(){return!!this._getRedoAction()},r.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},r.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},r.prototype._internalUndo=function(e){var t=this,n=e.command,o=e.context,r=this._getHandler(n);this._atomicDo((function(){t._fire(n,"revert",e),r.revert&&t._markDirty(r.revert(o)),t._revertedAction(e),t._fire(n,"reverted",e)}))},r.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);var o,r,i,a=t?[e+"."+t,t]:[e];for(n=this._eventBus.createEvent(n),o=0;(r=a[o])&&(i=this._eventBus.fire("commandStack."+r,n),!n.cancelBubble);o++);return i},r.prototype._createId=function(){return this._uid++},r.prototype._atomicDo=function(e){var t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}},r.prototype._internalExecute=function(e,t){var n=this,o=e.command,r=e.context,i=this._getHandler(o);if(!i)throw new Error("no command handler registered for <"+o+">");this._pushAction(e),t||(this._fire(o,"preExecute",e),i.preExecute&&i.preExecute(r),this._fire(o,"preExecuted",e)),this._atomicDo((function(){n._fire(o,"execute",e),i.execute&&n._markDirty(i.execute(r)),n._executedAction(e,t),n._fire(o,"executed",e)})),t||(this._fire(o,"postExecute",e),i.postExecute&&i.postExecute(r),this._fire(o,"postExecuted",e)),this._popAction(e)},r.prototype._pushAction=function(e){var t=this._currentExecution,n=t.actions,o=n[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=o&&o.id||this._createId()),n.push(e)},r.prototype._popAction=function(){var e=this._currentExecution,t=e.actions,n=e.dirty;t.pop(),t.length||(this._eventBus.fire("elements.changed",{elements:(0,o.uniqueBy)("id",n)}),n.length=0,this._fire("changed"))},r.prototype._markDirty=function(e){var t=this._currentExecution;e&&(e=(0,o.isArray)(e)?e:[e],t.dirty=t.dirty.concat(e))},r.prototype._executedAction=function(e,t){var n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)},r.prototype._revertedAction=function(e){this._stackIdx--},r.prototype._getHandler=function(e){return this._handlerMap[e]},r.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(3),a=n(9),u=(o=a)&&o.__esModule?o:{default:o};var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.executed(["row.add","row.remove","col.add","col.remove"],l((function(e){var t=e.context,n=t.row||t.col;o.updateRoot(n,t.oldRoot)}))),o.reverted(["row.add","row.remove","col.add","col.remove"],l((function(e){var t=e.context,n=t.row||t.col;o.updateRoot(n,t.newRoot)}))),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"updateRoot",value:function(e,t){var n=this,o=e.root,r=e.businessObject;if((0,i.is)(e,"dmn:DecisionRule")){if(t){var a=t.businessObject.get("rule"),u=a.indexOf(r);a.splice(u,1),r.$parent=null}if(o){var s=o.businessObject,c=o.rows.indexOf(e);s.get("rule").splice(c,0,r),r.$parent=s,e.cells.forEach((function(t,o){n.wireCell(t,e,o)}))}}if((0,i.is)(e,"dmn:InputClause")||(0,i.is)(e,"dmn:OutputClause")){var l=void 0,d=void 0;if(t){var f=t.businessObject,p=f.get("input"),h=f.get("output");if((0,i.is)(e,"dmn:InputClause")&&(l=p,d=p.indexOf(r)),(0,i.is)(e,"dmn:OutputClause")&&(l=h,d=h.indexOf(r)),-1===d)throw new Error("inconsistent model: clause not in table");l.splice(d,1),r.$parent=null,e.cells.forEach((function(e,o){n.unwireCell(e,t.rows[o])}))}if(o){var y=o.businessObject,v=y.get("input"),m=y.get("output"),g=o.cols.indexOf(e),b=void 0,_=void 0;(0,i.is)(e,"dmn:InputClause")&&(_=v,b=g),(0,i.is)(e,"dmn:OutputClause")&&(_=m,b=g-v.length),_.splice(b,0,r),r.$parent=y,e.cells.forEach((function(e,t){n.wireCell(e,o.rows[t],g)}))}}}},{key:"unwireCell",value:function(e,t){var n,o=e.businessObject,r=t.businessObject,a=r.get("inputEntry"),u=r.get("outputEntry"),s=void 0;if((0,i.is)(e,"dmn:UnaryTests")&&(s=a),(0,i.is)(e,"dmn:LiteralExpression")&&(s=u),-1===(n=s.indexOf(o)))throw new Error("cell not in row");s.splice(n,1),o.$parent=null}},{key:"wireCell",value:function(e,t,n){var o=e.businessObject,r=t.businessObject,a=r.get("inputEntry"),u=r.get("outputEntry"),s=void 0,c=void 0;o.$parent!==r&&((0,i.is)(e,"dmn:UnaryTests")&&(s=a,c=n),(0,i.is)(e,"dmn:LiteralExpression")&&(s=u,c=n-a.length),s.splice(c,0,o),o.$parent=r)}}]),t}(u.default);function l(e){return function(t){var n=t.context,o=n.row||n.col;(0,i.is)(o,"dmn:DMNElement")&&e(t)}}t.default=c,c.$inject=["eventBus","sheet"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._model=t}return r(e,[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._model.create(e,t||{});return(0,o.is)(n,"dmn:InputClause")&&(t.inputExpression?n.inputExpression=t.inputExpression:(n.inputExpression=this.create("dmn:LiteralExpression",{typeRef:"string"}),n.inputExpression.$parent=n)),(0,o.is)(n,"dmn:OutputClause")&&(n.typeRef=t.typeRef||"string"),((0,o.is)(n,"dmn:UnaryTests")||(0,o.is)(n,"dmn:LiteralExpression"))&&(n.text=t.text||""),this._ensureId(n),n}},{key:"_needsId",value:function(e){return(0,o.is)(e,"dmn:DMNElement")}},{key:"_ensureId",value:function(e){var t=(e.$type||"").replace(/^[^:]*:/g,"")+"_";!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(t,e))}}]),e}();t.default=i,i.$inject=["moddle"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(3),a=n(97),u=(o=a)&&o.__esModule?o:{default:o};var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._dmnFactory=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"create",value:function(e,n){var o=this._dmnFactory,r=n.businessObject,a=n.type,u=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(n,["businessObject","type"]);if(!r){if(!a){if("root"===e)a="dmn:DecisionTable";else if("cell"===e){var c=u.col;(0,i.is)(c,"dmn:OutputClause")&&(a="dmn:LiteralExpression"),(0,i.is)(c,"dmn:InputClause")&&(a="dmn:UnaryTests")}if(!a)throw new Error("cannot guess <type>")}r=o.create(a)}return function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"create",this).call(this,e,s({businessObject:r,id:r.id},u))}}]),t}(u.default);t.default=l,l.$inject=["dmnFactory"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(0),i=c(n(469)),a=c(n(477)),u=c(n(113)),s=c(n(478));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var d=function(e){function t(e,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return a._eventBus=e,a._elementFactory=n,a._commandStack=r,a._sheet=i,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"getHandlers",value:function(){return t._getHandlers()}},{key:"editDecisionTableName",value:function(e){var t={element:this._sheet.getRoot().businessObject.$parent,properties:{name:e}};this._commandStack.execute("updateProperties",t)}},{key:"editDecisionTableId",value:function(e){var t={element:this._sheet.getRoot().businessObject.$parent,properties:{id:e}};this._commandStack.execute("updateProperties",t)}},{key:"editHitPolicy",value:function(e,t){var n={element:this._sheet.getRoot().businessObject,properties:{hitPolicy:e,aggregation:t}};this._commandStack.execute("updateProperties",n)}},{key:"updateProperties",value:function(e,t){var n={element:e,properties:t};this._commandStack.execute("updateProperties",n)}},{key:"editInputExpression",value:function(e,t){var n={element:e,properties:t};this._commandStack.execute("updateProperties",n)}},{key:"editOutputName",value:function(e,t){var n={element:e,properties:{name:t}};this._commandStack.execute("updateProperties",n)}},{key:"editInputExpressionTypeRef",value:function(e,t){var n={element:e,properties:{typeRef:t}};this._commandStack.execute("updateProperties",n)}},{key:"editOutputTypeRef",value:function(e,t){var n={element:e,properties:{typeRef:t}};this._commandStack.execute("updateProperties",n)}},{key:"editCell",value:function(e,t){var n={element:e,properties:{text:t}};this._commandStack.execute("updateProperties",n)}},{key:"editAnnotation",value:function(e,t){var n={element:e,properties:{description:t}};this._commandStack.execute("updateProperties",n)}},{key:"editAllowedValues",value:function(e,t){var n={element:e,allowedValues:t};this._commandStack.execute("editAllowedValues",n)}},{key:"editExpressionLanguage",value:function(e,t){var n={element:e,properties:{expressionLanguage:t}};this._commandStack.execute("updateProperties",n)}},{key:"claimId",value:function(e,t){var n={id:e,element:t,claiming:!0};this._commandStack.execute("id.updateClaim",n)}},{key:"unclaimId",value:function(e,t){var n={id:e,element:t};this._commandStack.execute("id.updateClaim",n)}}],[{key:"_getHandlers",value:function(){return(0,r.assign)({},function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.__proto__||Object.getPrototypeOf(t),"_getHandlers",this).call(this),{editAllowedValues:a.default,updateProperties:u.default,"id.updateClaim":s.default})}}]),t}(i.default);t.default=d,d.$inject=["eventBus","elementFactory","commandStack","sheet"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(12),i=f(n(470)),a=f(n(471)),u=f(n(472)),s=f(n(473)),c=f(n(474)),l=f(n(475)),d=f(n(476));function f(e){return e&&e.__esModule?e:{default:e}}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var y=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._eventBus=t,this._elementFactory=n,this._commandStack=r,t.on("table.init",(function(){!function(e,t){(0,o.forEach)(e,(function(e,n){t.registerHandler(n,e)}))}(i.getHandlers(),r)}))}return h(e,[{key:"getHandlers",value:function(){return e._getHandlers()}},{key:"_create",value:function(e,t){return t instanceof r.Base?t:this._elementFactory.create(e,t)}},{key:"addRow",value:function(e,t){var n=this._create("row",e),o={row:n,index:t};return this._commandStack.execute("row.add",o),n}},{key:"removeRow",value:function(e){this._commandStack.execute("row.remove",{row:e})}},{key:"moveRow",value:function(e,t){var n={row:e,index:t};this._commandStack.execute("row.move",n)}},{key:"addCol",value:function(e,t){var n=this._create("col",e),o={col:n,index:t};return this._commandStack.execute("col.add",o),n}},{key:"removeCol",value:function(e){this._commandStack.execute("col.remove",{col:e})}},{key:"moveCol",value:function(e,t){var n={col:e,index:t};this._commandStack.execute("col.move",n)}},{key:"editCell",value:function(e,t){var n=p({cell:e},t);this._commandStack.execute("cell.edit",n)}}],[{key:"_getHandlers",value:function(){return{"row.add":i.default,"row.remove":a.default,"row.move":u.default,"col.add":s.default,"col.remove":c.default,"col.move":l.default,"cell.edit":d.default}}}]),e}();t.default=y,y.$inject=["eventBus","elementFactory","commandStack"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._sheet=t,this._elementFactory=n}return o(e,[{key:"execute",value:function(e){var t=this._sheet,n=this._elementFactory,o=t.getRoot(),r=e.row,i=e.index;return void 0===i&&(i=e.index=o.rows.length),e.newRoot=o,r.cells.length||o.cols.forEach((function(e,t){var o=n.create("cell",{row:r,col:e});r.cells[t]=o})),t.addRow(r,i),t.getRoot()}},{key:"revert",value:function(e){var t=e.row,n=this._sheet;return n.removeRow(t),n.getRoot()}}]),e}();t.default=r,r.$inject=["sheet","elementFactory"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._sheet=t}return o(e,[{key:"execute",value:function(e){var t=this._sheet,n=t.getRoot(),o=e.row,r=e.oldIndex=n.rows.indexOf(o);if(e.oldRoot=o.root,-1===r)throw new Error("row#"+o.id+" not in sheet");return t.removeRow(o),t.getRoot()}},{key:"revert",value:function(e){var t=e.row,n=e.oldIndex,o=this._sheet;return o.addRow(t,n),o.getRoot()}}]),e}();t.default=r,r.$inject=["sheet"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._modeling=t}return o(e,[{key:"preExecute",value:function(e){var t=e.row;this._modeling.removeRow(t)}},{key:"postExecute",value:function(e){var t=e.row,n=e.index;this._modeling.addRow(t,n)}}]),e}();t.default=r,r.$inject=["modeling"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._sheet=t,this._elementFactory=n}return o(e,[{key:"execute",value:function(e){var t=this._sheet,n=this._elementFactory,o=t.getRoot(),r=e.col,i=e.index;return void 0===i&&(i=e.index=o.cols.length),e.newRoot=o,r.cells.length||o.rows.forEach((function(e,t){var o=n.create("cell",{row:e,col:r});r.cells[t]=o})),t.addCol(r,i),t.getRoot()}},{key:"revert",value:function(e){var t=e.col,n=this._sheet;return n.removeCol(t),n.getRoot()}}]),e}();t.default=r,r.$inject=["sheet","elementFactory"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._sheet=t,this._elementFactory=n}return o(e,[{key:"execute",value:function(e){var t=this._sheet,n=e.col,o=e.oldRoot=n.root;if(-1===(e.oldIndex=o.cols.indexOf(n)))throw new Error("col#"+n.id+" not in sheet");return t.removeCol(n),t.getRoot()}},{key:"revert",value:function(e){var t=e.col,n=e.oldIndex,o=this._sheet;return o.addCol(t,n),o.getRoot()}}]),e}();t.default=r,r.$inject=["sheet","elementFactory"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._modeling=t}return o(e,[{key:"preExecute",value:function(e){var t=e.col;this._modeling.removeCol(t)}},{key:"postExecute",value:function(e){var t=e.col,n=e.index;this._modeling.addCol(t,n)}}]),e}();t.default=r,r.$inject=["modeling"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"execute",value:function(e){return e.cell}},{key:"revert",value:function(e){return e.cell}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._dmnFactory=t,this._moddle=n,this._modeling=o}return r(e,[{key:"execute",value:function(e){var t=e.element,n=e.allowedValues;return(0,o.is)(t,"dmn:InputClause")?(t.inputValues?e.oldAllowedValues=t.inputValues.text:a(n)||(t.inputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),a(n)?t.inputValues&&delete t.inputValues:t.inputValues.text=n.join(",")):(t.outputValues&&t?e.oldAllowedValues=t.outputValues.text:a(n)||(t.outputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),a(n)?t.outputValues&&delete t.outputValues:t.outputValues.text=n.join(",")),t}},{key:"revert",value:function(e){var t=e.element,n=e.oldAllowedValues;return(0,o.is)(t,"dmn:InputClause")?n?(t.inputValues||(t.inputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),t.inputValues.text=n):delete t.inputValues:n?(t.outputValues||(t.outputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),t.outputValues.text=n):delete t.outputValues,t}}]),e}();function a(e){return null===e}t.default=i,i.$inject=["dmnFactory","moddle","modeling"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._moddle=t}return o(e,[{key:"execute",value:function(e){var t=this._moddle.ids,n=e.id,o=e.element;e.claiming?t.claim(n,o):t.unclaim(n)}},{key:"revert",value:function(e){var t=this._moddle.ids,n=e.id,o=e.element;e.claiming?t.unclaim(n):t.claim(n,o)}}]),e}();t.default=r,r.$inject=["moddle"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(480)),r=i(n(481));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__init__:["idClaimBehavior","idUnclaimBehavior"],idClaimBehavior:["type",o.default],idUnclaimBehavior:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(9),a=(o=i)&&o.__esModule?o:{default:o},u=n(0);var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._ids=n.ids,i._modeling=o,i.preExecute(["row.add","col.add"],(function(e){var t=e.context,n=t.row||t.col;i.claimId(n.businessObject),n.cells&&n.cells.forEach((function(e){return i.claimId(e.businessObject)}))})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"claimId",value:function(e){var t=this;e.id&&!this._ids.assigned(e.id)&&this._modeling.claimId(e.id,e),e.$descriptor.properties.forEach((function(n){var o=e[n.name];o&&((0,u.isArray)(o)&&o.forEach((function(e){return t.claimId(e)})),o.$type&&t.claimId(o))}))}}]),t}(a.default);t.default=c,c.$inject=["eventBus","moddle","modeling"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(9),a=(o=i)&&o.__esModule?o:{default:o},u=n(0);var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o._modeling=n,o.preExecute(["row.remove","col.remove"],(function(e){var t=e.context,n=t.row||t.col;o.unclaimId(n.businessObject),n.cells&&n.cells.forEach((function(e){return o.unclaimId(e.businessObject)}))})),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"unclaimId",value:function(e){var t=this;e.id&&this._modeling.unclaimId(e.id,e),e.$descriptor.properties.forEach((function(n){var o=e[n.name];o&&((0,u.isArray)(o)&&o.forEach((function(e){return t.unclaimId(e)})),o.$type&&t.unclaimId(o))}))}}]),t}(a.default);t.default=c,c.$inject=["eventBus","modeling"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(20)),r=a(n(483)),i=a(n(104));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[o.default,i.default],__init__:["decisionRulesEditor"],decisionRulesEditor:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(484),i=(o=r)&&o.__esModule?o:{default:o};var a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("cell",1500,(function(e){if("rule"===e.cellType)return i.default}))};t.default=a,a.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(0),u=n(3),s=n(27),c=(o=s)&&o.__esModule?o:{default:o},l=n(7);var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y={feel:"FEEL",juel:"JUEL",python:"Python",javascript:"JavaScript",groovy:"Groovy",jruby:"JRuby"},v=function(e){function t(e,n){f(this,t);var o=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.state={isFocussed:!1},o.changeCellValue=o.changeCellValue.bind(o),o.onFocus=o.onFocus.bind(o),o.onBlur=o.onBlur.bind(o),o.onElementsChanged=o.onElementsChanged.bind(o),o}return h(t,e),d(t,[{key:"onElementsChanged",value:function(){this.forceUpdate()}},{key:"componentWillMount",value:function(){var e=this.context.injector,t=this.props.cell,n=this._changeSupport=this.context.changeSupport;this._modeling=e.get("modeling"),n.onElementsChanged(t.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var e=this.props.cell;this._changeSupport.offElementsChanged(e.id,this.onElementsChanged)}},{key:"changeCellValue",value:function(e){var t=this.props.cell;this._modeling.editCell(t.businessObject,e)}},{key:"onFocus",value:function(){this.setState({isFocussed:!0})}},{key:"onBlur",value:function(){this.setState({isFocussed:!1})}},{key:"render",value:function(){var e=this.props,t=e.cell,n=e.rowIndex,o=e.row,r=e.col,a=e.colIndex,s=this.state.isFocussed,c=(0,u.is)(t,"dmn:UnaryTests")?"input-cell":"output-cell",d=t.businessObject;return(0,i.createComponentVNode)(2,l.Cell,{className:c,elementId:t.id,coords:n+":"+a,"data-row-id":o.id,"data-col-id":r.id,children:(0,i.createComponentVNode)(2,m,{className:"cell-editor",ctrlForNewline:!0,onFocus:this.onFocus,onBlur:this.onBlur,isFocussed:s,onChange:this.changeCellValue,value:d.text,businessObject:d})})}}]),t}(i.Component);t.default=v;var m=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),d(t,[{key:"isDefaultExpressionLanguage",value:function(e){var t=e.expressionLanguage,n=(0,u.is)(e,"dmn:UnaryTests"),o=this.context.injector.get("config"),r=o.defaultInputExpressionLanguage,i=o.defaultOutputExpressionLanguage;return n?!t&&!r||t===(r||"feel"):!t&&!i||t===(i||"juel")}},{key:"getDescription",value:function(e){return e.description}},{key:"getExpressionLanguageLabel",value:function(e){var t=e.expressionLanguage;return(0,u.is)(e,"dmn:UnaryTests")?t?y[e.expressionLanguage.toLowerCase()]:"FEEL":t?y[e.expressionLanguage.toLowerCase()]:"JUEL"}},{key:"isScript",value:function(e){return(0,u.is)(e,"dmn:UnaryTests")&&("FEEL"!==(e.expressionLanguage||"FEEL")||-1!==e.text.indexOf("\n"))}},{key:"render",value:function(){var e=this.props,t=e.businessObject,n=e.isFocussed,o=this.getDescription(t),r=this.isDefaultExpressionLanguage(t),u=this.getExpressionLanguageLabel(t)||t.expressionLanguage,s=this.isScript(t);return(0,i.createVNode)(1,"div",this.getClassName(),[(0,a.isString)(o)&&!n&&(0,i.createVNode)(1,"div","description-indicator"),this.getEditor({className:s?"script-editor":null}),!r&&!n&&(0,i.createVNode)(1,"span","dms-badge dmn-expression-language",[(0,i.createVNode)(1,"span","dms-badge-icon dmn-icon-file-code"),(0,i.createVNode)(1,"span","dms-badge-label",u,0)],4,{title:"Expression Language = "+u})],0)}}]),t}(c.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCmd=s;var o,r=n(486),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var u=function(){function e(t,n,o,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._providers=[],t.onGetComponent("table.before",(function(){return i.default})),r.on("simpleMode.open",(function(e){var t=e.element,o=e.node.getBoundingClientRect(),r=o.left,i=o.top,u=o.width,s=o.height,c=a.getContainer();n.open({x:r+c.parentNode.scrollLeft,y:i+c.parentNode.scrollTop,width:u,height:s},{contextMenuType:"simple-mode-edit",element:t,offset:{x:4,y:4}})})),r.on("cell.click",(function(e){var t=e.event,n=e.node,i=e.id;if(s(t)){var a=o.get(i);a&&r.fire("simpleMode.open",{node:n,element:a}),e.preventDefault()}}))}return a(e,[{key:"registerProvider",value:function(e){this._providers.push(e)}},{key:"canSimpleEdit",value:function(e){return this._providers.reduce((function(t,n){return t||n(e)}),!1)}}]),e}();function s(e){return!e.altKey&&(e.ctrlKey||e.metaKey)}t.default=u,u.$inject=["components","contextMenu","elementRegistry","eventBus","renderer"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=n(0),a=n(32),u=n(3),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.state={top:0,left:0,isVisible:!1,isDisabled:!0};var i=n.injector,a=r._eventBus=i.get("eventBus"),s=i.get("simpleMode");return r._renderer=i.get("renderer"),r._selection=n.injector.get("selection"),r.updatePosition=r.updatePosition.bind(r),a.on("selection.changed",(function(e){var t,n=e.selection;n&&s.canSimpleEdit(n)?(r.setState({isVisible:!0,selection:n},r.updatePosition),t=!function(e,t){if((0,u.isInput)(e.col))return!t||"feel"===t;if((0,u.isOutput)(e.col))return!t||"juel"===t}(n,n.businessObject.expressionLanguage),r.setState({isVisible:!0,selection:n,isDisabled:t},r.updatePosition)):r.setState({isVisible:!1})})),r.onClick=r.onClick.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"updatePosition",value:function(){var e=this.state.selection;if(e&&this.node){var t=this._container=this._renderer.getContainer(),n=(0,a.getNodeById)(e.id,t).getBoundingClientRect(),o=this.node.getBoundingClientRect(),r=t.getBoundingClientRect(),u=t.scrollLeft,s=t.scrollTop,c={};n.left+n.width/2>r.width/2?c.left=window.scrollX-r.left+n.left-o.width+4+u+"px":c.left=window.scrollX-r.left+n.left+n.width-4+u+"px",n.top+n.height/2>r.height/2?c.top=window.scrollY-r.top+n.top-o.height+4+s+"px":c.top=window.scrollY-r.top+n.top-4+s+"px",(0,i.assign)(this.node.style,c)}}},{key:"onClick",value:function(){if(!this.state.isDisabled){var e=this._selection.get();e&&(this._eventBus.fire("simpleMode.open",{element:e,node:(0,a.getNodeById)(e.id,this._container)}),this.setState({isVisible:!1}))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.isDisabled,o=t.isVisible,i=t.top,a=t.left,u=["simple-mode-button","no-deselect"];return n&&u.push("disabled"),o?(0,r.createVNode)(1,"div",u.join(" "),(0,r.createVNode)(1,"span","dmn-icon-edit"),2,{onClick:this.onClick,style:{top:i,left:a},title:n?"Editing not supported for set expression language":"Edit"},null,(function(t){return e.node=t})):null}}]),t}(r.Component);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(34)),r=a(n(488)),i=a(n(33));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[i.default,o.default],__init__:["simpleBooleanEdit"],simpleBooleanEdit:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(489),i=(o=r)&&o.__esModule?o:{default:o},a=n(3);var u=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.registerProvider((function(e){return((0,a.isInput)(e.col)||(0,a.isOutput)(e.col))&&"boolean"===s(e)})),t.onGetComponent("context-menu",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.contextMenuType&&"simple-mode-edit"===e.contextMenuType){if(!e.element)return;var t=s(e.element);if("boolean"===t)return i.default}}))};function s(e){return(0,a.isInput)(e.col)?e.col&&e.col.businessObject.inputExpression.typeRef:e.col&&e.col.businessObject.typeRef}t.default=u,u.$inject=["components","simpleMode"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(13),u=(o=a)&&o.__esModule?o:{default:o},s=n(490);var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o._modeling=n.injector.get("modeling");var i=o.props.context.element,a=(0,s.parseString)(i.businessObject.text);return o.state={value:a||"none"},o.editCell=o.editCell.bind(o),o.onChange=o.onChange.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"editCell",value:function(e,t){this._modeling.editCell(e,t)}},{key:"onChange",value:function(e){var t=this.props.context.element;this.editCell(t.businessObject,"none"===e?"":e),this.setState({value:e})}},{key:"render",value:function(){var e=this.state.value,t=[{label:"-",value:"none"},{label:"Yes",value:"true"},{label:"No",value:"false"}];return(0,i.createVNode)(1,"div","simple-boolean-edit context-menu-container",[(0,i.createVNode)(1,"h3","dms-heading",(0,i.createTextVNode)("Edit Boolean"),2),(0,i.createVNode)(1,"h4","dms-heading",(0,i.createTextVNode)("Set Value"),2),(0,i.createComponentVNode)(2,u.default,{noInput:!0,className:"dms-block",onChange:this.onChange,options:t,value:e})],4)}}]),t}(i.Component);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseString=function(e){if(!e||function(e){return""===e}(e))return"none";if("true"===e.trim())return"true";if("false"===e.trim())return"false"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(34)),r=a(n(492)),i=a(n(33));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[i.default,o.default],__init__:["simpleDateEdit"],simpleDateEdit:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(493)),r=a(n(494)),i=n(3);function a(e){return e&&e.__esModule?e:{default:e}}var u=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.registerProvider((function(e){var t=s(e);return((0,i.isInput)(e.col)||(0,i.isOutput)(e.col))&&c(t)})),t.onGetComponent("context-menu",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.contextMenuType&&"simple-mode-edit"===e.contextMenuType){if(!e.element)return;var t=s(e.element);if(c(t)){if((0,i.isInput)(e.element.col))return o.default;if((0,i.isOutput)(e.element.col))return r.default}}}))};function s(e){return(0,i.isInput)(e.col)?e.col&&e.col.businessObject.inputExpression.typeRef:e.col&&e.col.businessObject.typeRef}function c(e){return"date"===e}t.default=u,u.$inject=["components","simpleMode"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=s(n(42)),a=s(n(13)),u=n(114);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r._modeling=n.injector.get("modeling");var i=r.props.context.element,a=(0,u.parseString)(i.businessObject.text);if(a){var s=void 0;s=a.date?[a.date,""]:a.dates?a.dates:["",""],r.state={type:a.type,dates:s}}else r.state={type:"exact",dates:["",""]};var c=n.injector.get("debounceInput");return r.debouncedEditCell=c(r.editCell.bind(r)),r.editCell=r.editCell.bind(r),r.onTypeChange=r.onTypeChange.bind(r),r.onSetStartDateTodayClick=r.onSetStartDateTodayClick.bind(r),r.onSetEndDateTodayClick=r.onSetEndDateTodayClick.bind(r),r.onStartDateInput=r.onStartDateInput.bind(r),r.onEndDateInput=r.onEndDateInput.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"editCell",value:function(e,t){this._modeling.editCell(e,t)}},{key:"onTypeChange",value:function(e){var t=this.props.context.element,n=this.state.dates;this.setState({type:e}),(0,u.parseString)((0,u.getDateString)(e,n))&&this.editCell(t.businessObject,(0,u.getDateString)(e,n))}},{key:"onSetStartDateTodayClick",value:function(){var e=this.props.context.element,t=this.state,n=t.dates,o=t.type,r=(0,u.getSampleDate)();this.setState({dates:[r,n[1]]}),(0,u.parseString)((0,u.getDateString)(o,[r,n[1]]))&&this.editCell(e.businessObject,(0,u.getDateString)(o,[r,n[1]]))}},{key:"onSetEndDateTodayClick",value:function(){var e=this.props.context.element,t=this.state,n=t.dates,o=t.type,r=(0,u.getSampleDate)();this.setState({dates:[n[0],r]}),(0,u.parseString)((0,u.getDateString)(o,[n[0],r]))&&this.editCell(e.businessObject,(0,u.getDateString)(o,[n[0],r]))}},{key:"onStartDateInput",value:function(e){var t=e.isValid,n=e.value;if(t){var o=this.props.context.element,r=this.state,i=r.dates,a=r.type;this.setState({dates:[n,i[1]]}),this.debouncedEditCell(o.businessObject,(0,u.getDateString)(a,[n,i[1]]))}}},{key:"onEndDateInput",value:function(e){var t=e.isValid,n=e.value;if(t){var o=this.props.context.element,r=this.state,i=r.dates,a=r.type;this.setState({dates:[i[0],n]}),this.debouncedEditCell(o.businessObject,(0,u.getDateString)(a,[i[0],n]))}}},{key:"render",value:function(){var e=this.state,t=e.dates,n=e.type,o=[{label:"Exactly",value:"exact"},{label:"Before",value:"before"},{label:"After",value:"after"},{label:"Between",value:"between"}];return(0,r.createVNode)(1,"div","context-menu-container simple-date-edit",[(0,r.createVNode)(1,"h3","dms-heading",(0,r.createTextVNode)("Edit Date"),2),(0,r.createVNode)(1,"div","dms-fill-row",(0,r.createComponentVNode)(2,a.default,{noInput:!0,onChange:this.onTypeChange,options:o,value:n}),2),(0,r.createVNode)(1,"h4","dms-heading","between"===n?"Edit Start Date":"Set Date",0),(0,r.createVNode)(1,"div",null,[(0,r.createComponentVNode)(2,i.default,{className:"start-date-input dms-block",onInput:this.onStartDateInput,placeholder:"e.g. "+(0,u.getSampleDate)(),validate:u.validateISOString,value:t[0]}),(0,r.createVNode)(1,"p","dms-hint",[(0,r.createVNode)(1,"a","use-today",(0,r.createTextVNode)("Use today"),2,{href:"#",onClick:this.onSetStartDateTodayClick}),(0,r.createTextVNode)(".")],4)],4),"between"===n&&(0,r.createVNode)(1,"h4","dms-heading",(0,r.createTextVNode)("Edit End Date"),2),"between"===n&&(0,r.createVNode)(1,"div",null,[(0,r.createComponentVNode)(2,i.default,{className:"end-date-input dms-block",onInput:this.onEndDateInput,placeholder:"e.g. "+(0,u.getSampleDate)(),validate:u.validateISOString,value:t[1]}),(0,r.createVNode)(1,"p","dms-hint",[(0,r.createVNode)(1,"a","use-today",(0,r.createTextVNode)("Use today"),2,{href:"#",onClick:this.onSetEndDateTodayClick}),(0,r.createTextVNode)(".")],4)],4)],0)}}]),t}(r.Component);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(42),u=(o=a)&&o.__esModule?o:{default:o},s=n(114);var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o._modeling=n.injector.get("modeling");var i=o.props.context.element,a=(0,s.parseString)(i.businessObject.text);o.state={date:a?a.date:""};var u=n.injector.get("debounceInput");return o.debouncedEditCell=u(o.editCell.bind(o)),o.editCell=o.editCell.bind(o),o.onClick=o.onClick.bind(o),o.onInput=o.onInput.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"editCell",value:function(e,t){this._modeling.editCell(e,t)}},{key:"onClick",value:function(){var e=this.props.context.element,t=(0,s.getSampleDate)();this.setState({date:t}),this.editCell(e.businessObject,'date and time("'+t+'")')}},{key:"onInput",value:function(e){var t=e.isValid,n=e.value;if(t){var o=this.props.context.element;this.setState({date:n}),this.debouncedEditCell(o.businessObject,'date and time("'+n+'")')}}},{key:"render",value:function(){var e=this.state.date;return(0,i.createVNode)(1,"div","context-menu-container simple-date-edit",[(0,i.createVNode)(1,"h3","dms-heading",(0,i.createTextVNode)("Edit Date"),2),(0,i.createVNode)(1,"h4","dms-heading",(0,i.createTextVNode)("Set Date"),2),(0,i.createVNode)(1,"div",null,[(0,i.createComponentVNode)(2,u.default,{onInput:this.onInput,placeholder:"e.g. "+(0,s.getSampleDate)(),validate:s.validateISOString,value:e,className:"dms-block"}),(0,i.createVNode)(1,"p","dms-hint",[(0,i.createTextVNode)("Set date "),(0,i.createVNode)(1,"a","use-today",(0,i.createTextVNode)("to today"),2,{href:"#",onClick:this.onClick}),(0,i.createTextVNode)(".")],4)],4)],4)}}]),t}(i.Component);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(34)),r=a(n(496)),i=a(n(33));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[i.default,o.default],__init__:["simpleNumberEdit"],simpleNumberEdit:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(497)),r=a(n(498)),i=n(3);function a(e){return e&&e.__esModule?e:{default:e}}var u=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.registerProvider((function(e){var t=s(e);return((0,i.isInput)(e.col)||(0,i.isOutput)(e.col))&&("integer"===t||"long"===t||"double"===t)})),t.onGetComponent("context-menu",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.contextMenuType&&"simple-mode-edit"===e.contextMenuType){if(!e.element)return;var t=s(e.element);if(c(t)){if((0,i.isInput)(e.element.col))return o.default;if((0,i.isOutput)(e.element.col))return r.default}}}))};function s(e){return(0,i.isInput)(e.col)?e.col&&e.col.businessObject.inputExpression.typeRef:e.col&&e.col.businessObject.typeRef}function c(e){return"integer"===e||"long"===e||"double"===e}t.default=u,u.$inject=["components","simpleMode"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=s(n(28)),a=s(n(13)),u=n(115);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r._modeling=n.injector.get("modeling");var i=r.props.context.element,a=(0,u.parseString)(i.businessObject.text);r.state=a?{type:a.type,comparisonOperator:a.operator||"equals",comparisonValue:a.value||0,rangeStartValue:a.values?a.values[0]:0,rangeEndValue:a.values?a.values[1]:0,rangeStartType:a.start||"include",rangeEndType:a.end||"include"}:{type:"comparison",comparisonOperator:"equals",comparisonValue:0,rangeStartValue:0,rangeEndValue:0,rangeStartType:"include",rangeEndType:"include"};var s=n.injector.get("debounceInput");return r.debouncedEditCell=s(r.editCell.bind(r)),r.editCell=r.editCell.bind(r),r.onComparisonOperatorChange=r.onComparisonOperatorChange.bind(r),r.onComparisonValueChange=r.onComparisonValueChange.bind(r),r.onTypeChange=r.onTypeChange.bind(r),r.onRangeStartTypeChange=r.onRangeStartTypeChange.bind(r),r.onRangeStartValueChange=r.onRangeStartValueChange.bind(r),r.onRangeEndTypeChange=r.onRangeEndTypeChange.bind(r),r.onRangeEndValueChange=r.onRangeEndValueChange.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"editCell",value:function(e,t){this._modeling.editCell(e,t)}},{key:"onTypeChange",value:function(e){var t=this.props.context.element,n=this.state,o=n.comparisonOperator,r=n.comparisonValue,i=n.rangeStartValue,a=n.rangeEndValue,s=n.rangeStartType,c=n.rangeEndType;"comparison"===e?this.editCell(t.businessObject,(0,u.getComparisonString)(o,r)):this.editCell(t.businessObject,(0,u.getRangeString)(i,a,s,c)),this.setState({type:e})}},{key:"onComparisonOperatorChange",value:function(e){var t=this.props.context.element,n=this.state,o=n.type,r=n.comparisonValue;"comparison"===o&&(this.editCell(t.businessObject,(0,u.getComparisonString)(e,r)),this.setState({comparisonOperator:e}))}},{key:"onComparisonValueChange",value:function(e){var t=this.props.context.element,n=this.state,o=n.type,r=n.comparisonOperator;"comparison"===o&&(this.debouncedEditCell(t.businessObject,(0,u.getComparisonString)(r,e)),this.setState({comparisonValue:e}))}},{key:"onRangeStartTypeChange",value:function(e){var t=this.props.context.element,n=this.state,o=n.type,r=n.rangeStartValue,i=n.rangeEndValue,a=n.rangeEndType;"range"===o&&(this.editCell(t.businessObject,(0,u.getRangeString)(r,i,e,a)),this.setState({rangeStartType:e}))}},{key:"onRangeStartValueChange",value:function(e){var t=this.props.context.element,n=this.state,o=n.type,r=n.rangeEndValue,i=n.rangeStartType,a=n.rangeEndType;"range"===o&&(this.editCell(t.businessObject,(0,u.getRangeString)(e,r,i,a)),this.setState({rangeStartValue:e}))}},{key:"onRangeEndTypeChange",value:function(e){var t=this.props.context.element,n=this.state,o=n.type,r=n.rangeStartValue,i=n.rangeEndValue,a=n.rangeStartType;"range"===o&&(this.editCell(t.businessObject,(0,u.getRangeString)(r,i,a,e)),this.setState({rangeEndType:e}))}},{key:"onRangeEndValueChange",value:function(e){var t=this.props.context.element,n=this.state,o=n.type,r=n.rangeStartValue,i=n.rangeStartType,a=n.rangeEndType;"range"===o&&(this.editCell(t.businessObject,(0,u.getRangeString)(r,e,i,a)),this.setState({rangeEndValue:e}))}},{key:"renderComparison",value:function(e,t){return(0,r.createVNode)(1,"div","comparison",[(0,r.createVNode)(1,"h4","dms-heading",(0,r.createTextVNode)("Value"),2),(0,r.createVNode)(1,"div","dms-fill-row",[(0,r.createComponentVNode)(2,a.default,{noInput:!0,onChange:this.onComparisonOperatorChange,options:[{label:"Equals",value:"equals"},{label:"Less",value:"less"},{label:"Less or equals",value:"lessEquals"},{label:"Greater",value:"greater"},{label:"Greater or equals",value:"greaterEquals"}],value:e}),(0,r.createTextVNode)(" "),(0,r.createComponentVNode)(2,i.default,{className:"comparison-number-input",onInput:this.onComparisonValueChange,type:"number",value:t})],4)],4)}},{key:"renderRange",value:function(e,t,n,o){var u=[{label:"Include",value:"include"},{label:"Exclude",value:"exclude"}];return(0,r.createVNode)(1,"div","range",[(0,r.createVNode)(1,"h4","dms-heading",(0,r.createTextVNode)("Start Value"),2),(0,r.createVNode)(1,"div","dms-fill-row",[(0,r.createComponentVNode)(2,a.default,{noInput:!0,onChange:this.onRangeStartTypeChange,options:u,value:n}),(0,r.createTextVNode)(" "),(0,r.createComponentVNode)(2,i.default,{className:"range-start-number-input",onInput:this.onRangeStartValueChange,type:"number",value:e})],4),(0,r.createVNode)(1,"h4","dms-heading",(0,r.createTextVNode)("End Value"),2),(0,r.createVNode)(1,"div","dms-fill-row",[(0,r.createComponentVNode)(2,a.default,{noInput:!0,onChange:this.onRangeEndTypeChange,options:u,value:o}),(0,r.createTextVNode)(" "),(0,r.createComponentVNode)(2,i.default,{className:"range-end-number-input",onInput:this.onRangeEndValueChange,type:"number",value:t})],4)],4)}},{key:"render",value:function(){var e=this.state,t=e.type,n=e.comparisonOperator,o=e.comparisonValue,i=e.rangeStartValue,u=e.rangeEndValue,s=e.rangeStartType,c=e.rangeEndType,l=[{label:"Comparison",value:"comparison"},{label:"Range",value:"range"}];return(0,r.createVNode)(1,"div","context-menu-container simple-number-edit",[(0,r.createVNode)(1,"h3","dms-heading",(0,r.createTextVNode)("Edit Number"),2),(0,r.createVNode)(1,"div","dms-fill-row",(0,r.createComponentVNode)(2,a.default,{noInput:!0,onChange:this.onTypeChange,options:l,value:t}),2),"comparison"===t&&this.renderComparison(n,o),"range"===t&&this.renderRange(i,u,s,c)],0)}}]),t}(r.Component);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(28),u=(o=a)&&o.__esModule?o:{default:o},s=n(115);var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o._modeling=n.injector.get("modeling");var i=o.props.context.element,a=(0,s.parseString)(i.businessObject.text);o.state=a?{value:a.value}:{value:""};var u=n.injector.get("debounceInput");return o.debouncedEditCell=u(o.editCell.bind(o)),o.editCell=o.editCell.bind(o),o.onInput=o.onInput.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"editCell",value:function(e,t){this._modeling.editCell(e,t)}},{key:"onInput",value:function(e){var t=this.props.context.element;this.debouncedEditCell(t.businessObject,e),this.setState({value:e})}},{key:"render",value:function(){var e=this.state.value;return(0,i.createVNode)(1,"div","context-menu-container simple-number-edit",[(0,i.createVNode)(1,"h3","dms-heading",(0,i.createTextVNode)("Edit Number"),2),(0,i.createVNode)(1,"h4","dms-heading",(0,i.createTextVNode)("Set Value"),2),(0,i.createComponentVNode)(2,u.default,{onInput:this.onInput,type:"number",value:e})],4)}}]),t}(i.Component);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(34)),r=a(n(500)),i=a(n(33));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[i.default,o.default],__init__:["simpleStringEdit"],simpleStringEdit:["type",r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(501),i=(o=r)&&o.__esModule?o:{default:o},a=n(3);var u=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.registerProvider((function(e){return((0,a.isInput)(e.col)||(0,a.isOutput)(e.col))&&"string"===s(e)})),t.onGetComponent("context-menu",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.contextMenuType&&"simple-mode-edit"===e.contextMenuType){if(!e.element)return;var t=s(e.element);if("string"===t)return i.default}}))};function s(e){return(0,a.isInput)(e.col)?e.col&&e.col.businessObject.inputExpression.typeRef:e.col&&e.col.businessObject.typeRef}t.default=u,u.$inject=["components","simpleMode"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=l(n(13)),a=l(n(110)),u=l(n(42)),s=n(3),c=n(502);function l(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r._modeling=n.injector.get("modeling");var i=(0,c.parseString)(e.context.element.businessObject.text);i||(i={values:[],type:"disjunction"});var a=(0,c.getInputOrOutputValues)(e.context.element.col.businessObject),u=i.values.filter((function(e){return!h(a,e)})),l=(0,s.isInput)(e.context.element.col),d=a.map((function(e){return{value:e,isChecked:h(i.values,e),isRemovable:!1,group:"Predefined Values"}}));l&&(d=d.concat(u.map((function(e){return{value:e,isChecked:!0,isRemovable:!0,group:"Custom Values"}}))));var f="";l||!i.values.length||h(a,i.values[0])||(f=i.values[0]),r.state={items:d,unaryTestsType:i.type,inputValue:f,isOutputValueInputChecked:""!==f};var p=n.injector.get("debounceInput");return r.debouncedEditCell=p(r.editCell.bind(r)),r.editCell=r.editCell.bind(r),r.addUnaryTestsListItem=r.addUnaryTestsListItem.bind(r),r.onInput=r.onInput.bind(r),r.onKeyDown=r.onKeyDown.bind(r),r.onOutputValueInputClick=r.onOutputValueInputClick.bind(r),r.onUnaryTestsListChanged=r.onUnaryTestsListChanged.bind(r),r.onUnaryTestsTypeChange=r.onUnaryTestsTypeChange.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"editCell",value:function(e,t){this._modeling.editCell(e,t)}},{key:"onUnaryTestsTypeChange",value:function(e){var t=p(this.state.items),n=this.props.context.element;"disjunction"===e?(this.editCell(n.businessObject,t.join(",")),this.setState({unaryTestsType:"disjunction"})):(this.editCell(n.businessObject,"not("+t.join(",")+")"),this.setState({unaryTestsType:"negation"}))}},{key:"onUnaryTestsListChanged",value:function(e){var t=p(e),n=this.props.context.element;"disjunction"===this.state.unaryTestsType?this.editCell(n.businessObject,t.join(",")):this.editCell(n.businessObject,"not("+t.join(",")+")"),this.setState({items:e,isOutputValueInputChecked:!1})}},{key:"onOutputValueInputClick",value:function(){var e=this.props.context.element,t=this.state,n=t.inputValue,o=t.items,r=(0,c.parseString)(n);!r||r.values.length>1||(this.editCell(e.businessObject,""+r.values.join("")),this.setState({items:o.map((function(e){return e.isChecked=!1,e})),isOutputValueInputChecked:!0}))}},{key:"onInput",value:function(e){var t=e.isValid,n=e.value,o=this.state.isOutputValueInputChecked;this.setState({inputValue:n});var r=this.props.context.element;!(0,s.isInput)(r)&&t&&o&&this.debouncedEditCell(r.businessObject,n)}},{key:"onKeyDown",value:function(e){var t=e.isValid,n=e.event;if(13===n.keyCode){var o=this.props.context.element,r=(0,s.isInput)(o.col);!r&&t||(n.stopPropagation(),n.preventDefault()),t&&(r?this.addUnaryTestsListItem():this.onOutputValueInputClick())}}},{key:"addUnaryTestsListItem",value:function(){var e=this.state,t=e.inputValue,n=e.items,o=e.unaryTestsType,r=(0,c.parseString)(t);if(r){var i=this.props.context.element,a=p(n),u=[].concat(a,r.values);"disjunction"===o?this.editCell(i.businessObject,u.join(",")):this.editCell(i.businessObject,"not("+u.join(",")+")");var s=n.concat(r.values.map((function(e){return{value:e,isChecked:!0,isRemovable:!0,group:"Custom Values"}})));this.setState({items:s,inputValue:""})}}},{key:"render",value:function(){var e=this,t=this.props.context.element,n=this.state,o=n.inputValue,l=n.isOutputValueInputChecked,d=n.items,f=n.unaryTestsType,p=[{label:"Match one",value:"disjunction"},{label:"Match none",value:"negation"}],h=(0,s.isInput)(t.col),y="negation"===f,v=!h&&d.length>0;return(0,r.createVNode)(1,"div","simple-string-edit context-menu-container",[(0,r.createVNode)(1,"h3","dms-heading",(0,r.createTextVNode)("Edit String"),2),h&&(0,r.createVNode)(1,"p",null,(0,r.createComponentVNode)(2,i.default,{noInput:!0,onChange:this.onUnaryTestsTypeChange,options:p,value:y?"negation":"disjunction"},null,(function(t){return e.selectNode=t})),2),(0,r.createComponentVNode)(2,a.default,{onChange:this.onUnaryTestsListChanged,items:d,type:h?"checkbox":"radio"}),h?(0,r.createVNode)(1,"h4","dms-heading",(0,r.createTextVNode)("Add Values"),2):(0,r.createVNode)(1,"h4","dms-heading",(0,r.createTextVNode)("Set Value"),2),(0,r.createVNode)(1,"div","dms-fill-row",[v&&(0,r.createVNode)(64,"input","cursor-pointer",null,1,{checked:l,onClick:this.onOutputValueInputClick,type:"radio",style:{marginRight:"8px"}}),(0,r.createComponentVNode)(2,u.default,{className:"dms-block",onKeyDown:this.onKeyDown,onInput:this.onInput,placeholder:h?'"value", "value", ...':'"value"',type:"text",validate:function(e){if(!(0,c.parseString)(e))return"Strings must be in double quotes."},value:o})],0)],0)}}]),t}(r.Component);function p(e){return e.filter((function(e){return e.isChecked})).map((function(e){return e.value}))}function h(e,t){return-1!==e.indexOf(t)}t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseString=function(e){if(!e||r(e.trim()))return{type:"disjunction",values:[]};var t=e.split(","),n={type:"disjunction",values:[]},o="";if(t.forEach((function(e){/^"[^"]*"$/.test((o+=e).trim())?(n.values.push(o.trim()),o=""):o+=","})),!o)return n;n.type="negation",n.values=[],o="";var i=e.match(/^\s*not\((.*)\)\s*$/);if(i&&((t=i[1].split(",")).forEach((function(e){/^"[^"]*"$/.test((o+=e).trim())?(n.values.push(o.trim()),o=""):o+=","})),!o))return n},t.getInputOrOutputValues=function(e){var t=(0,o.isInput)(e)?e.inputValues:e.outputValues;return!t||r(t.text)?[]:t.text.split(",").map((function(e){return e.trim()}))};var o=n(3);function r(e){return""===e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=l(n(504)),i=l(n(529)),a=l(n(116)),u=l(n(536)),s=l(n(539)),c=l(n(541));function l(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}var y=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"getModules",value:function(){return[].concat(f(r.default._getModules()),f(t._getModules()))}}],[{key:"_getModules",value:function(){return[i.default,a.default,u.default,s.default,c.default]}}]),t}(r.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=p(n(505)),i=n(0),a=n(2),u=p(n(511)),s=p(n(513)),c=p(n(516)),l=p(n(519)),d=p(n(523)),f=p(n(526));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}var g=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v(this,t);var n=t._createContainer(),o=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,i.assign)(e,{renderer:{container:n}})));return o._container=n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"open",value:function(e,t){var n;try{this._decision&&(this.clear(),this.get("eventBus").fire("renderer.unmount")),this._decision=e,this.get("eventBus").fire("import",e),this.get("eventBus").fire("renderer.mount")}catch(e){n=e}return t(n)}},{key:"_init",value:function(e){var t=e.modules,n=e.additionalModules,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["modules","additionalModules"]),r=t||this.getModules(),i=n||[],a=[{viewer:["value",this]}];return{modules:[].concat(y(r),y(i),a),config:o}}},{key:"on",value:function(e,t,n,o){return this.get("eventBus").on(e,t,n,o)}},{key:"off",value:function(e,t){this.get("eventBus").off(e,t)}},{key:"_emit",value:function(e,t){return this.get("eventBus").fire(e,t)}},{key:"getDecision",value:function(){return this._decision}},{key:"attachTo",value:function(e){if(!e)throw new Error("parentNode required");this.detach(),e.appendChild(this._container),this._emit("attach",{})}},{key:"detach",value:function(){var e=this._container;e.parentNode&&(this._emit("detach",{}),(0,a.remove)(e))}},{key:"destroy",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.detach()}},{key:"getModules",value:function(){return t._getModules()}}],[{key:"_getModules",value:function(){return[u.default,s.default,c.default,l.default,d.default,f.default]}},{key:"_createContainer",value:function(){return(0,a.domify)('<div class="dmn-literal-expression-container"></div>')}}]),t}(r.default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(48),i=n(506),a=(o=i)&&o.__esModule?o:{default:o};var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,e);var n=t.injector;if(!n){var o=this._init(t),r=o.modules,i=o.config;n=d(i,r)}this.get=n.get,this.invoke=n.invoke,this.get("eventBus").fire("viewer.init")}return u(e,[{key:"_init",value:function(e){return{modules:e.modules,config:function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["modules"])}}},{key:"destroy",value:function(){this.get("eventBus").fire("viewer.destroy")}},{key:"clear",value:function(){this.get("eventBus").fire("viewer.clear")}}]),e}();function l(e){var t=[],n=[];function o(e){return t.indexOf(e)>=0}e.forEach((function e(r){o(r)||((r.__depends__||[]).forEach(e),o(r)||(!function(e){t.push(e)}(r),(r.__init__||[]).forEach((function(e){n.push(e)}))))}));var i=new r.Injector(t);return n.forEach((function(e){try{i["string"==typeof e?"get":"invoke"](e)}catch(e){throw console.error("Failed to instantiate component"),console.error(e.stack),e}})),i}function d(e,t){return l([{config:["value",e]},a.default].concat(t||[]))}t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(507)),r=u(n(508)),i=u(n(46)),a=u(n(509));function u(e){return e&&e.__esModule?e:{default:e}}t.default={__init__:["changeSupport","components","renderer"],changeSupport:["type",o.default],components:["type",r.default],eventBus:["type",i.default],renderer:["type",a.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._listeners={},t.on("elements.changed",(function(e){var t=e.elements;n.elementsChanged(t)})),t.on("element.updateId",(function(e){var t=e.element,o=e.newId;n.updateId(t.id,o)}))}return o(e,[{key:"elementsChanged",value:function(e){for(var t={},n=e.length,o=0;o<n;o++){var r=e[o].id;if(t[r])return;t[r]=!0;var i=this._listeners[r]&&this._listeners[r].length;if(i)for(var a=0;a<i;a++)this._listeners[r][a]&&this._listeners[r][a]()}}},{key:"onElementsChanged",value:function(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e][this._listeners[e].length]=t}},{key:"offElementsChanged",value:function(e,t){if(this._listeners[e])if(t){var n=this._listeners[e].indexOf(t);-1!==n&&this._listeners[e].splice(n,1)}else this._listeners[e].length=0}},{key:"updateId",value:function(e,t){this._listeners[e]&&(this._listeners[t]=this._listeners[e],delete this._listeners[e])}}]),e}();t.default=r,r.$inject=["eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._listeners={}}return r(e,[{key:"getComponent",value:function(e,t){var n=this._listeners[e];if(n){for(var o=void 0,r=0;r<n.length&&!(o=n[r].callback(t));r++);return o}}},{key:"getComponents",value:function(e,t){var n=this._listeners[e];if(n){for(var o=[],r=0;r<n.length;r++){var i=n[r].callback(t);i&&o.push(i)}if(o.length)return o}}},{key:"onGetComponent",value:function(e,t,n){if((0,o.isFunction)(t)&&(n=t,t=1e3),!(0,o.isNumber)(t))throw new Error("priority must be a number");var r=this._getListeners(e),i=void 0,a=void 0,u={priority:t,callback:n};for(a=0;i=r[a];a++)if(i.priority<t)return void r.splice(a,0,u);r.push(u)}},{key:"offGetComponent",value:function(e,t){var n=this._getListeners(e),o=void 0,r=void 0;if(t)for(r=n.length-1;o=n[r];r--)o.callback===t&&n.splice(r,1);else n.length=0}},{key:"_getListeners",value:function(e){var t=this._listeners[e];return t||(this._listeners[e]=t=[]),t}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=n(510),a=(o=i)&&o.__esModule?o:{default:o};var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var s=function(){function e(t,n,o,i,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var s=o.container;this._container=s,i.on("renderer.mount",(function(){(0,r.render)((0,r.createComponentVNode)(2,a.default,{injector:u}),s)})),i.on("renderer.unmount",(function(){(0,r.render)(null,s)}))}return u(e,[{key:"getContainer",value:function(){return this._container}}]),e}();t.default=s,s.$inject=["changeSupport","components","config.renderer","eventBus","injector"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n._injector=e.injector;return n._changeSupport=r.get("changeSupport"),n._components=r.get("components"),n._renderer=r.get("renderer"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getChildContext",value:function(){return{changeSupport:this._changeSupport,components:this._components,renderer:this._renderer,injector:this._injector}}},{key:"render",value:function(){var e=this._components.getComponents("viewer");return(0,r.createVNode)(1,"div","viewer-container",e&&e.map((function(e,t){return(0,r.createComponentVNode)(2,e,null,t)})),0)}}]),t}(r.Component);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(512),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["elementRegistry"],elementRegistry:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._eventBus=n,this._viewer=t}return o(e,[{key:"getDecision",value:function(){return this._viewer.getDecision()}},{key:"updateId",value:function(e,t){if(e!==this.getDecision())throw new Error("element !== decision");this._eventBus.fire("element.updateId",{element:e,newId:t}),e.id=t}}]),e}();t.default=r,r.$inject=["viewer","eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(514),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["decisionProperties"],decisionProperties:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(515),i=(o=r)&&o.__esModule?o:{default:o};var a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("viewer",2e3,(function(){return i.default}))};t.default=a,a.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._viewer=n.injector.get("viewer"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this._viewer.getDecision(),t=e.name,n=e.id;return(0,r.createVNode)(1,"div","decision-properties",[(0,r.createVNode)(1,"h3","decision-name",t,0),(0,r.createVNode)(1,"h5","decision-id",n,0)],4)}}]),t}(r.Component);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(517),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["literalExpressionProperties"],literalExpressionProperties:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(518),i=(o=r)&&o.__esModule?o:{default:o};var a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("viewer",500,(function(){return i.default}))};t.default=a,a.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._viewer=n.injector.get("viewer"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this._viewer.getDecision(),t=e.literalExpression,n=e.variable;return(0,r.createVNode)(1,"div","literal-expression-properties",(0,r.createVNode)(1,"table",null,[(0,r.createVNode)(1,"tr",null,[(0,r.createVNode)(1,"td",null,(0,r.createTextVNode)("Variable Name:"),2),(0,r.createVNode)(1,"td",null,(0,r.createVNode)(1,"span",null,n.name||"-",0),2)],4),(0,r.createVNode)(1,"tr",null,[(0,r.createVNode)(1,"td",null,(0,r.createTextVNode)("Variable Type:"),2),(0,r.createVNode)(1,"td",null,(0,r.createVNode)(1,"span",null,n.typeRef||"-",0),2)],4),(0,r.createVNode)(1,"tr",null,[(0,r.createVNode)(1,"td",null,(0,r.createTextVNode)("Expression Language:"),2),(0,r.createVNode)(1,"td",null,(0,r.createVNode)(1,"span",null,t.expressionLanguage||"-",0),2)],4)],4),2)}}]),t}(r.Component);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(520),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["poweredBy"],poweredBy:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(521)),r=i(n(522));function i(e){return e&&e.__esModule?e:{default:e}}var a=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("viewer",2e3,(function(){return o.default})),t.onGetComponent("viewer",(function(){return r.default}))};t.default=a,a.$inject=["components","eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.onClick=function(){r._eventBus.fire("poweredBy.show")};var i=n.injector;return r._eventBus=i.get("eventBus"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this;return(0,r.createVNode)(1,"div","powered-by-logo",(0,r.createVNode)(1,"img","logo",null,1,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC"}),2,{onClick:this.onClick,title:"Powered by bpmn.io"},null,(function(t){return e.node=t}))}}]),t}(r.Component);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={show:!1},n.onClick=n.onClick.bind(n),n.onShow=n.onShow.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"onClick",value:function(){this.setState({show:!1})}},{key:"onShow",value:function(){this.setState({show:!0})}},{key:"componentWillMount",value:function(){(this._eventBus=this.context.injector.get("eventBus")).on("poweredBy.show",this.onShow)}},{key:"componentWillUnmount",value:function(){this._eventBus.off("poweredBy.show",this.onShow)}},{key:"render",value:function(){return this.state.show&&(0,r.createVNode)(1,"div","powered-by-overlay",(0,r.createVNode)(1,"div","powered-by-overlay-content",[(0,r.createVNode)(1,"div",null,(0,r.createVNode)(1,"img","logo",null,1,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC"}),2),(0,r.createVNode)(1,"div",null,[(0,r.createTextVNode)("Web-based tooling for BPMN, DMN and CMMN diagrams powered by "),(0,r.createVNode)(1,"a",null,(0,r.createTextVNode)("bpmn.io"),2,{href:"http://bpmn.io",target:"_blank"}),(0,r.createTextVNode)(".")],4)],4,{onClick:function(e){return e.stopPropagation()}}),2,{onClick:this.onClick})}}]),t}(r.Component);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(524),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["textarea"],textarea:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(525),i=(o=r)&&o.__esModule?o:{default:o};var a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("viewer",(function(){return i.default}))};t.default=a,a.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._viewer=n.injector.get("viewer"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this._viewer.getDecision().literalExpression.text;return(0,r.createVNode)(1,"div","textarea",(0,r.createVNode)(1,"div","content",e,0),2)}}]),t}(r.Component);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(527),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["viewDrd"],viewDrd:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(528),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var u=function(){function e(t,n,o,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._injector=r,this._viewer=n,t.onGetComponent("viewer",1500,(function(){if(a.canViewDrd())return i.default})),o.on("showDrd",(function(){var e=r.get("_parent",!1),t=a.getDefinitions(),n=e.getView(t);e.open(n)}))}return a(e,[{key:"canViewDrd",value:function(){var e=this._injector.get("_parent",!1);if(e){var t=this.getDefinitions();return!!e.getView(t)}}},{key:"getDefinitions",value:function(){return this._viewer.getDecision().$parent}}]),e}();t.default=u,u.$inject=["components","viewer","eventBus","injector"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.onClick=function(){r._eventBus.fire("showDrd")};var i=n.injector;return r._eventBus=i.get("eventBus"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this;return(0,r.createVNode)(1,"div","view-drd",(0,r.createVNode)(1,"button","view-drd-button",(0,r.createTextVNode)("View DRD"),2,{onClick:this.onClick}),2,null,null,(function(t){return e.node=t}))}}]),t}(r.Component);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(530)),r=i(n(20));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[r.default],__init__:["decisionProperties"],decisionProperties:["type",o.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(531),i=(o=r)&&o.__esModule?o:{default:o};var a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("viewer",2e3,(function(){return i.default}))};t.default=a,a.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(111),u=n(27),s=(o=u)&&o.__esModule?o:{default:o};var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(e,n){l(this,t);var o=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.onElementsChanged=function(){o.forceUpdate()},o.setDecisionName=function(e){o._modeling.editDecisionName(e)},o.setDecisionId=function(e){o.getDecision().id!==e&&o._modeling.editDecisionId(e)},o.validateId=function(e){return(0,a.validateId)(o.getDecision(),e)},o._viewer=n.injector.get("viewer"),o._modeling=n.injector.get("modeling"),o.setupChangeListeners({bind:o.getDecision().id}),o}return f(t,e),c(t,[{key:"componentWillUnmount",value:function(){this.setupChangeListeners({unbind:this.getDecision().id})}},{key:"getDecision",value:function(){return this._viewer.getDecision()}},{key:"setupChangeListeners",value:function(e){var t=e.bind,n=e.unbind,o=this.context.changeSupport;"string"==typeof n&&o.offElementsChanged(n,this.onElementsChanged),"string"==typeof t&&o.onElementsChanged(t,this.onElementsChanged)}},{key:"render",value:function(){var e=this.getDecision(),t=e.name,n=e.id;return(0,i.createVNode)(1,"header","decision-properties",[(0,i.createComponentVNode)(2,h,{className:"decision-name editor",value:t,onChange:this.setDecisionName}),(0,i.createComponentVNode)(2,y,{className:"decision-id editor",value:n,validate:this.validateId,onChange:this.setDecisionId})],4)}}]),t}(i.Component);t.default=p;var h=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),c(t,[{key:"render",value:function(){return(0,i.createVNode)(1,"h3",this.getClassName(),this.getEditor(),0)}}]),t}(s.default),y=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),c(t,[{key:"render",value:function(){return(0,i.createVNode)(1,"h5",this.getClassName(),this.getEditor(),0)}}]),t}(s.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(533),i=(o=r)&&o.__esModule?o:{default:o};t.default={__init__:["editorActions"],editorActions:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._actions={undo:function(){t.undo()},redo:function(){t.redo()}}}return r(e,[{key:"trigger",value:function(e,t){if(!this._actions[e])throw a(e,"is not a registered action");return this._actions[e](t)}},{key:"register",value:function(e,t){var n=this;if("string"==typeof e)return this._registerAction(e,t);(0,o.forEach)(e,(function(e,t){n._registerAction(t,e)}),this)}},{key:"_registerAction",value:function(e,t){if(this.isRegistered(e))throw a(e,"is already registered");this._actions[e]=t}},{key:"unregister",value:function(e){if(!this.isRegistered(e))throw a(e,"is not a registered action");this._actions[e]=void 0}},{key:"isRegistered",value:function(e){return!!this._actions[e]}}]),e}();function a(e,t){return new Error(e+" "+t)}t.default=i,i.$inject=["commandStack","eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(535),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._init=function(){i._registerDefaultBindings(),i._fire("init")},this._destroy=function(){i._fire("destroy"),i.unbind(),i._listeners=null},this._keyHandler=function(e){var t,n,o=i._listeners,r=e.keyCode||e.charCode||-1;for(t=0;n=o[t];t++)if(n(r,e))return e.preventDefault(),void e.stopPropagation()},this.unbind=function(){var e=i._node;e&&(i._fire("unbind"),o.event.unbind(e,"keydown",i._keyHandler,!0)),i._node=null},this._config=t||{},this._eventBus=n,this._editorActions=r,this._listeners=[],n.on("viewer.destroy",this._destroy),n.on("viewer.init",this._init),n.on("attach",(function(){i._config.bindTo&&i.bind(t.bindTo)})),n.on("detach",this.unbind)}return i(e,[{key:"bind",value:function(e){this.unbind(),this._node=e,o.event.bind(e,"keydown",this._keyHandler,!0),this._fire("bind")}},{key:"getBinding",value:function(){return this._node}},{key:"_fire",value:function(e){this._eventBus.fire("keyboard."+e,{node:this._node,listeners:this._listeners})}},{key:"_registerDefaultBindings",value:function(){var e=this._listeners,t=this._editorActions;e.push((function(e,n){if((0,r.isCmd)(n)&&!(0,r.isShift)(n)&&90===e)return t.trigger("undo"),!0})),e.push((function(e,n){if((0,r.isCmd)(n)&&(89===e||90===e&&(0,r.isShift)(n)))return t.trigger("redo"),!0}))}},{key:"addListener",value:function(e){this._listeners.unshift(e)}},{key:"removeListener",value:function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))}}]),e}();t.default=a,a.$inject=["config.keyboard","eventBus","editorActions"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasModifier=function(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey},t.isCmd=function(e){if(e.altKey)return!1;return e.ctrlKey||e.metaKey},t.isShift=function(e){return e.shiftKey}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(537)),r=a(n(20)),i=a(n(116));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[r.default,i.default],__init__:["literalExpressionProperties"],literalExpressionProperties:["type",o.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(538),i=(o=r)&&o.__esModule?o:{default:o};var a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("viewer",500,(function(){return i.default}))};t.default=a,a.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),i=u(n(28)),a=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var c=[{label:"FEEL",value:"feel"},{label:"JUEL",value:"juel"},{label:"JavaScript",value:"javascript"},{label:"Groovy",value:"groovy"},{label:"Python",value:"python"},{label:"JRuby",value:"jruby"}],l=[{label:"string",value:"string"},{label:"boolean",value:"boolean"},{label:"integer",value:"integer"},{label:"long",value:"long"},{label:"double",value:"double"},{label:"date",value:"date"}],d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r._viewer=n.injector.get("viewer"),r._modeling=n.injector.get("modeling");var i,a=r._viewer.getDecision();return r.state={name:a.variable.name,typeRef:a.variable.typeRef,expressionLanguage:(i=a.literalExpression,i&&i.expressionLanguage?i.expressionLanguage.toLowerCase():void 0)},r.setVariableName=r.setVariableName.bind(r),r.setVariableType=r.setVariableType.bind(r),r.setExpressionLanguage=r.setExpressionLanguage.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"setVariableName",value:function(e){this._modeling.editVariableName(e),this.setState({name:e})}},{key:"setVariableType",value:function(e){""===e?(this._modeling.editVariableType(void 0),this.setState({typeRef:void 0})):(this._modeling.editVariableType(e),this.setState({typeRef:e}))}},{key:"setExpressionLanguage",value:function(e){""===e?(this._modeling.editExpressionLanguage(void 0),this.setState({expressionLanguage:void 0})):(this._modeling.editExpressionLanguage(e),this.setState({expressionLanguage:e}))}},{key:"render",value:function(){var e=this.state,t=e.expressionLanguage,n=e.name,o=e.typeRef;return(0,r.createVNode)(1,"div","literal-expression-properties",(0,r.createVNode)(1,"table",null,[(0,r.createVNode)(1,"tr",null,[(0,r.createVNode)(1,"td",null,(0,r.createTextVNode)("Variable Name:"),2),(0,r.createVNode)(1,"td",null,(0,r.createComponentVNode)(2,i.default,{className:"variable-name-input",onInput:this.setVariableName,placeholder:"name",value:n||""}),2)],4),(0,r.createVNode)(1,"tr",null,[(0,r.createVNode)(1,"td",null,(0,r.createTextVNode)("Variable Type:"),2),(0,r.createVNode)(1,"td",null,(0,r.createVNode)(1,"div","dms-fill-row",(0,r.createComponentVNode)(2,a.default,{onChange:this.setVariableType,options:l,value:o,className:"variable-type-select dms-block"}),2),2)],4),(0,r.createVNode)(1,"tr",null,[(0,r.createVNode)(1,"td",null,(0,r.createTextVNode)("Expression Language:"),2),(0,r.createVNode)(1,"td",null,(0,r.createVNode)(1,"div","dms-fill-row",(0,r.createComponentVNode)(2,a.default,{onChange:this.setExpressionLanguage,options:c,value:t,className:"expression-language-select dms-block"}),2),2)],4)],4),2)}}]),t}(r.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(91)),r=a(n(112)),i=a(n(540));function a(e){return e&&e.__esModule?e:{default:e}}t.default={__init__:["idChangeBehavior","modeling"],commandStack:["type",o.default],idChangeBehavior:["type",r.default],modeling:["type",i.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(0),i=n(113),a=(o=i)&&o.__esModule?o:{default:o};var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var s=function(){function e(t,n,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._commandStack=t,this._viewer=n,this._eventBus=o,o.on("viewer.init",(function(){!function(e,t){(0,r.forEach)(e,(function(e,n){t.registerHandler(n,e)}))}(i.getHandlers(),t)}))}return u(e,[{key:"getHandlers",value:function(){return e._getHandlers()}},{key:"getDecision",value:function(){return this._viewer.getDecision()}},{key:"editDecisionName",value:function(e){var t={element:this.getDecision(),properties:{name:e}};this._commandStack.execute("updateProperties",t)}},{key:"editDecisionId",value:function(e){var t={element:this.getDecision(),properties:{id:e}};this._commandStack.execute("updateProperties",t)}},{key:"editLiteralExpressionText",value:function(e){var t={element:this.getDecision().literalExpression,properties:{text:e}};this._commandStack.execute("updateProperties",t)}},{key:"editExpressionLanguage",value:function(e){var t={element:this.getDecision().literalExpression,properties:{expressionLanguage:e}};this._commandStack.execute("updateProperties",t)}},{key:"editVariableName",value:function(e){var t={element:this.getDecision().variable,properties:{name:e}};this._commandStack.execute("updateProperties",t)}},{key:"editVariableType",value:function(e){var t={element:this.getDecision().variable,properties:{typeRef:e}};this._commandStack.execute("updateProperties",t)}}],[{key:"_getHandlers",value:function(){return{updateProperties:a.default}}}]),e}();t.default=s,s.$inject=["commandStack","viewer","eventBus"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(542)),r=i(n(20));function i(e){return e&&e.__esModule?e:{default:e}}t.default={__depends__:[r.default],__init__:["textarea"],textarea:["type",o.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(543),i=(o=r)&&o.__esModule?o:{default:o};var a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.onGetComponent("viewer",(function(){return i.default}))};t.default=a,a.$inject=["components"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(27),u=(o=a)&&o.__esModule?o:{default:o};var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(e,n){c(this,t);var o=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o._modeling=n.injector.get("modeling"),o._viewer=n.injector.get("viewer"),o.editLiteralExpressionText=o.editLiteralExpressionText.bind(o),o.onElementsChanged=o.onElementsChanged.bind(o);var r=o.getLiteralExpression().id;return n.changeSupport.onElementsChanged(r,o.onElementsChanged),o}return d(t,e),s(t,[{key:"getLiteralExpression",value:function(){return this._viewer.getDecision().literalExpression}},{key:"onElementsChanged",value:function(){this.forceUpdate()}},{key:"editLiteralExpressionText",value:function(e){this._modeling.editLiteralExpressionText(e)}},{key:"render",value:function(){var e=this.getLiteralExpression().text;return(0,i.createComponentVNode)(2,p,{className:"textarea editor",value:e,onChange:this.editLiteralExpressionText})}}]),t}(i.Component);t.default=f;var p=function(e){function t(){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),s(t,[{key:"render",value:function(){return(0,i.createVNode)(1,"div",this.getClassName(),this.getEditor(),0)}}]),t}(u.default)},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n<definitions xmlns="http://www.omg.org/spec/DMN/20151101/dmn.xsd" xmlns:biodi="http://bpmn.io/schema/dmn/biodi/1.0" xmlns:camunda="http://camunda.org/schema/1.0/dmn" id="dinnerDecisions" name="Dinner Decisions" namespace="http://camunda.org/schema/1.0/dmn">\n  <decision id="beverages" name="Beverages">\n    <extensionElements>\n      <biodi:bounds x="462" y="16" width="180" height="80" />\n      <biodi:edge source="Decision_0v6lvdk">\n        <biodi:waypoints x="104" y="338" />\n        <biodi:waypoints x="163" y="264" />\n      </biodi:edge>\n      <biodi:edge source="InputData_0pgvdj9">\n        <biodi:waypoints x="642" y="169" />\n        <biodi:waypoints x="595" y="96" />\n      </biodi:edge>\n      <biodi:edge source="dish">\n        <biodi:waypoints x="454" y="170" />\n        <biodi:waypoints x="530" y="96" />\n      </biodi:edge>\n    </extensionElements>\n    <informationRequirement>\n      <requiredInput href="#InputData_0pgvdj9" />\n    </informationRequirement>\n    <informationRequirement>\n      <requiredDecision href="#dish" />\n    </informationRequirement>\n    <decisionTable hitPolicy="COLLECT">\n      <input id="InputClause_1acmlkd" label="Dish" camunda:inputVariable="">\n        <inputExpression id="LiteralExpression_0bqgrlg" typeRef="string">        <text>desiredDish</text>\n</inputExpression>\n      </input>\n      <input id="InputClause_0bo3uen" label="Guests with children" camunda:inputVariable="">\n        <inputExpression id="LiteralExpression_0d6l79o" typeRef="boolean">        <text>guestsWithChildren</text>\n</inputExpression>\n      </input>\n      <output id="OuputClause_99999" label="Beverages" name="beverages" typeRef="string" />\n      <rule id="row-506282952-7">\n        <description>Tough Stuff</description>\n        <inputEntry id="UnaryTests_03g3ci0">        <text><![CDATA["Spareribs"]]></text>\n</inputEntry>\n        <inputEntry id="UnaryTests_0jb8hau">        <text>true</text>\n</inputEntry>\n        <outputEntry id="LiteralExpression_1kr45vj">        <text><![CDATA["Aecht Schlenkerla Rauchbier"]]></text>\n</outputEntry>\n      </rule>\n      <rule id="row-506282952-8">\n        <inputEntry id="UnaryTests_1ckv0bb">        <text><![CDATA["Stew"]]></text>\n</inputEntry>\n        <inputEntry id="UnaryTests_1joyits">        <text>true</text>\n</inputEntry>\n        <outputEntry id="LiteralExpression_139n7gl">        <text><![CDATA["Guiness"]]></text>\n</outputEntry>\n      </rule>\n      <rule id="row-506282952-9">\n        <inputEntry id="UnaryTests_05rspiy">        <text><![CDATA["Roastbeef"]]></text>\n</inputEntry>\n        <inputEntry id="UnaryTests_15yl6ki">        <text>true</text>\n</inputEntry>\n        <outputEntry id="LiteralExpression_0bzfo47">        <text><![CDATA["Bordeaux"]]></text>\n</outputEntry>\n      </rule>\n      <rule id="row-506282952-10">\n        <inputEntry id="UnaryTests_0mk75lc">        <text><![CDATA["Steak","Dry Aged Gourmet Steak","Light Salad and a nice Steak"]]></text>\n</inputEntry>\n        <inputEntry id="UnaryTests_18uxmko">        <text>true</text>\n</inputEntry>\n        <outputEntry id="LiteralExpression_00nwn3e">        <text><![CDATA["Pinot Noir"]]></text>\n</outputEntry>\n      </rule>\n      <rule id="row-506282952-11">\n        <inputEntry id="UnaryTests_11o8pqj">        <text></text>\n</inputEntry>\n        <inputEntry id="UnaryTests_1298ow3">        <text>true</text>\n</inputEntry>\n        <outputEntry id="LiteralExpression_0z18erz">        <text><![CDATA["Apple Juice"]]></text>\n</outputEntry>\n      </rule>\n      <rule id="row-506282952-12">\n        <inputEntry id="UnaryTests_0shocr0">        <text></text>\n</inputEntry>\n        <inputEntry id="UnaryTests_0nblyrk">        <text>false</text>\n</inputEntry>\n        <outputEntry id="LiteralExpression_0s2fq8r">        <text><![CDATA["Water"]]></text>\n</outputEntry>\n      </rule>\n    </decisionTable>\n  </decision>\n  <decision id="dish" name="Dish">\n    <extensionElements>\n      <biodi:bounds x="323" y="170" width="180" height="80" />\n      <biodi:edge source="KnowledgeSource_0b8hnqo">\n        <biodi:waypoints x="201" y="215" />\n        <biodi:waypoints x="323" y="208" />\n      </biodi:edge>\n      <biodi:edge source="InputData_0rin549">\n        <biodi:waypoints x="317" y="329" />\n        <biodi:waypoints x="377" y="250" />\n      </biodi:edge>\n      <biodi:edge source="InputData_1axnom3">\n        <biodi:waypoints x="506" y="331" />\n        <biodi:waypoints x="448" y="250" />\n      </biodi:edge>\n    </extensionElements>\n    <informationRequirement>\n      <requiredInput href="#InputData_0rin549" />\n    </informationRequirement>\n    <informationRequirement>\n      <requiredInput href="#InputData_1axnom3" />\n    </informationRequirement>\n    <authorityRequirement>\n      <requiredAuthority href="#KnowledgeSource_0b8hnqo" />\n    </authorityRequirement>\n    <decisionTable id="DecisionTable_040j91i">\n      <input id="InputClause_0bbq1z8" label="Season" camunda:inputVariable="">\n        <inputExpression id="LiteralExpression_1iwaqcz" typeRef="string">        <text>season</text>\n</inputExpression>\n      </input>\n      <input id="InputClause_0pcbpc9" label="How many guests" camunda:inputVariable="">\n        <inputExpression id="LiteralExpression_1uu3xe6" typeRef="integer">        <text>guestCount</text>\n</inputExpression>\n      </input>\n      <output id="OutputClause_0lfar1z" label="Dish" name="desiredDish" typeRef="string" />\n      <rule id="row-884555325-1">\n        <description>Default value</description>\n        <inputEntry id="UnaryTests_0cy7usy">        <text><![CDATA[not("Fall", "Winter", "Spring", "Summer")]]></text>\n</inputEntry>\n        <inputEntry id="UnaryTests_0ww352f">        <text><![CDATA[>= 0]]></text>\n</inputEntry>\n        <outputEntry id="LiteralExpression_07xyqqp">        <text><![CDATA["Instant Soup"]]></text>\n</outputEntry>\n      </rule>\n      <rule id="row-506282952-1">\n        <inputEntry id="UnaryTests_06z2ju4">        <text><![CDATA["Fall"]]></text>\n</inputEntry>\n        <inputEntry id="UnaryTests_0ph5qbt">        <text><![CDATA[<= 8]]></text>\n</inputEntry>\n        <outputEntry id="LiteralExpression_0sntjhd">        <text><![CDATA["Spareribs"]]></text>\n</outputEntry>\n      </rule>\n      <rule id="row-506282952-2">\n        <inputEntry id="UnaryTests_0o5o0mm">        <text><![CDATA["Winter"]]></text>\n</inputEntry>\n        <inputEntry id="UnaryTests_0rtyr8x">        <text><![CDATA[<= 8]]></text>\n</inputEntry>\n        <outputEntry id="LiteralExpression_15nybba">        <text><![CDATA["Roastbeef"]]></text>\n</outputEntry>\n      </rule>\n      <rule id="row-506282952-3">\n        <inputEntry id="UnaryTests_1f00omt">        <text><![CDATA["Spring"]]></text>\n</inputEntry>\n        <inputEntry id="UnaryTests_03yxt5d">        <text><![CDATA[<= 4]]></text>\n</inputEntry>\n        <outputEntry id="LiteralExpression_1ki86jo">        <text><![CDATA["Dry Aged Gourmet Steak"]]></text>\n</outputEntry>\n      </rule>\n      <rule id="row-506282952-4">\n        <description>Save money</description>\n        <inputEntry id="UnaryTests_18csep1">        <text><![CDATA["Spring"]]></text>\n</inputEntry>\n        <inputEntry id="UnaryTests_1lt4o3q">        <text>[5..8]</text>\n</inputEntry>\n        <outputEntry id="LiteralExpression_1h969t1">        <text><![CDATA["Steak"]]></text>\n</outputEntry>\n      </rule>\n      <rule id="row-506282952-5">\n        <description>Less effort</description>\n        <inputEntry id="UnaryTests_0cp9scy">        <text><![CDATA["Fall","Winter","Spring"]]></text>\n</inputEntry>\n        <inputEntry id="UnaryTests_1to1xxg">        <text><![CDATA[> 8]]></text>\n</inputEntry>\n        <outputEntry id="LiteralExpression_0fjt4uo">        <text><![CDATA["Stew"]]></text>\n</outputEntry>\n      </rule>\n      <rule id="row-506282952-6">\n        <description>Hey, why not?</description>\n        <inputEntry id="UnaryTests_0s5azk4">        <text><![CDATA["Summer"]]></text>\n</inputEntry>\n        <inputEntry id="UnaryTests_1nuzyri">        <text></text>\n</inputEntry>\n        <outputEntry id="LiteralExpression_0nspzk1">        <text><![CDATA["Light Salad and a nice Steak"]]></text>\n</outputEntry>\n      </rule>\n    </decisionTable>\n  </decision>\n  <inputData id="InputData_0rin549" name="Season">\n    <extensionElements>\n      <biodi:bounds x="236" y="329" width="125" height="45" />\n    </extensionElements>\n  </inputData>\n  <inputData id="InputData_1axnom3" name="Number of Guests">\n    <extensionElements>\n      <biodi:bounds x="459" y="331" width="125" height="45" />\n    </extensionElements>\n  </inputData>\n  <inputData id="InputData_0pgvdj9" name="Guests with children?">\n    <extensionElements>\n      <biodi:bounds x="590" y="169" width="125" height="45" />\n    </extensionElements>\n  </inputData>\n  <knowledgeSource id="KnowledgeSource_0b8hnqo" name="Men&#39;s Cookbook">\n    <extensionElements>\n      <biodi:bounds x="101" y="183" width="100" height="63" />\n    </extensionElements>\n  </knowledgeSource>\n</definitions>\n'},function(e,t,n){var o=n(546);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(43)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){}]);